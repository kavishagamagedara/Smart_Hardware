/*! For license information please see main.0957296d.js.LICENSE.txt */
(()=>{"use strict";var e={579:(e,t,n)=>{e.exports=n(2799)},2284:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},4288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,f(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function k(e,t,r,a,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(){}function L(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case h:return L((d=e._init)(e._payload),t,a,i,s)}}if(d)return s=s(e),d=""===i?"."+A(e,0):i,w(s)?(a="",null!=d&&(a=d.replace(S,"$&/")+"/"),L(s,t,a,"",function(e){return e})):null!=s&&(_(s)&&(l=s,c=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+d,s=k(l.type,c,void 0,0,0,l.props)),t.push(s)),1;d=0;var u,m=""===i?".":i+":";if(w(e))for(var f=0;f<e.length;f++)d+=L(i=e[f],t,a,o=m+A(i,f),s);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(i=e.next()).done;)d+=L(i=i.value,t,a,o=m+A(i,f++),s);else if("object"===o){if("function"===typeof e.then)return L(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function P(e,t,n){if(null==e)return e;var r=[],a=0;return L(e,r,"","",function(e){return t.call(n,e,a++)}),r}function E(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function T(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=f({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!N.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return k(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)N.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return k(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),a=j.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(T,F)}catch(i){F(i)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.1"},4391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4980:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(2284);function a(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=(0,r.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{e.exports=n(4288)},5896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,n))c<a&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,v=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(v=!1,w(e),!f)if(null!==r(c))f=!0,k||(k=!0,N());else{var t=r(d);null!==t&&F(j,t.startTime-e)}}var N,k=!1,_=-1,S=5,A=-1;function C(){return!!g||!(t.unstable_now()-A<S)}function L(){if(g=!1,k){var e=t.unstable_now();A=e;var n=!0;try{e:{f=!1,v&&(v=!1,b(_),_=-1),m=!0;var i=p;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&a(c),w(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(d);null!==l&&F(j,l.startTime-e),n=!1}}break e}finally{h=null,p=i,m=!1}n=void 0}}finally{n?N():k=!1}}}if("function"===typeof x)N=function(){x(L)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,E=P.port2;P.port1.onmessage=L,N=function(){E.postMessage(null)}}else N=function(){y(L,0)};function F(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(v?(b(_),_=-1):v=!0,F(j,i-s))):(e.sortIndex=o,n(c,e),f||m||(f=!0,k||(k=!0,N()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},6672:(e,t,n)=>{var r=n(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},7004:(e,t,n)=>{var r=n(8853),a=n(5043),i=n(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var L=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var E=Symbol.for("react.client.reference");function F(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===E?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case y:return"Profiler";case g:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return F(e(t))}catch(va){}}return null}var T=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},I=[],M=-1;function B(e){return{current:e}}function U(e){0>M||(e.current=I[M],I[M]=null,M--)}function z(e,t){M++,I[M]=e.current,e.current=t}var q=B(null),V=B(null),H=B(null),W=B(null);function G(e,t){switch(z(H,t),z(V,e),z(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?iu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=su(t=iu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(q),z(q,e)}function Y(){U(q),U(V),U(H)}function K(e){null!==e.memoizedState&&z(W,e);var t=q.current,n=su(t,e.type);t!==n&&(z(V,e),z(q,n))}function $(e){V.current===e&&(U(q),U(V)),W.current===e&&(U(W),$u._currentValue=O)}var J=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,Q=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,de=null,ue=null;function he(e){if("function"===typeof le&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(me(e)/fe|0)|0},me=Math.log,fe=Math.LN2;var ve=256,ge=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?a=ye(r):0!==(s&=o)?a=ye(s):n||0!==(n=o&~e)&&(a=ye(n)):0!==(o=r&~i)?a=ye(o):0!==s?a=ye(s):n||0!==(n=r&~e)&&(a=ye(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:a}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ve;return 0===(4194048&(ve<<=1))&&(ve=256),e}function Ne(){var e=ge;return 0===(62914560&(ge<<=1))&&(ge=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Ee=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Ee,Te="__reactProps$"+Ee,Re="__reactContainer$"+Ee,De="__reactEvents$"+Ee,Oe="__reactListeners$"+Ee,Ie="__reactHandles$"+Ee,Me="__reactResources$"+Ee,Be="__reactMarker$"+Ee;function Ue(e){delete e[Fe],delete e[Te],delete e[De],delete e[Oe],delete e[Ie]}function ze(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xu(e);null!==e;){if(n=e[Fe])return n;e=xu(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[Fe]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Be]=!0}var Ge=new Set,Ye={};function Ke(e,t){$e(e,t),$e(e+"Capture",t)}function $e(e,t){for(Ye[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Je,Xe,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,J.call(et,a)||!J.call(Ze,a)&&(Qe.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Je)try{throw Error()}catch(va){var t=va.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Xe=-1<va.stack.indexOf("\n    at")?" (<anonymous>)":-1<va.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Xe}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(va){var r=va}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(va){return"\nError generating stack: "+va.message+"\n"+va.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,a,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function gt(e,t,n,r,a,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(T(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&kt(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&kt(e,i,t[i])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Et(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ft=null,Tt=null;function Rt(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[Te]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Te]||null;if(!a)throw Error(s(90));vt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Ot(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Ft||null!==Tt)&&(qc(),Ft&&(t=Ft,e=Tt,Tt=Ft=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function It(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Te]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Mt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Rh){Bt=!1}var zt=null,qt=null,Vt=null;function Ht(){if(Vt)return Vt;var e,t,n=qt,r=n.length,a="value"in zt?zt.value:zt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Vt=a.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Yt(){return!1}function Kt(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Gt:Yt,this.isPropagationStopped=Yt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var $t,Jt,Xt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Qt),en=h({},Qt,{view:0,detail:0}),tn=Kt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?($t=e.screenX-Xt.screenX,Jt=e.screenY-Xt.screenY):Jt=$t=0,Xt=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),rn=Kt(nn),an=Kt(h({},nn,{dataTransfer:0})),sn=Kt(h({},en,{relatedTarget:0})),on=Kt(h({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Kt(h({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Kt(h({},Qt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function mn(){return pn}var fn=Kt(h({},en,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Kt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Kt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),yn=Kt(h({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Kt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Kt(h({},Qt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=Mt&&"CompositionEvent"in window,Nn=null;Mt&&"documentMode"in document&&(Nn=document.documentMode);var kn=Mt&&"TextEvent"in window&&!Nn,_n=Mt&&(!jn||Nn&&8<Nn&&11>=Nn),Sn=String.fromCharCode(32),An=!1;function Cn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!En[e.type]:"textarea"===t}function Tn(e,t,n,r){Ft?Tt?Tt.push(r):Tt=[r]:Ft=r,0<(t=Wd(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,Dn=null;function On(e){Id(e,0)}function In(e){if(ht(Ve(e)))return e}function Mn(e,t){if("change"===e)return t}var Bn=!1;if(Mt){var Un;if(Mt){var zn="oninput"in document;if(!zn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),zn="function"===typeof qn.oninput}Un=zn}else Un=!1;Bn=Un&&(!document.documentMode||9<document.documentMode)}function Vn(){Rn&&(Rn.detachEvent("onpropertychange",Hn),Dn=Rn=null)}function Hn(e){if("value"===e.propertyName&&In(Dn)){var t=[];Tn(t,Dn,e,Et(e)),Ot(On,t)}}function Wn(e,t,n){"focusin"===e?(Vn(),Dn=n,(Rn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Vn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return In(Dn)}function Yn(e,t){if("click"===e)return In(t)}function Kn(e,t){if("input"===e||"change"===e)return In(t)}var $n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if($n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!J.call(t,a)||!$n(e[a],t[a]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Mt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,ir=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Jn(ir,r)||(ir=r,0<(r=Wd(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},dr={},ur={};function hr(e){if(dr[e])return dr[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in ur)return dr[e]=n[t];return e}Mt&&(ur=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),mr=hr("animationiteration"),fr=hr("animationstart"),vr=hr("transitionrun"),gr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){xr.set(e,t),Ke(t,[e])}wr.push("scrollEnd");var Nr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Nr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Nr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var _r=[],Sr=0,Ar=0;function Cr(){for(var e=Sr,t=Ar=Sr=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var a=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,null!==r&&null!==a){var s=r.pending;null===s?a.next=a:(a.next=s.next,s.next=a),r.pending=a}0!==i&&Fr(n,a,i)}}function Lr(e,t,n,r){_r[Sr++]=e,_r[Sr++]=t,_r[Sr++]=n,_r[Sr++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Lr(e,t,n,r),Tr(e)}function Er(e,t){return Lr(e,null,null,t),Tr(e)}function Fr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-pe(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function Tr(e){if(50<Tc)throw Tc=0,Rc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new Dr(e,t,n,r)}function Ir(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mr(e,t){var n=e.alternate;return null===n?((n=Or(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,a,i){var o=0;if(r=e,"function"===typeof e)Ir(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Or(31,n,t,a)).elementType=A,e.lanes=i,e;case v:return zr(n.children,a,i,t);case g:o=8,a|=24;break;case y:return(e=Or(12,n,t,2|a)).elementType=y,e.lanes=i,e;case N:return(e=Or(13,n,t,a)).elementType=N,e.lanes=i,e;case k:return(e=Or(19,n,t,a)).elementType=k,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case j:o=11;break e;case _:o=14;break e;case S:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Or(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function zr(e,t,n,r){return(e=Or(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Or(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=Or(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Wr=0,Gr=null,Yr=0,Kr=[],$r=0,Jr=null,Xr=1,Qr="";function Zr(e,t){Hr[Wr++]=Yr,Hr[Wr++]=Gr,Gr=e,Yr=t}function ea(e,t,n){Kr[$r++]=Xr,Kr[$r++]=Qr,Kr[$r++]=Jr,Jr=e;var r=Xr;e=Qr;var a=32-pe(r)-1;r&=~(1<<a),n+=1;var i=32-pe(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Xr=1<<32-pe(t)+a|n<<a|r,Qr=i+e}else Xr=1<<i|n<<a|r,Qr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===Gr;)Gr=Hr[--Wr],Hr[Wr]=null,Yr=Hr[--Wr],Hr[Wr]=null;for(;e===Jr;)Jr=Kr[--$r],Kr[$r]=null,Qr=Kr[--$r],Kr[$r]=null,Xr=Kr[--$r],Kr[$r]=null}var ra=null,aa=null,ia=!1,sa=null,oa=!1,la=Error(s(519));function ca(e){throw fa(kr(Error(s(418,"")),e)),la}function da(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Fe]=e,t[Te]=r,n){case"dialog":Md("cancel",t),Md("close",t);break;case"iframe":case"object":case"embed":Md("load",t);break;case"video":case"audio":for(n=0;n<Dd.length;n++)Md(Dd[n],t);break;case"source":Md("error",t);break;case"img":case"image":case"link":Md("error",t),Md("load",t);break;case"details":Md("toggle",t);break;case"input":Md("invalid",t),gt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ut(t);break;case"select":Md("invalid",t);break;case"textarea":Md("invalid",t),wt(t,r.value,r.defaultValue,r.children),ut(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xd(t.textContent,n)?(null!=r.popover&&(Md("beforetoggle",t),Md("toggle",t)),null!=r.onScroll&&Md("scroll",t),null!=r.onScrollEnd&&Md("scrollend",t),null!=r.onClick&&(t.onclick=Qd),t=!0):t=!1,t||ca(e)}function ua(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:ra=ra.return}}function ha(e){if(e!==ra)return!1;if(!ia)return ua(e),ia=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ou(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),ua(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=yu(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,mu(e.type)?(e=bu,bu=null,aa=e):aa=n):aa=ra?yu(e.stateNode.nextSibling):null;return!0}function pa(){aa=ra=null,ia=!1}function ma(){var e=sa;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),sa=null),e}function fa(e){null===sa?sa=[e]:sa.push(e)}var ga=B(null),ya=null,ba=null;function xa(e,t,n){z(ga,t._currentValue),t._currentValue=n}function wa(e){e._currentValue=ga.current,U(ga)}function ja(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Na(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),ja(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),ja(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function ka(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=a.type;$n(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===W.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push($u):e=[$u])}a=a.return}null!==e&&Na(t,e,n,r),t.flags|=262144}function _a(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ya=e,ba=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Aa(e){return La(ya,e)}function Ca(e,t){return null===ya&&Sa(e),La(e,t)}function La(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ba){if(null===e)throw Error(s(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return n}var Pa="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ea=r.unstable_scheduleCallback,Fa=r.unstable_NormalPriority,Ta={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ra(){return{controller:new Pa,data:new Map,refCount:0}}function Da(e){e.refCount--,0===e.refCount&&Ea(Fa,function(){e.controller.abort()})}var Oa=null,Ia=0,Ma=0,Ba=null;function Ua(){if(0===--Ia&&null!==Oa){null!==Ba&&(Ba.status="fulfilled");var e=Oa;Oa=null,Ma=0,Ba=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var za=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Oa){var n=Oa=[];Ia=0,Ma=Pd(),Ba={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ia++,t.then(Ua,Ua)}(0,t),null!==za&&za(e,t)};var qa=B(null);function Va(){var e=qa.current;return null!==e?e:ac.pooledCache}function Ha(e,t){z(qa,null===t?qa.current:t.pool)}function Wa(){var e=Va();return null===e?null:{parent:Ta._currentValue,pool:e}}var Ga=Error(s(460)),Ya=Error(s(474)),Ka=Error(s(542)),$a={then:function(){}};function Ja(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function Qa(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xa,Xa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xa,Xa);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw Za=t,Ga}}var Za=null;function ei(){if(null===Za)throw Error(s(459));var e=Za;return Za=null,e}function ti(e){if(e===Ga||e===Ka)throw Error(s(483))}var ni=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Tr(e),Fr(e,null,n),t}return Lr(e,r,t,n),Tr(e)}function oi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ci=!1;function di(){if(ci){if(null!==Ba)throw Ba}}function ui(e,t,n,r){ci=!1;var a=e.updateQueue;ni=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=a.baseState;for(s=0,d=c=l=null,o=i;;){var p=-536870913&o.lane,m=p!==o.lane;if(m?(sc&p)===p:(r&p)===p){0!==p&&p===Ma&&(ci=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,v=o;p=t;var g=n;switch(v.tag){case 1:if("function"===typeof(f=v.payload)){u=f.call(g,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=v.payload)?f.call(g,u,p):f)||void 0===p)break e;u=h({},u,p);break e;case 2:ni=!0}}null!==(p=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=a.callbacks)?a.callbacks=[p]:m.push(p))}else m={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,s|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(m=o).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===i&&(a.shared.lanes=0),mc|=s,e.lanes=s,e.memoizedState=u}}function hi(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function pi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hi(n[e],t)}var mi=B(null),fi=B(0);function vi(e,t){z(fi,e=hc),z(mi,t),hc=e|t.baseLanes}function gi(){z(fi,hc),z(mi,mi.current)}function yi(){hc=fi.current,U(mi),U(fi)}var bi=0,xi=null,wi=null,ji=null,Ni=!1,ki=!1,_i=!1,Si=0,Ai=0,Ci=null,Li=0;function Pi(){throw Error(s(321))}function Ei(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function Fi(e,t,n,r,a,i){return bi=i,xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Gs:Ys,_i=!1,i=n(r,a),_i=!1,ki&&(i=Ri(t,n,r,a)),Ti(e),i}function Ti(e){R.H=Ws;var t=null!==wi&&null!==wi.next;if(bi=0,ji=wi=xi=null,Ni=!1,Ai=0,Ci=null,t)throw Error(s(300));null===e||Co||null!==(e=e.dependencies)&&_a(e)&&(Co=!0)}function Ri(e,t,n,r){xi=e;var a=0;do{if(ki&&(Ci=null),Ai=0,ki=!1,25<=a)throw Error(s(301));if(a+=1,ji=wi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}R.H=Ks,i=t(n,r)}while(ki);return i}function Di(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?zi(t):t,e=e.useState()[0],(null!==wi?wi.memoizedState:null)!==e&&(xi.flags|=1024),t}function Oi(){var e=0!==Si;return Si=0,e}function Ii(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mi(e){if(Ni){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ni=!1}bi=0,ji=wi=xi=null,ki=!1,Ai=Si=0,Ci=null}function Bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ji?xi.memoizedState=ji=e:ji=ji.next=e,ji}function Ui(){if(null===wi){var e=xi.alternate;e=null!==e?e.memoizedState:null}else e=wi.next;var t=null===ji?xi.memoizedState:ji.next;if(null!==t)ji=t,wi=e;else{if(null===e){if(null===xi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(wi=e).memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},null===ji?xi.memoizedState=ji=e:ji=ji.next=e}return ji}function zi(e){var t=Ai;return Ai+=1,null===Ci&&(Ci=[]),e=Qa(Ci,e,t),t=xi,null===(null===ji?t.memoizedState:ji.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Gs:Ys),e}function qi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return zi(e);if(e.$$typeof===w)return Aa(e)}throw Error(s(438,String(e)))}function Vi(e){var t=null,n=xi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function Hi(e,t){return"function"===typeof t?t(e):t}function Wi(e){return Gi(Ui(),wi,e)}function Gi(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=o=null,c=null,d=t=a.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(sc&h)===h:(bi&h)===h){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Ma&&(u=!0);else{if((bi&p)===p){d=d.next,p===Ma&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,xi.lanes|=p,mc|=p}h=d.action,_i&&n(i,h),i=d.hasEagerState?d.eagerState:n(i,h)}else p={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=i):c=c.next=p,xi.lanes|=h,mc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=i:c.next=l,!$n(i,e.memoizedState)&&(Co=!0,u&&null!==(n=Ba)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Yi(e){var t=Ui(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);$n(i,t.memoizedState)||(Co=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ki(e,t,n){var r=xi,a=Ui(),i=ia;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!$n((wi||a).memoizedState,n);if(o&&(a.memoizedState=n,Co=!0),a=a.queue,gs(2048,8,Xi.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==ji&&1&ji.memoizedState.tag){if(r.flags|=2048,ms(9,{destroy:void 0,resource:void 0},Ji.bind(null,r,a,n,t),null),null===ac)throw Error(s(349));i||0!==(124&bi)||$i(r,t,n)}return n}function $i(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ji(e,t,n,r){t.value=n,t.getSnapshot=r,Qi(t)&&Zi(e)}function Xi(e,t,n){return n(function(){Qi(t)&&Zi(e)})}function Qi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(r){return!0}}function Zi(e){var t=Er(e,2);null!==t&&Ic(t,e,2)}function es(e){var t=Bi();if("function"===typeof e){var n=e;if(e=n(),_i){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,Gi(e,wi,"function"===typeof r?r:Hi)}function ns(e,t,n,r,a){if(qs(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==R.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,rs(t,i)):(i.next=n.next,t.pending=n.next=i)}}function rs(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=R.T,s={};R.T=s;try{var o=n(a,r),l=R.S;null!==l&&l(s,o),as(e,t,o)}catch(c){ss(e,t,c)}finally{R.T=i}}else try{as(e,t,i=n(a,r))}catch(d){ss(e,t,d)}}function as(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){is(e,t,n)},function(n){return ss(e,t,n)}):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,os(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,os(t),t=t.next}while(t!==r)}e.action=null}function os(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(ia){var n=ac.formState;if(null!==n){e:{var r=xi;if(ia){if(aa){t:{for(var a=aa,i=oa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=yu(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=yu(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Bi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=Bs.bind(null,xi,r),r.dispatch=n,r=es(!1),i=zs.bind(null,xi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Bi()).queue=a,n=ns.bind(null,xi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function ds(e){return us(Ui(),wi,e)}function us(e,t,n){if(t=Gi(e,t,ls)[0],e=Wi(Hi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=zi(t)}catch(va){if(va===Ga)throw Ka;throw va}else r=t;var a=(t=Ui()).queue,i=a.dispatch;return n!==t.memoizedState&&(xi.flags|=2048,ms(9,{destroy:void 0,resource:void 0},hs.bind(null,a,n),null)),[r,i,e]}function hs(e,t){e.action=t}function ps(e){var t=Ui(),n=wi;if(null!==n)return us(t,n,e);Ui(),t=t.memoizedState;var r=(n=Ui()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ms(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fs(){return Ui().memoizedState}function vs(e,t,n,r){var a=Bi();r=void 0===r?null:r,xi.flags|=e,a.memoizedState=ms(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var a=Ui();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==wi&&null!==r&&Ei(r,wi.memoizedState.deps)?a.memoizedState=ms(t,i,n,r):(xi.flags|=e,a.memoizedState=ms(1|t,i,n,r))}function ys(e,t){vs(8390656,8,e,t)}function bs(e,t){gs(2048,8,e,t)}function xs(e,t){return gs(4,2,e,t)}function ws(e,t){return gs(4,4,e,t)}function js(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ns(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,js.bind(null,t,e),n)}function ks(){}function _s(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ei(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ss(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ei(t,r[1]))return r[0];if(r=e(),_i){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function As(e,t,n){return void 0===n||0!==(1073741824&bi)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),xi.lanes|=e,mc|=e,n)}function Cs(e,t,n,r){return $n(n,t)?n:null!==mi.current?(e=As(e,n,r),$n(e,t)||(Co=!0),e):0===(42&bi)?(Co=!0,e.memoizedState=n):(e=Oc(),xi.lanes|=e,mc|=e,t)}function Ls(e,t,n,r,a){var i=D.p;D.p=0!==i&&8>i?i:8;var s=R.T,o={};R.T=o,zs(e,!1,t,n);try{var l=a(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var d=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);Us(e,t,d,Dc())}else Us(e,t,r,Dc())}catch(u){Us(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{D.p=i,R.T=s}}function Ps(){}function Es(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=Fs(e).queue;Ls(e,a,t,O,null===n?Ps:function(){return Ts(e),n(r)})}function Fs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ts(e){Us(e,Fs(e).next.queue,{},Dc())}function Rs(){return Aa($u)}function Ds(){return Ui().memoizedState}function Os(){return Ui().memoizedState}function Is(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=si(t,e=ii(n),n);return null!==r&&(Ic(r,t,n),oi(r,t,n)),t={cache:Ra()},void(e.payload=t)}t=t.return}}function Ms(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qs(e)?Vs(t,n):null!==(n=Pr(e,t,n,r))&&(Ic(n,e,r),Hs(n,t,r))}function Bs(e,t,n){Us(e,t,n,Dc())}function Us(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qs(e))Vs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,$n(o,s))return Lr(e,t,a,0),null===ac&&Cr(),!1}catch(l){}if(null!==(n=Pr(e,t,a,r)))return Ic(n,e,r),Hs(n,t,r),!0}return!1}function zs(e,t,n,r){if(r={lane:2,revertLane:Pd(),action:r,hasEagerState:!1,eagerState:null,next:null},qs(e)){if(t)throw Error(s(479))}else null!==(t=Pr(e,n,r,2))&&Ic(t,e,2)}function qs(e){var t=e.alternate;return e===xi||null!==t&&t===xi}function Vs(e,t){ki=Ni=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var Ws={readContext:Aa,use:qi,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useLayoutEffect:Pi,useInsertionEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useSyncExternalStore:Pi,useId:Pi,useHostTransitionStatus:Pi,useFormState:Pi,useActionState:Pi,useOptimistic:Pi,useMemoCache:Pi,useCacheRefresh:Pi},Gs={readContext:Aa,use:qi,useCallback:function(e,t){return Bi().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vs(4194308,4,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vs(4194308,4,e,t)},useInsertionEffect:function(e,t){vs(4,2,e,t)},useMemo:function(e,t){var n=Bi();t=void 0===t?null:t;var r=e();if(_i){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Bi();if(void 0!==n){var a=n(t);if(_i){he(!0);try{n(t)}finally{he(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Ms.bind(null,xi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Bi().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=Bs.bind(null,xi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return As(Bi(),e,t)},useTransition:function(){var e=es(!1);return e=Ls.bind(null,xi,e.queue,!0,!1),Bi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xi,a=Bi();if(ia){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===ac)throw Error(s(349));0!==(124&sc)||$i(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,ys(Xi.bind(null,r,i,e),[e]),r.flags|=2048,ms(9,{destroy:void 0,resource:void 0},Ji.bind(null,r,i,n,t),null),n},useId:function(){var e=Bi(),t=ac.identifierPrefix;if(ia){var n=Qr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-pe(Xr)-1)).toString(32)+n),0<(n=Si++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Li++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Rs,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=Bi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zs.bind(null,xi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vi,useCacheRefresh:function(){return Bi().memoizedState=Is.bind(null,xi)}},Ys={readContext:Aa,use:qi,useCallback:_s,useContext:Aa,useEffect:bs,useImperativeHandle:Ns,useInsertionEffect:xs,useLayoutEffect:ws,useMemo:Ss,useReducer:Wi,useRef:fs,useState:function(){return Wi(Hi)},useDebugValue:ks,useDeferredValue:function(e,t){return Cs(Ui(),wi.memoizedState,e,t)},useTransition:function(){var e=Wi(Hi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Ki,useId:Ds,useHostTransitionStatus:Rs,useFormState:ds,useActionState:ds,useOptimistic:function(e,t){return ts(Ui(),0,e,t)},useMemoCache:Vi,useCacheRefresh:Os},Ks={readContext:Aa,use:qi,useCallback:_s,useContext:Aa,useEffect:bs,useImperativeHandle:Ns,useInsertionEffect:xs,useLayoutEffect:ws,useMemo:Ss,useReducer:Yi,useRef:fs,useState:function(){return Yi(Hi)},useDebugValue:ks,useDeferredValue:function(e,t){var n=Ui();return null===wi?As(n,e,t):Cs(n,wi.memoizedState,e,t)},useTransition:function(){var e=Yi(Hi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Ki,useId:Ds,useHostTransitionStatus:Rs,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var n=Ui();return null!==wi?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vi,useCacheRefresh:Os},$s=null,Js=0;function Xs(e){var t=Js;return Js+=1,null===$s&&($s=[]),Qa($s,e,t)}function Qs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eo(e){return(0,e._init)(e._payload)}function to(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Mr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===v?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===S&&eo(i)===t.type)?(Qs(t=a(t,n.props),n),t.return=e,t):(Qs(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=zr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Qs(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Vr(t,e.mode,n)).return=e,t;case S:return h(e,t=(0,t._init)(t._payload),n)}if(T(t)||P(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===w)return h(e,Ca(e,t),n);Zs(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===a?c(e,t,n,r):null;case f:return n.key===a?d(e,t,n,r):null;case S:return p(e,t,n=(a=n._init)(n._payload),r)}if(T(n)||P(n))return null!==a?null:u(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Xs(n),r);if(n.$$typeof===w)return p(e,t,Ca(e,n),r);Zs(e,n)}return null}function g(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case f:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return g(e,t,n,r=(0,r._init)(r._payload),a)}if(T(r)||P(r))return u(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return g(e,t,n,Xs(r),a);if(r.$$typeof===w)return g(e,t,n,Ca(t,r),a);Zs(t,r)}return null}function y(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===v&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case m:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===v){if(7===c.tag){n(l,c.sibling),(u=a(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===S&&eo(b)===c.type){n(l,c.sibling),Qs(u=a(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===v?((u=zr(d.props.children,l.mode,u,d.key)).return=l,l=u):(Qs(u=Ur(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case f:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=a(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Vr(d,l.mode,u)).return=l,l=u}return o(l);case S:return y(l,c,d=(b=d._init)(d._payload),u)}if(T(d))return function(a,s,o,l){for(var c=null,d=null,u=s,m=s=0,f=null;null!==u&&m<o.length;m++){u.index>m?(f=u,u=null):f=u.sibling;var v=p(a,u,o[m],l);if(null===v){null===u&&(u=f);break}e&&u&&null===v.alternate&&t(a,u),s=i(v,s,m),null===d?c=v:d.sibling=v,d=v,u=f}if(m===o.length)return n(a,u),ia&&Zr(a,m),c;if(null===u){for(;m<o.length;m++)null!==(u=h(a,o[m],l))&&(s=i(u,s,m),null===d?c=u:d.sibling=u,d=u);return ia&&Zr(a,m),c}for(u=r(u);m<o.length;m++)null!==(f=g(u,a,m,o[m],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?m:f.key),s=i(f,s,m),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(a,e)}),ia&&Zr(a,m),c}(l,c,d,u);if(P(d)){if("function"!==typeof(b=P(d)))throw Error(s(150));return function(a,o,l,c){if(null==l)throw Error(s(151));for(var d=null,u=null,m=o,f=o=0,v=null,y=l.next();null!==m&&!y.done;f++,y=l.next()){m.index>f?(v=m,m=null):v=m.sibling;var b=p(a,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),o=i(b,o,f),null===u?d=b:u.sibling=b,u=b,m=v}if(y.done)return n(a,m),ia&&Zr(a,f),d;if(null===m){for(;!y.done;f++,y=l.next())null!==(y=h(a,y.value,c))&&(o=i(y,o,f),null===u?d=y:u.sibling=y,u=y);return ia&&Zr(a,f),d}for(m=r(m);!y.done;f++,y=l.next())null!==(y=g(m,a,f,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?f:y.key),o=i(y,o,f),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach(function(e){return t(a,e)}),ia&&Zr(a,f),d}(l,c,d=b.call(d),u)}if("function"===typeof d.then)return y(l,c,Xs(d),u);if(d.$$typeof===w)return y(l,c,Ca(l,d),u);Zs(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=a(c,d)).return=l,l=u):(n(l,c),(u=qr(d,l.mode,u)).return=l,l=u),o(l)):n(l,c)}return function(e,t,n,r){try{Js=0;var a=y(e,t,n,r);return $s=null,a}catch(va){if(va===Ga||va===Ka)throw va;var i=Or(29,va,null,e.mode);return i.lanes=r,i.return=e,i}}}var no=to(!0),ro=to(!1),ao=B(null),io=null;function so(e){var t=e.alternate;z(uo,1&uo.current),z(ao,e),null===io&&(null===t||null!==mi.current||null!==t.memoizedState)&&(io=e)}function oo(e){if(22===e.tag){if(z(uo,uo.current),z(ao,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else lo()}function lo(){z(uo,uo.current),z(ao,ao.current)}function co(e){U(ao),io===e&&(io=null),U(uo)}var uo=B(0);function ho(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gu(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function po(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=ii(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=si(e,a,r))&&(Ic(t,e,r),oi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=ii(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=si(e,a,r))&&(Ic(t,e,r),oi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=ii(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=si(e,r,n))&&(Ic(t,e,n),oi(t,e,n))}};function fo(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(a,i))}function vo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=h({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bo(e){yo(e)}function xo(e){console.error(e)}function wo(e){yo(e)}function jo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function No(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ko(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){jo(e,t)},n}function _o(e){return(e=ii(e)).tag=3,e}function So(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){No(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){No(t,n,r),"function"!==typeof a&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ao=Error(s(461)),Co=!1;function Lo(e,t,n,r){t.child=null===e?ro(t,null,n,r):no(t,e.child,n,r)}function Po(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Sa(t),r=Fi(e,t,n,s,i,a),o=Oi(),null===e||Co?(ia&&o&&ta(t),t.flags|=1,Lo(e,t,r,a),t.child):(Ii(e,t,a),Jo(e,t,a))}function Eo(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Ir(i)||void 0!==i.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Fo(e,t,i,r,a))}if(i=e.child,!Xo(e,a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(s,r)&&e.ref===t.ref)return Jo(e,t,a)}return t.flags|=1,(e=Mr(i,r)).ref=t.ref,e.return=t,t.child=e}function Fo(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(Jn(i,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=i,!Xo(e,a))return t.lanes=e.lanes,Jo(e,t,a);0!==(131072&e.flags)&&(Co=!0)}}return Oo(e,t,n,r,a)}function To(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ha(0,null!==i?i.cachePool:null),null!==i?vi(t,i):gi(),oo(t)}else null!==i?(Ha(0,i.cachePool),vi(t,i),lo(),t.memoizedState=null):(null!==e&&Ha(0,null),gi(),lo());return Lo(e,t,a,n),t.child}function Ro(e,t,n,r){var a=Va();return a=null===a?null:{parent:Ta._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ha(0,null),gi(),oo(t),null!==e&&ka(e,t,r,!0),null}function Do(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oo(e,t,n,r,a){return Sa(t),n=Fi(e,t,n,r,void 0,a),r=Oi(),null===e||Co?(ia&&r&&ta(t),t.flags|=1,Lo(e,t,n,a),t.child):(Ii(e,t,a),Jo(e,t,a))}function Io(e,t,n,r,a,i){return Sa(t),t.updateQueue=null,n=Ri(t,r,n,a),Ti(e),r=Oi(),null===e||Co?(ia&&r&&ta(t),t.flags|=1,Lo(e,t,n,i),t.child):(Ii(e,t,i),Jo(e,t,i))}function Mo(e,t,n,r,a){if(Sa(t),null===t.stateNode){var i=Rr,s=n.contextType;"object"===typeof s&&null!==s&&(i=Aa(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=mo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ri(t),s=n.contextType,i.context="object"===typeof s&&null!==s?Aa(s):Rr,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(po(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&mo.enqueueReplaceState(i,i.state,null),ui(t,r,i,a),di(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,d=n.contextType;s=Rr,"object"===typeof d&&null!==d&&(s=Aa(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==s)&&vo(t,i,r,s),ni=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,a),di(),c=t.memoizedState,o||h!==c||ni?("function"===typeof u&&(po(t,n,u,r),c=t.memoizedState),(l=ni||fo(t,n,l,r,h,c,s))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ai(e,t),d=go(n,s=t.memoizedProps),i.props=d,u=t.pendingProps,h=i.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Aa(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==u||h!==l)&&vo(t,i,r,l),ni=!1,h=t.memoizedState,i.state=h,ui(t,r,i,a),di();var p=t.memoizedState;s!==u||h!==p||ni||null!==e&&null!==e.dependencies&&_a(e.dependencies)?("function"===typeof o&&(po(t,n,o,r),p=t.memoizedState),(d=ni||fo(t,n,d,r,h,p,l)||null!==e&&null!==e.dependencies&&_a(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=d):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Do(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=no(t,e.child,null,a),t.child=no(t,null,n,a)):Lo(e,t,n,a),t.memoizedState=i.state,e=t.child):e=Jo(e,t,a),e}function Bo(e,t,n,r){return pa(),t.flags|=256,Lo(e,t,n,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zo(e){return{baseLanes:e,cachePool:Wa()}}function qo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Vo(e,t,n){var r,a=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&uo.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?so(t):lo(),ia){var l,c=aa;if(l=c){e:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jr?{id:Xr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},(l=Or(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ra=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gu(c)?t.lanes=32:t.lanes=536870912,null;co(t)}return c=a.children,a=a.fallback,i?(lo(),c=Wo({mode:"hidden",children:c},i=t.mode),a=zr(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=zo(n),i.childLanes=qo(e,r,n),t.memoizedState=Uo,a):(so(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Go(e,t,n)):null!==t.memoizedState?(lo(),t.child=e.child,t.flags|=128,t=null):(lo(),i=a.fallback,c=t.mode,a=Wo({mode:"visible",children:a.children},c),(i=zr(i,c,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,no(t,e.child,null,n),(a=t.child).memoizedState=zo(n),a.childLanes=qo(e,r,n),t.memoizedState=Uo,t=i);else if(so(t),gu(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var d=r.dgst;r=d,(a=Error(s(419))).stack="",a.digest=r,fa({value:a,source:null,stack:null}),t=Go(e,t,n)}else if(Co||ka(e,t,n,!1),r=0!==(n&e.childLanes),Co||r){if(null!==(r=ac)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Ce(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Er(e,a),Ic(r,e,a),Ao;"$?"===c.data||Kc(),t=Go(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yu(c.nextSibling),ra=t,ia=!0,sa=null,oa=!1,null!==e&&(Kr[$r++]=Xr,Kr[$r++]=Qr,Kr[$r++]=Jr,Xr=e.id,Qr=e.overflow,Jr=t),(t=Ho(t,a.children)).flags|=4096);return t}return i?(lo(),i=a.fallback,c=t.mode,d=(l=e.child).sibling,(a=Mr(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?i=Mr(d,i):(i=zr(i,c,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=zo(n):(null!==(l=c.cachePool)?(d=Ta._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Wa(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=qo(e,r,n),t.memoizedState=Uo,a):(so(t),e=(n=e.child).sibling,(n=Mr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=Wo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wo(e,t){return(e=Or(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Go(e,t,n){return no(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ja(e.return,t,n)}function Ko(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function $o(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Lo(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n,t);else if(19===e.tag)Yo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(uo,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ho(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ko(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ho(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ko(t,!0,n,null,i);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ka(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_a(e))}function Qo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Co=!0;else{if(!Xo(e,n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),xa(0,Ta,e.memoizedState.cache),pa();break;case 27:case 5:K(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:xa(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vo(e,t,n):(so(t),null!==(e=Jo(e,t,n))?e.sibling:null);so(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ka(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return $o(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),z(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n);case 24:xa(0,Ta,e.memoizedState.cache)}return Jo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,ia&&0!==(1048576&t.flags)&&ea(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===j){t.tag=11,t=Po(null,t,r,e,n);break e}if(a===_){t.tag=14,t=Eo(null,t,r,e,n);break e}}throw t=F(r)||r,Error(s(306,t,""))}Ir(r)?(e=go(r,e),t.tag=1,t=Mo(null,t,r,e,n)):(t.tag=0,t=Oo(null,t,r,e,n))}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return Mo(e,t,r=t.type,a=go(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ai(e,t),ui(t,r,null,n);var o=t.memoizedState;if(r=o.cache,xa(0,Ta,r),r!==i.cache&&Na(t,[Ta],n,!0),di(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Bo(e,t,r,n);break e}if(r!==a){fa(a=kr(Error(s(424)),t)),t=Bo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yu(e.firstChild),ra=t,ia=!0,sa=null,oa=!0,n=ro(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===a){t=Jo(e,t,n);break e}Lo(e,t,r,n)}t=t.child}return t;case 26:return Do(e,t),null===e?(n=Lu(t.type,null,t.pendingProps,null))?t.memoizedState=n:ia||(n=t.type,e=t.pendingProps,(r=au(H.current).createElement(n))[Fe]=t,r[Te]=e,tu(r,n,e),We(r),t.stateNode=r):t.memoizedState=Lu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&ia&&(r=t.stateNode=wu(t.type,t.pendingProps,H.current),ra=t,oa=!0,a=aa,mu(t.type)?(bu=a,aa=yu(r.firstChild)):aa=a),Lo(e,t,t.pendingProps.children,n),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=yu(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oa))?(t.stateNode=r,ra=t,aa=yu(r.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),K(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,ou(a,i)?r=null:null!==o&&ou(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Fi(e,t,Di,null,null,n),$u._currentValue=a),Do(e,t),Lo(e,t,r,n),t.child;case 6:return null===e&&ia&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yu(e.nextSibling)))return null}return e}(n,t.pendingProps,oa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Vo(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=no(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return Po(e,t,t.type,t.pendingProps,n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xa(0,t.type,r.value),Lo(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Sa(t),r=r(a=Aa(a)),t.flags|=1,Lo(e,t,r,n),t.child;case 14:return Eo(e,t,t.type,t.pendingProps,n);case 15:return Fo(e,t,t.type,t.pendingProps,n);case 19:return $o(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Wo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Mr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return To(e,t,n);case 24:return Sa(t),r=Aa(Ta),null===e?(null===(a=Va())&&(a=ac,i=Ra(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},ri(t),xa(0,Ta,a)):(0!==(e.lanes&n)&&(ai(e,t),ui(t,null,null,n),di()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),xa(0,Ta,r)):(r=i.cache,xa(0,Ta,r),r!==a.cache&&Na(t,[Ta],n,!0))),Lo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Zo(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!qu(t)){if(null!==(t=ao.current)&&((4194048&sc)===sc?null!==io:(62914560&sc)!==sc&&0===(536870912&sc)||t!==io))throw Za=$a,Ya;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,yc|=t)}function nl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function al(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wa(Ta),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?Zo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ma())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Zo(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zo(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zo(t),rl(t),t.flags&=-16777217),null;case 27:$(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return rl(t),null}e=q.current,ha(t)?da(t):(e=wu(a,r,n),t.stateNode=e,Zo(t))}return rl(t),null;case 5:if($(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return rl(t),null}if(e=q.current,ha(t))da(t);else{switch(a=au(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Fe]=t,e[Te]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(tu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zo(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,ha(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xd(e.nodeValue,n)))||ca(t)}else(e=au(e).createTextNode(r))[Fe]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Fe]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),a=!1}else a=ma(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(co(t),t):(co(t),null)}if(co(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return Y(),null===e&&zd(t.stateNode.containerInfo),rl(t),null;case 10:return wa(t.type),rl(t),null;case 19:if(U(uo),null===(a=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(i=a.rendering))if(r)nl(a,!1);else{if(0!==pc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=ho(e))){for(t.flags|=128,nl(a,!1),e=i.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return z(uo,1&uo.current|2),t.child}e=e.sibling}null!==a.tail&&te()>Nc&&(t.flags|=128,r=!0,nl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ho(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return rl(t),null}else 2*te()-a.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,r=!0,nl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=uo.current,z(uo,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return co(t),yi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(qa),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wa(Ta),rl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wa(Ta),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 13:if(co(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(uo),null;case 4:return Y(),null;case 10:return wa(t.type),null;case 22:case 23:return co(t),yi(),null!==e&&U(qa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wa(Ta),null;default:return null}}function sl(e,t){switch(na(t),t.tag){case 3:wa(Ta),Y();break;case 26:case 27:case 5:$(t);break;case 4:Y();break;case 13:co(t);break;case 19:U(uo);break;case 10:wa(t.type);break;case 22:case 23:co(t),yi(),null!==e&&U(qa);break;case 24:wa(Ta)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){ud(t,t.return,o)}}function ll(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(d){ud(a,l,d)}}}r=r.next}while(r!==i)}}catch(d){ud(t,t.return,d)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{pi(t,n)}catch(r){ud(e,e.return,r)}}}function dl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ud(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){ud(e,t,a)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){ud(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){ud(e,t,i)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){ud(e,e.return,a)}}function ml(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,d=null,u=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(m)||Zd(e,t,m,null,r,h)}}for(var p in r){var m=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":i=m;break;case"name":a=m;break;case"checked":d=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:m!==h&&Zd(e,t,p,m,r,h)}}return void vt(e,o,l,c,d,u,i,a);case"select":for(i in m=o=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(i)||Zd(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Zd(e,t,a,i,r,c)}return t=l,n=o,r=m,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zd(e,t,l,null,r,a)}for(o in r)if(a=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":p=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&Zd(e,t,o,a,r,i)}return void xt(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Zd(e,t,f,null,r,p);for(c in r)if(p=r[c],m=n[c],r.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Zd(e,t,c,p,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Zd(e,t,v,null,r,p);for(d in r)if(p=r[d],m=n[d],r.hasOwnProperty(d)&&p!==m&&(null!=p||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Zd(e,t,d,p,r,m)}return;default:if(St(t)){for(var g in n)p=n[g],n.hasOwnProperty(g)&&void 0!==p&&!r.hasOwnProperty(g)&&eu(e,t,g,void 0,r,p);for(u in r)p=r[u],m=n[u],!r.hasOwnProperty(u)||p===m||void 0===p&&void 0===m||eu(e,t,u,p,r,m);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&Zd(e,t,y,null,r,p);for(h in r)p=r[h],m=n[h],!r.hasOwnProperty(h)||p===m||null==p&&null==m||Zd(e,t,h,p,r,m)}(r,e.type,n,t),r[Te]=t}catch(a){ud(e,e.return,a)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&mu(e.type)||4===e.tag}function vl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&mu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qd));else if(4!==r&&(27===r&&mu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&mu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);tu(t,r,n),t[Fe]=e,t[Te]=n}catch(i){ud(e,e.return,i)}}var xl=!1,wl=!1,jl=!1,Nl="function"===typeof WeakSet?WeakSet:Set,kl=null;function _l(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&ol(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ud(n,n.return,s)}else{var a=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ud(n,n.return,o)}}64&r&&cl(n),512&r&&ul(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{pi(e,t)}catch(s){ud(n,n.return,s)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&pl(n),512&r&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&El(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fd.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||wl,a=xl;var i=wl;xl=r,(wl=t)&&!i?Ul(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),xl=a,wl=i}break;case 30:break;default:Ml(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Al=null,Cl=!1;function Ll(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,n)}catch(i){}switch(n.tag){case 26:wl||hl(n,t),Ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||hl(n,t);var r=Al,a=Cl;mu(n.type)&&(Al=n.stateNode,Cl=!1),Ll(e,t,n),ju(n.stateNode),Al=r,Cl=a;break;case 5:wl||hl(n,t);case 6:if(r=Al,a=Cl,Al=null,Ll(e,t,n),Cl=a,null!==(Al=r))if(Cl)try{(9===Al.nodeType?Al.body:"HTML"===Al.nodeName?Al.ownerDocument.body:Al).removeChild(n.stateNode)}catch(s){ud(n,t,s)}else try{Al.removeChild(n.stateNode)}catch(s){ud(n,t,s)}break;case 18:null!==Al&&(Cl?(fu(9===(e=Al).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):fu(Al,n.stateNode));break;case 4:r=Al,a=Cl,Al=n.stateNode.containerInfo,Cl=!0,Ll(e,t,n),Al=r,Cl=a;break;case 0:case 11:case 14:case 15:wl||ll(2,n,t),wl||ll(4,n,t),Ll(e,t,n);break;case 1:wl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&dl(n,t,r)),Ll(e,t,n);break;case 21:Ll(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Ll(e,t,n),wl=r;break;default:Ll(e,t,n)}}function El(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){ud(t,t.return,n)}}function Fl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Nl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=vd.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Tl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(mu(l.type)){Al=l.stateNode,Cl=!1;break e}break;case 5:Al=l.stateNode,Cl=!1;break e;case 3:case 4:Al=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Al)throw Error(s(160));Pl(i,o,a),Al=null,Cl=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Rl=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tl(t,e),Ol(e),4&r&&(ll(3,e,e.return),ol(3,e),ll(5,e,e.return));break;case 1:Tl(t,e),Ol(e),512&r&&(wl||null===n||hl(n,n.return)),64&r&&xl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Rl;if(Tl(t,e),Ol(e),512&r&&(wl||null===n||hl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Be]||i[Fe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),tu(i,r,n),i[Fe]=e,We(i),r=i;break e;case"link":var o=Uu("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}tu(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(o=Uu("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}tu(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(s(468,r))}i[Fe]=e,We(i),r=i}e.stateNode=r}else zu(a,e.type,e.stateNode);else e.stateNode=Du(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?zu(a,e.type,e.stateNode):Du(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&ml(e,e.memoizedProps,n.memoizedProps)}break;case 27:Tl(t,e),Ol(e),512&r&&(wl||null===n||hl(n,n.return)),null!==n&&4&r&&ml(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Tl(t,e),Ol(e),512&r&&(wl||null===n||hl(n,n.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(m){ud(e,e.return,m)}}4&r&&null!=e.stateNode&&ml(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(jl=!0);break;case 6:if(Tl(t,e),Ol(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){ud(e,e.return,m)}}break;case 3:if(Bu=null,a=Rl,Rl=_u(t.containerInfo),Tl(t,e),Rl=a,Ol(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(m){ud(e,e.return,m)}jl&&(jl=!1,Il(e));break;case 4:r=Rl,Rl=_u(e.stateNode.containerInfo),Tl(t,e),Ol(e),Rl=r;break;case 12:default:Tl(t,e),Ol(e);break;case 13:Tl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(jc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Fl(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=xl,u=wl;if(xl=d||a,wl=u||c,Tl(t,e),wl=u,xl=d,Ol(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||xl||wl||Bl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){ud(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){ud(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Fl(e,n))));break;case 19:Tl(t,e),Ol(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Fl(e,r)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;yl(e,vl(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(jt(i,""),n.flags&=-33),yl(e,vl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,vl(e),o);break;default:throw Error(s(161))}}catch(l){ud(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Il(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Il(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t.alternate,t),t=t.sibling}function Bl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),Bl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&dl(t,t.return,n),Bl(t);break;case 27:ju(t.stateNode);case 26:case 5:hl(t,t.return),Bl(t);break;case 22:null===t.memoizedState&&Bl(t);break;default:Bl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Ul(a,i,n),ol(4,i);break;case 1:if(Ul(a,i,n),"function"===typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){ud(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)hi(l[a],o)}catch(c){ud(r,r.return,c)}}n&&64&s&&cl(i),ul(i,i.return);break;case 27:bl(i);case 26:case 5:Ul(a,i,n),n&&null===r&&4&s&&pl(i),ul(i,i.return);break;case 12:Ul(a,i,n);break;case 13:Ul(a,i,n),n&&4&s&&El(a,i);break;case 22:null===i.memoizedState&&Ul(a,i,n),ul(i,i.return);break;case 30:break;default:Ul(a,i,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Da(n))}function ql(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&a&&ol(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e)));break;case 12:if(2048&a){Vl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ud(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?Vl(e,t,n,r):Gl(e,t):2&i._visibility?Vl(e,t,n,r):(i._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&zl(s,t);break;case 24:Vl(e,t,n,r),2048&a&&ql(t.alternate,t)}}function Wl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Wl(i,s,o,l,a),ol(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?2&d._visibility?Wl(i,s,o,l,a):Gl(i,s):(d._visibility|=2,Wl(i,s,o,l,a)),a&&2048&c&&zl(s.alternate,s);break;case 24:Wl(i,s,o,l,a),a&&2048&c&&ql(s.alternate,s);break;default:Wl(i,s,o,l,a)}t=t.sibling}}function Gl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Gl(n,r),2048&a&&zl(r.alternate,r);break;case 24:Gl(n,r),2048&a&&ql(r.alternate,r);break;default:Gl(n,r)}t=t.sibling}}var Yl=8192;function Kl(e){if(e.subtreeFlags&Yl)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 26:Kl(e),e.flags&Yl&&null!==e.memoizedState&&function(e,t,n){if(null===Vu)throw Error(s(475));var r=Vu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Pu(n.href),i=e.querySelector(Eu(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wu.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void We(i);i=e.ownerDocument||e,n=Fu(n),(a=Nu.get(a))&&Iu(n,a),We(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),tu(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wu.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Rl;Rl=_u(e.stateNode.containerInfo),Kl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Yl,Yl=16777216,Kl(e),Yl=t):Kl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,ec(r,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Xl(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,ec(r,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Da(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var a=(r=kl).sibling,i=r.return;if(Sl(r),r===n){kl=null;break e}if(null!==a){a.return=i,kl=a;break e}kl=i}}}var tc={getCacheForType:function(e){var t=Aa(Ta),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ac=null,ic=null,sc=0,oc=0,lc=null,cc=!1,dc=!1,uc=!1,hc=0,pc=0,mc=0,fc=0,vc=0,gc=0,yc=0,bc=null,xc=null,wc=!1,jc=0,Nc=1/0,kc=null,_c=null,Sc=0,Ac=null,Cc=null,Lc=0,Pc=0,Ec=null,Fc=null,Tc=0,Rc=null;function Dc(){if(0!==(2&rc)&&0!==sc)return sc&-sc;if(null!==R.T){return 0!==Ma?Ma:Pd()}return Pe()}function Oc(){0===gc&&(gc=0===(536870912&sc)||ia?je():536870912);var e=ao.current;return null!==e&&(e.flags|=32),gc}function Ic(e,t,n){(e!==ac||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Hc(e,0),zc(e,sc,gc,!1)),_e(e,n),0!==(2&rc)&&e===ac||(e===ac&&(0===(2&rc)&&(fc|=n),4===pc&&zc(e,sc,gc,!1)),Nd(e))}function Mc(e,t,n){if(0!==(6&rc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),a=r?function(e,t){var n=rc;rc|=2;var r=Gc(),a=Yc();ac!==e||sc!==t?(kc=null,Nc=te()+500,Hc(e,t)):dc=xe(e,t);e:for(;;)try{if(0!==oc&&null!==ic){t=ic;var i=lc;t:switch(oc){case 1:oc=0,lc=null,ed(e,t,i,1);break;case 2:case 9:if(Ja(i)){oc=0,lc=null,Zc(t);break}t=function(){2!==oc&&9!==oc||ac!==e||(oc=7),Nd(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Ja(i)?(oc=0,lc=null,Zc(t)):(oc=0,lc=null,ed(e,t,i,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||qu(o)){oc=0,lc=null;var c=l.sibling;if(null!==c)ic=c;else{var d=l.return;null!==d?(ic=d,td(d)):ic=null}break t}}oc=0,lc=null,ed(e,t,i,5);break;case 6:oc=0,lc=null,ed(e,t,i,6);break;case 8:Vc(),pc=6;break e;default:throw Error(s(462))}}Xc();break}catch(u){Wc(e,u)}return ba=ya=null,R.H=r,R.A=a,rc=n,null!==ic?0:(ac=null,sc=0,Cr(),pc)}(e,t):$c(e,t,!0),i=r;;){if(0===a){dc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!i||Uc(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=$c(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,fc|=i,a=4;break e}i=xc,xc=a,null!==i&&(null===xc?xc=i:xc.push.apply(xc,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){Hc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,gc,!cc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=jc+300-te())){if(zc(r,t,gc,!cc),0!==be(r,0,!0))break e;r.timeoutHandle=cu(Bc.bind(null,r,n,xc,kc,wc,t,gc,fc,yc,cc,i,2,-0,0),a)}else Bc(r,n,xc,kc,wc,t,gc,fc,yc,cc,i,0,-0,0)}break}a=$c(e,t,!1),i=!1}Nd(e)}function Bc(e,t,n,r,a,i,o,l,c,d,u,h,p,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vu={stylesheets:null,count:0,unsuspend:Hu},$l(t),null!==(h=function(){if(null===Vu)throw Error(s(475));var e=Vu;return e.stylesheets&&0===e.count&&Yu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Yu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(rd.bind(null,e,t,i,n,r,a,o,l,c,u,1,p,m)),void zc(e,i,o,!d);rd(e,t,i,n,r,a,o,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!$n(i(),a))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~vc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-pe(a),s=1<<i;r[i]=-1,a&=~s}0!==n&&Se(e,n,t)}function qc(){return 0!==(6&rc)||(kd(0,!1),!1)}function Vc(){if(null!==ic){if(0===oc)var e=ic.return;else ba=ya=null,Mi(e=ic),$s=null,Js=0,e=ic;for(;null!==e;)sl(e.alternate,e),e=e.return;ic=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,du(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),ac=e,ic=n=Mr(e.current,null),sc=t,oc=0,lc=null,cc=!1,dc=xe(e,t),uc=!1,yc=gc=vc=fc=mc=pc=0,xc=bc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-pe(r),i=1<<a;t|=e[a],r&=~i}return hc=t,Cr(),n}function Wc(e,t){xi=null,R.H=Ws,t===Ga||t===Ka?(t=ei(),oc=3):t===Ya?(t=ei(),oc=4):oc=t===Ao?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===ic&&(pc=1,jo(e,kr(t,e.current)))}function Gc(){var e=R.H;return R.H=Ws,null===e?Ws:e}function Yc(){var e=R.A;return R.A=tc,e}function Kc(){pc=4,cc||(4194048&sc)!==sc&&null!==ao.current||(dc=!0),0===(134217727&mc)&&0===(134217727&fc)||null===ac||zc(ac,sc,gc,!1)}function $c(e,t,n){var r=rc;rc|=2;var a=Gc(),i=Yc();ac===e&&sc===t||(kc=null,Hc(e,t)),t=!1;var s=pc;e:for(;;)try{if(0!==oc&&null!==ic){var o=ic,l=lc;switch(oc){case 8:Vc(),s=6;break e;case 3:case 2:case 9:case 6:null===ao.current&&(t=!0);var c=oc;if(oc=0,lc=null,ed(e,o,l,c),n&&dc){s=0;break e}break;default:c=oc,oc=0,lc=null,ed(e,o,l,c)}}Jc(),s=pc;break}catch(d){Wc(e,d)}return t&&e.shellSuspendCounter++,ba=ya=null,rc=r,R.H=a,R.A=i,null===ic&&(ac=null,sc=0,Cr()),s}function Jc(){for(;null!==ic;)Qc(ic)}function Xc(){for(;null!==ic&&!Z();)Qc(ic)}function Qc(e){var t=Qo(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?td(e):ic=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Io(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Io(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Mi(t);default:sl(n,t),t=Qo(n,t=ic=Br(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?td(e):ic=t}function ed(e,t,n,r){ba=ya=null,Mi(t),$s=null,Js=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ka(t,n,a,!0),null!==(n=ao.current)){switch(n.tag){case 13:return null===io?Kc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===$a?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hd(e,r,a)),!1;case 22:return n.flags|=65536,r===$a?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hd(e,r,a)),!1}throw Error(s(435,n.tag))}return hd(e,r,a),Kc(),!1}if(ia)return null!==(t=ao.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==la&&fa(kr(e=Error(s(422),{cause:r}),n))):(r!==la&&fa(kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=kr(r,n),li(e,a=ko(e.stateNode,r,a)),4!==pc&&(pc=2)),!1;var i=Error(s(520),{cause:r});if(i=kr(i,n),null===bc?bc=[i]:bc.push(i),4!==pc&&(pc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,li(n,e=ko(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===_c||!_c.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,So(a=_o(a),e,n,r),li(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,sc))return pc=1,jo(e,kr(n,e.current)),void(ic=null)}catch(i){if(null!==a)throw ic=a,i;return pc=1,jo(e,kr(n,e.current)),void(ic=null)}32768&t.flags?(ia||1===r?e=!0:dc||0!==(536870912&sc)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ao.current)&&13===r.tag&&(r.flags|=16384))),nd(t,e)):td(t)}function td(e){var t=e;do{if(0!==(32768&t.flags))return void nd(t,cc);e=t.return;var n=al(t.alternate,t,hc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===pc&&(pc=5)}function nd(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);pc=6,ic=null}function rd(e,t,n,r,a,i,o,l,c){e.cancelPendingCommit=null;do{ld()}while(0!==Sc);if(0!==(6&rc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-pe(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==r&&Se(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=Ar,o,l,c),e===ac&&(ic=ac=null,sc=0),Cc=t,Ac=e,Lc=n,Pc=i,Ec=a,Fc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,function(){return cd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,a=D.p,D.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nu=rh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(v){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++d===a&&(l=o),p===i&&++u===r&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ru={focusedElem:e,selectionRange:n},rh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(i=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var f=go(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(f,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){ud(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))vu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{rc=o,D.p=a,R.T=r}}Sc=1,ad(),id(),sd()}}function ad(){if(1===Sc){Sc=0;var e=Ac,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=D.p;D.p=2;var a=rc;rc|=4;try{Dl(t,e);var i=ru,s=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=o.textContent.length,f=Math.min(l.start,m),v=void 0===l.end?f:Math.min(l.end,m);!p.extend&&f>v&&(s=v,v=f,f=s);var g=Qn(o,f),y=Qn(o,v);if(g&&y&&(1!==p.rangeCount||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=u.createRange();b.setStart(g.node,g.offset),p.removeAllRanges(),f>v?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var x=u[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}rh=!!nu,ru=nu=null}finally{rc=a,D.p=r,R.T=n}}e.current=t,Sc=2}}function id(){if(2===Sc){Sc=0;var e=Ac,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=D.p;D.p=2;var a=rc;rc|=4;try{_l(e,t.alternate,t)}finally{rc=a,D.p=r,R.T=n}}Sc=3}}function sd(){if(4===Sc||3===Sc){Sc=0,ee();var e=Ac,t=Cc,n=Lc,r=Fc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Cc=Ac=null,od(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(_c=null),Le(n),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,a=D.p,D.p=2,R.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{R.T=t,D.p=a}}0!==(3&Lc)&&ld(),Nd(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Rc?Tc++:(Tc=0,Rc=e):Tc=0,kd(0,!1)}}function od(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Da(t)))}function ld(e){return ad(),id(),sd(),cd()}function cd(){if(5!==Sc)return!1;var e=Ac,t=Pc;Pc=0;var n=Le(Lc),r=R.T,a=D.p;try{D.p=32>n?32:n,R.T=null,n=Ec,Ec=null;var i=Ac,o=Lc;if(Sc=0,Cc=Ac=null,Lc=0,0!==(6&rc))throw Error(s(331));var l=rc;if(rc|=4,Ql(i.current),Hl(i,i.current,o,n),rc=l,kd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,i)}catch(c){}return!0}finally{D.p=a,R.T=r,od(e,t)}}function dd(e,t,n){t=kr(n,t),null!==(e=si(e,t=ko(e.stateNode,t,2),2))&&(_e(e,2),Nd(e))}function ud(e,t,n){if(3===e.tag)dd(e,e,n);else for(;null!==t;){if(3===t.tag){dd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=kr(n,e),null!==(r=si(t,n=_o(2),2))&&(So(n,r,t,e),_e(r,2),Nd(r));break}}t=t.return}}function hd(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=pd.bind(null,e,t,n),t.then(e,e))}function pd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(sc&n)===n&&(4===pc||3===pc&&(62914560&sc)===sc&&300>te()-jc?0===(2&rc)&&Hc(e,0):vc|=n,yc===sc&&(yc=0)),Nd(e)}function md(e,t){0===t&&(t=Ne()),null!==(e=Er(e,t))&&(_e(e,t),Nd(e))}function fd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),md(e,n)}function vd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),md(e,n)}var gd=null,yd=null,bd=!1,xd=!1,wd=!1,jd=0;function Nd(e){e!==yd&&null===e.next&&(null===yd?gd=yd=e:yd=yd.next=e),xd=!0,bd||(bd=!0,hu(function(){0!==(6&rc)?X(re,_d):Sd()}))}function kd(e,t){if(!wd&&xd){wd=!0;do{for(var n=!1,r=gd;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-pe(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Ld(r,i))}else i=sc,0===(3&(i=be(r,r===ac?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,i)||(n=!0,Ld(r,i));r=r.next}}while(n);wd=!1}}function _d(){Sd()}function Sd(){xd=bd=!1;var e=0;0!==jd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==lu&&(lu=e,!0);return lu=null,!1}()&&(e=jd),jd=0);for(var t=te(),n=null,r=gd;null!==r;){var a=r.next,i=Ad(r,t);0===i?(r.next=null,null===n?gd=a:n.next=a,null===a&&(yd=n)):(n=r,(0!==e||0!==(3&i))&&(xd=!0)),r=a}kd(e,!1)}function Ad(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-pe(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=sc,n=be(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Q(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Q(r),Le(n)){case 2:case 8:n=ae;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Cd.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Q(r),e.callbackPriority=2,e.callbackNode=null,2}function Cd(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ld()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=be(e,e===ac?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),Ad(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cd.bind(null,e):null)}function Ld(e,t){if(ld())return null;Mc(e,t,!0)}function Pd(){return 0===jd&&(jd=je()),jd}function Ed(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Lt(""+e)}function Fd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Td=0;Td<wr.length;Td++){var Rd=wr[Td];jr(Rd.toLowerCase(),"on"+(Rd[0].toUpperCase()+Rd.slice(1)))}jr(pr,"onAnimationEnd"),jr(mr,"onAnimationIteration"),jr(fr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(vr,"onTransitionRun"),jr(gr,"onTransitionStart"),jr(yr,"onTransitionCancel"),jr(br,"onTransitionEnd"),$e("onMouseEnter",["mouseout","mouseover"]),$e("onMouseLeave",["mouseout","mouseover"]),$e("onPointerEnter",["pointerout","pointerover"]),$e("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Od=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dd));function Id(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(d){yo(d)}a.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(d){yo(d)}a.currentTarget=null,i=l}}}}function Md(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(qd(t,e,2,!1),n.add(r))}function Bd(e,t,n){var r=0;t&&(r|=4),qd(n,e,r,t)}var Ud="_reactListening"+Math.random().toString(36).slice(2);function zd(e){if(!e[Ud]){e[Ud]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Od.has(t)||Bd(t,!1,e),Bd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ud]||(t[Ud]=!0,Bd("selectionchange",!1,t))}}function qd(e,t,n,r){switch(dh(t)){case 2:var a=ah;break;case 8:a=ih;break;default:a=sh}n=a.bind(null,t,n,e),a=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vd(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=ze(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=i=s;continue e}o=o.parentNode}}r=r.return}Ot(function(){var r=i,a=Et(n),s=[];e:{var o=xr.get(e);if(void 0!==o){var c=Zt,d=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":d="focus",c=sn;break;case"focusout":d="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gn;break;case pr:case mr:case fr:c=on;break;case br:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=vn;break;case"toggle":case"beforetoggle":c=xn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),p=u?null!==o?o+"Capture":null:o;u=[];for(var m,f=r;null!==f;){var v=f;if(m=v.stateNode,5!==(v=v.tag)&&26!==v&&27!==v||null===m||null===p||null!=(v=It(f,p))&&u.push(Hd(f,v,m)),h)break;f=f.return}0<u.length&&(o=new c(o,d,null,n,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(d=n.relatedTarget||n.fromElement)||!ze(d)&&!d[Re])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?ze(d):null)&&(h=l(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=rn,v="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=vn,v="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==c?o:Ve(c),m=null==d?o:Ve(d),(o=new u(v,f+"leave",c,n,a)).target=h,o.relatedTarget=m,v=null,ze(a)===r&&((u=new u(p,f+"enter",d,n,a)).target=m,u.relatedTarget=h,v=u),h=v,c&&d)e:{for(p=d,f=0,m=u=c;m;m=Gd(m))f++;for(m=0,v=p;v;v=Gd(v))m++;for(;0<f-m;)u=Gd(u),f--;for(;0<m-f;)p=Gd(p),m--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=Gd(u),p=Gd(p)}u=null}else u=null;null!==c&&Yd(s,o,c,u,!1),null!==d&&null!==h&&Yd(s,h,d,u,!0)}if("select"===(c=(o=r?Ve(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var g=Mn;else if(Fn(o))if(Bn)g=Kn;else{g=Gn;var y=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&St(r.elementType)&&(g=Mn):g=Yn;switch(g&&(g=g(e,r))?Tn(s,g,n,a):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),y=r?Ve(r):window,e){case"focusin":(Fn(y)||"true"===y.contentEditable)&&(rr=y,ar=r,ir=null);break;case"focusout":ir=ar=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,a)}var b;if(jn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Pn?Cn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(_n&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Pn&&(b=Ht()):(qt="value"in(zt=a)?zt.value:zt.textContent,Pn=!0)),0<(y=Wd(r,x)).length&&(x=new cn(x,e,null,n,a),s.push({event:x,listeners:y}),b?x.data=b:null!==(b=Ln(n))&&(x.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(An=!0,Sn);case"textInput":return(e=t.data)===Sn&&An?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!jn&&Cn(e,t)?(e=Ht(),Vt=qt=zt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Wd(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,a),s.push({event:y,listeners:x}),y.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Ed((a[Te]||null).action),s=r.submitter;s&&null!==(t=(t=s[Te]||null)?Ed(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new Zt("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==jd){var e=s?Fd(a,s):new FormData(a);Es(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Fd(a,s):new FormData(a),Es(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(s,e,r,n,a)}Id(s,t)})}function Hd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wd(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=It(e,n))&&r.unshift(Hd(e,a,i)),null!=(a=It(e,t))&&r.push(Hd(e,a,i))),3===e.tag)return r;e=e.return}return[]}function Gd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Yd(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=It(n,i))&&s.unshift(Hd(n,c,l)):a||null!=(c=It(n,i))&&s.push(Hd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Kd=/\r\n?/g,$d=/\u0000|\uFFFD/g;function Jd(e){return("string"===typeof e?e:""+e).replace(Kd,"\n").replace($d,"")}function Xd(e,t){return t=Jd(t),Jd(e)===t}function Qd(){}function Zd(e,t,n,r,a,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":_t(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Lt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Zd(e,t,"name",a.name,a,null),Zd(e,t,"formEncType",a.formEncType,a,null),Zd(e,t,"formMethod",a.formMethod,a,null),Zd(e,t,"formTarget",a.formTarget,a,null)):(Zd(e,t,"encType",a.encType,a,null),Zd(e,t,"method",a.method,a,null),Zd(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Lt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Qd);break;case"onScroll":null!=r&&Md("scroll",e);break;case"onScrollEnd":null!=r&&Md("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Lt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Md("beforetoggle",e),Md("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=At.get(n)||n,r)}}function eu(e,t,n,r,a,i){switch(n){case"style":_t(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?jt(e,r):("number"===typeof r||"bigint"===typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Md("scroll",e);break;case"onScrollEnd":null!=r&&Md("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Te]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function tu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Md("error",e),Md("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zd(e,t,r,o,n,null)}}return i&&Zd(e,t,"srcSet",n.srcSet,n,null),void(a&&Zd(e,t,"src",n.src,n,null));case"input":Md("invalid",e);var l=r=o=i=null,c=null,d=null;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(null!=u)switch(a){case"name":i=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(s(137,t));break;default:Zd(e,t,a,u,n,null)}}return gt(e,r,l,c,d,o,i,!1),void ut(e);case"select":for(i in Md("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Zd(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(o in Md("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Zd(e,t,o,l,n,null)}return wt(e,a,i,r),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Zd(e,t,c,a,n,null);return;case"dialog":Md("beforetoggle",e),Md("toggle",e),Md("cancel",e),Md("close",e);break;case"iframe":case"object":Md("load",e);break;case"video":case"audio":for(a=0;a<Dd.length;a++)Md(Dd[a],e);break;case"image":Md("error",e),Md("load",e);break;case"details":Md("toggle",e);break;case"embed":case"source":case"link":Md("error",e),Md("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(a=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zd(e,t,d,a,n,null)}return;default:if(St(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(a=n[u])&&eu(e,t,u,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Zd(e,t,l,a,n,null))}var nu=null,ru=null;function au(e){return 9===e.nodeType?e:e.ownerDocument}function iu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function su(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ou(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var lu=null;var cu="function"===typeof setTimeout?setTimeout:void 0,du="function"===typeof clearTimeout?clearTimeout:void 0,uu="function"===typeof Promise?Promise:void 0,hu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uu?function(e){return uu.resolve(null).then(e).catch(pu)}:cu;function pu(e){setTimeout(function(){throw e})}function mu(e){return"head"===e}function fu(e,t){var n=t,r=0,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&ju(s.documentElement),2&n&&ju(s.body),4&n)for(ju(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Be]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===a)return e.removeChild(i),void Ch(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Ch(t)}function vu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vu(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bu=null;function xu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wu(e,t,n){switch(t=au(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function ju(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var Nu=new Map,ku=new Set;function _u(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Su=D.d;D.d={f:function(){var e=Su.f(),t=qc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Ts(t):Su.r(e)},D:function(e){Su.D(e),Cu("dns-prefetch",e,null)},C:function(e,t){Su.C(e,t),Cu("preconnect",e,t)},L:function(e,t,n){Su.L(e,t,n);var r=Au;if(r&&e&&t){var a='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+ft(n.imageSizes)+'"]')):a+='[href="'+ft(e)+'"]';var i=a;switch(t){case"style":i=Pu(e);break;case"script":i=Tu(e)}Nu.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Nu.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Eu(i))||"script"===t&&r.querySelector(Ru(i))||(tu(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Su.m(e,t);var n=Au;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+ft(r)+'"][href="'+ft(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Tu(e)}if(!Nu.has(i)&&(e=h({rel:"modulepreload",href:e},t),Nu.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ru(i)))return}tu(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Su.X(e,t);var n=Au;if(n&&e){var r=He(n).hoistableScripts,a=Tu(e),i=r.get(a);i||((i=n.querySelector(Ru(a)))||(e=h({src:e,async:!0},t),(t=Nu.get(a))&&Mu(e,t),We(i=n.createElement("script")),tu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){Su.S(e,t,n);var r=Au;if(r&&e){var a=He(r).hoistableStyles,i=Pu(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Eu(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nu.get(i))&&Iu(e,n);var l=s=r.createElement("link");We(l),tu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ou(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){Su.M(e,t);var n=Au;if(n&&e){var r=He(n).hoistableScripts,a=Tu(e),i=r.get(a);i||((i=n.querySelector(Ru(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=Nu.get(a))&&Mu(e,t),We(i=n.createElement("script")),tu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var Au="undefined"===typeof document?null:document;function Cu(e,t,n){var r=Au;if(r&&"string"===typeof t&&t){var a=ft(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),ku.has(a)||(ku.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(tu(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Lu(e,t,n,r){var a,i,o,l,c=(c=H.current)?_u(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pu(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pu(n.href);var d=He(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Eu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Nu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nu.set(e,n),d||(a=c,i=e,o=n,l=u.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tu(i,"link",o),We(i),a.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return u}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Tu(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pu(e){return'href="'+ft(e)+'"'}function Eu(e){return'link[rel="stylesheet"]['+e+"]"}function Fu(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Tu(e){return'[src="'+ft(e)+'"]'}function Ru(e){return"script[async]"+e}function Du(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(r)return t.instance=r,We(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),tu(r,"style",a),Ou(r,n.precedence,e),t.instance=r;case"stylesheet":a=Pu(n.href);var i=e.querySelector(Eu(a));if(i)return t.state.loading|=4,t.instance=i,We(i),i;r=Fu(n),(a=Nu.get(a))&&Iu(r,a),We(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),tu(i,"link",r),t.state.loading|=4,Ou(i,n.precedence,e),t.instance=i;case"script":return i=Tu(n.src),(a=e.querySelector(Ru(i)))?(t.instance=a,We(a),a):(r=n,(a=Nu.get(i))&&Mu(r=h({},n),a),We(a=(e=e.ownerDocument||e).createElement("script")),tu(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ou(r,n.precedence,e));return t.instance}function Ou(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Iu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Mu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Bu=null;function Uu(e,t,n){if(null===Bu){var r=new Map,a=Bu=new Map;a.set(n,r)}else(r=(a=Bu).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[Be]||i[Fe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function zu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function qu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vu=null;function Hu(){}function Wu(){if(this.count--,0===this.count)if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gu=null;function Yu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gu=new Map,t.forEach(Ku,e),Gu=null,Wu.call(e))}function Ku(e,t){if(!(4&t.state.loading)){var n=Gu.get(e);if(n)var r=n.get(null);else{n=new Map,Gu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(a=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,a),n.set(s,a),this.count++,r=Wu.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var $u={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Ju(e,t,n,r,a,i,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xu(e,t,n,r,a,i,s,o,l,c,d,u){return e=new Ju(e,t,n,s,o,l,c,u),t=1,!0===i&&(t|=24),i=Or(3,null,null,t),e.current=i,i.stateNode=e,(t=Ra()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ri(i),e}function Qu(e){return e?e=Rr:Rr}function Zu(e,t,n,r,a,i){a=Qu(a),null===r.context?r.context=a:r.pendingContext=a,(r=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=si(e,r,t))&&(Ic(n,0,t),oi(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Er(e,67108864);null!==t&&Ic(t,0,67108864),th(e,67108864)}}var rh=!0;function ah(e,t,n,r){var a=R.T;R.T=null;var i=D.p;try{D.p=2,sh(e,t,n,r)}finally{D.p=i,R.T=a}}function ih(e,t,n,r){var a=R.T;R.T=null;var i=D.p;try{D.p=8,sh(e,t,n,r)}finally{D.p=i,R.T=a}}function sh(e,t,n,r){if(rh){var a=oh(r);if(null===a)Vd(e,t,r,lh,n),bh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return hh=xh(hh,e,t,n,r,a),!0;case"dragenter":return ph=xh(ph,e,t,n,r,a),!0;case"mouseover":return mh=xh(mh,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return fh.set(i,xh(fh.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,vh.set(i,xh(vh.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==a;){var i=qe(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ye(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-pe(s);o.entanglements[1]|=l,s&=~l}Nd(i),0===(6&rc)&&(Nc=te()+500,kd(0,!1))}}break;case 13:null!==(o=Er(i,2))&&Ic(o,0,2),qc(),th(i,2)}if(null===(i=oh(r))&&Vd(e,t,r,lh,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Vd(e,t,r,null,n)}}function oh(e){return ch(e=Et(e))}var lh=null;function ch(e){if(lh=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case ie:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,hh=null,ph=null,mh=null,fh=new Map,vh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":ph=null;break;case"mouseover":case"mouseout":mh=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(t.pointerId)}}function xh(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=qe(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function wh(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Ce(e);var t=Er(n,e);null!==t&&Ic(t,0,e),th(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function Nh(e,t,n){jh(e)&&n.delete(t)}function kh(){uh=!1,null!==hh&&jh(hh)&&(hh=null),null!==ph&&jh(ph)&&(ph=null),null!==mh&&jh(mh)&&(mh=null),fh.forEach(Nh),vh.forEach(Nh)}function _h(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var Sh=null;function Ah(e){Sh!==e&&(Sh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===ch(r||n))continue;break}var i=qe(n);null!==i&&(e.splice(t,3),t-=3,Es(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Ch(e){function t(t){return _h(t,e)}null!==hh&&_h(hh,e),null!==ph&&_h(ph,e),null!==mh&&_h(mh,e),fh.forEach(t),vh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[Te]||null;if("function"===typeof i)s||Ah(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Te]||null)o=s.formAction;else if(null!==ch(a))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ah(n)}}}function Lh(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Lh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zu(t.current,Dc(),e,t,null,null)},Ph.prototype.unmount=Lh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zu(e.current,2,null,e,null,null),qc(),t[Re]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var Eh=a.version;if("19.1.1"!==Eh)throw Error(s(527,Eh,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return d(a),e;if(i===r)return d(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Fh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{de=Th.inject(Fh),ue=Th}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",a=bo,i=xo,l=wo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xu(e,1,!1,null,0,n,r,a,i,l,0,null),e[Re]=t.current,zd(e),new Lh(t)}},7950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8853:(e,t,n)=>{e.exports=n(5896)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{239:"ad40150f",455:"c35cf17e",977:"7a7b0c82"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,a,i,s)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,i,s=r[0],o=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>fn,hasStandardBrowserEnv:()=>gn,hasStandardBrowserWebWorkerEnv:()=>yn,navigator:()=>vn,origin:()=>bn});var a,i=n(5043),s=n.t(i,2),o=n(4391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=a.Pop,f=null,v=g();function g(){return(o.state||{idx:null}).idx}function y(){u=a.Pop;let e=g(),t=null==e?null:e-v;v=e,f&&f({action:u,location:x.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,o.replaceState(l({},o.state,{idx:v}),""));let x={get action(){return u},get location(){return e(i,o)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(c,y),f=e,()=>{i.removeEventListener(c,y),f=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=a.Push;let r=p(x.location,e,t);n&&n(r,e),v=g()+1;let l=h(r,v),c=x.createHref(r);try{o.pushState(l,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(c)}s&&f&&f({action:u,location:x.location,delta:1})},replace:function(e,t){u=a.Replace;let r=p(x.location,e,t);n&&n(r,e),v=g();let i=h(r,v),l=x.createHref(r);o.replaceState(i,"",l),s&&f&&f({action:u,location:x.location,delta:0})},go:e=>o.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let a=T(("string"===typeof t?f(t):t).pathname||"/",n);if(null==a)return null;let i=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=F(a);s=P(i[o],e,r)}return s}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=M([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))a(e,t,r);else a(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=w(r.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),a&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,N=3,k=2,_=1,S=10,A=-2,C=e=>"*"===e;function L(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=A),t&&(r+=k),n.filter(e=>!C(e)).reduce((e,t)=>e+(j.test(t)?N:""===t?_:S),r)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",d=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:M([i,d.pathname]),pathnameBase:B(M([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=M([i,d.pathnameBase]))}return s}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function F(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function O(e,t){let n=D(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function I(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=f(e):(a=l({},e),d(!a.pathname||!a.pathname.includes("?"),R("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),R("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),R("#","search","hash",a)));let i,s=""===e||""===a.pathname,o=s?"/":a.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?f(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:U(r),hash:z(a)}}(a,i),u=o&&"/"!==o&&o.endsWith("/"),h=(s||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}const M=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],H=(new Set(V),["get",...V]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const G=i.createContext(null);const Y=i.createContext(null);const K=i.createContext(null);const $=i.createContext(null);const J=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function Q(){return null!=i.useContext($)}function Z(){return Q()||d(!1),i.useContext($).location}function ee(e){i.useContext(K).static||i.useLayoutEffect(e)}function te(){let{isDataRoute:e}=i.useContext(J);return e?function(){let{router:e}=he(de.UseNavigateStable),t=me(ue.UseNavigateStable),n=i.useRef(!1);ee(()=>{n.current=!0});let r=i.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},a)))},[e,t]);return r}():function(){Q()||d(!1);let e=i.useContext(G),{basename:t,future:n,navigator:r}=i.useContext(K),{matches:a}=i.useContext(J),{pathname:s}=Z(),o=JSON.stringify(O(a,n.v7_relativeSplatPath)),l=i.useRef(!1);return ee(()=>{l.current=!0}),i.useCallback(function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof n)return void r.go(n);let i=I(n,JSON.parse(o),s,"path"===a.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:M([t,i.pathname])),(a.replace?r.replace:r.push)(i,a.state,a)},[t,r,o,s,e])}()}function ne(){let{matches:e}=i.useContext(J),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(K),{matches:a}=i.useContext(J),{pathname:s}=Z(),o=JSON.stringify(O(a,r.v7_relativeSplatPath));return i.useMemo(()=>I(e,JSON.parse(o),s,"path"===n),[e,o,s,n])}function ae(e,t,n,r){Q()||d(!1);let{navigator:s}=i.useContext(K),{matches:o}=i.useContext(J),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=Z();if(t){var m;let e="string"===typeof t?f(t):t;"/"===u||(null==(m=e.pathname)?void 0:m.startsWith(u))||d(!1),h=e}else h=p;let v=h.pathname||"/",g=v;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:g});let x=ce(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&x?i.createElement($.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:a.Pop}},x):x}function ie(){let e=function(){var e;let t=i.useContext(X),n=pe(ue.UseRouteError),r=me(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const se=i.createElement(ie,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(J.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(G);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(J.Provider,{value:t},r)}function ce(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,a)=>{let s,d=!1,h=null,p=null;var m;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,c&&(u<0&&0===a?(m="route-fallback",!1||fe[m]||(fe[m]=!0),d=!0,p=null):u===a&&(d=!0,p=r.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,a+1)),v=()=>{let t;return t=s?h:d?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function he(e){let t=i.useContext(G);return t||d(!1),t}function pe(e){let t=i.useContext(Y);return t||d(!1),t}function me(e){let t=function(){let e=i.useContext(J);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const fe={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:a}=e;Q()||d(!1);let{future:s,static:o}=i.useContext(K),{matches:l}=i.useContext(J),{pathname:c}=Z(),u=te(),h=I(t,O(l,s.v7_relativeSplatPath),c,"path"===a),p=JSON.stringify(h);return i.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:a}),[u,p,a,n,r]),null}function ye(e){d(!1)}function be(e){let{basename:t="/",children:n=null,location:r,navigationType:s=a.Pop,navigator:o,static:l=!1,future:c}=e;Q()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:u,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof r&&(r=f(r));let{pathname:p="/",search:m="",hash:v="",state:g=null,key:y="default"}=r,b=i.useMemo(()=>{let e=T(p,u);return null==e?null:{location:{pathname:e,search:m,hash:v,state:g,key:y},navigationType:s}},[u,p,m,v,g,y,s]);return null==b?null:i.createElement(K.Provider,{value:h},i.createElement($.Provider,{children:n,value:b}))}function xe(e){let{children:t,location:n}=e;return ae(we(t),n)}new Promise(()=>{});i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,a));e.type!==ye&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=we(e.props.children,a)),n.push(s)}),n}var je=n(4980);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach(function(t){(0,je.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _e=n(579);const Se=(0,i.createContext)(null),Ae=()=>(0,i.useContext)(Se),Ce="http://localhost:5000/api",Le=Ce.replace(/\/api$/,""),Pe=e=>e?{Authorization:"Bearer ".concat(e)}:{},Ee=()=>{try{localStorage.removeItem("user"),localStorage.removeItem("token")}catch(e){}try{sessionStorage.removeItem("user"),sessionStorage.removeItem("token")}catch(t){}},Fe=e=>{var t,n;if(!e)return null;let r="";return e.avatar&&(r=/^https?:\/\//i.test(e.avatar)?e.avatar:e.avatar.startsWith("/")?"".concat(Le).concat(e.avatar):"".concat(Le,"/").concat(e.avatar)),{_id:e._id,name:e.name,email:e.email,role:String(e.role||"user").toLowerCase(),permissions:Array.isArray(e.permissions)?Array.from(new Set(e.permissions.map(e=>String(e||"").trim().toLowerCase()).filter(Boolean))):[],age:null!==(t=e.age)&&void 0!==t?t:null,address:null!==(n=e.address)&&void 0!==n?n:"",avatar:r}},Te=e=>{try{var t;return null!==(t=localStorage.getItem(e))&&void 0!==t?t:sessionStorage.getItem(e)}catch(n){return sessionStorage.getItem(e)}},Re=()=>{try{var e;const t=null!==(e=localStorage.getItem("theme"))&&void 0!==e?e:sessionStorage.getItem("theme");if(t)return t;if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}catch(t){}return"light"};function De(e){let{children:t}=e;const[n,r]=(0,i.useState)(()=>{const e=Te("user");try{return e?JSON.parse(e):null}catch(t){return null}}),[a,s]=(0,i.useState)(()=>Te("token")||null),[o,l]=(0,i.useState)(Re);(0,i.useEffect)(()=>{const e=document.documentElement;e.classList.toggle("dark","dark"===o),e.dataset.theme=o;try{localStorage.setItem("theme",o)}catch(t){try{sessionStorage.setItem("theme",o)}catch(n){}}},[o]),(0,i.useEffect)(()=>{const e=e=>{n?e.setItem("user",JSON.stringify(n)):e.removeItem("user"),a?e.setItem("token",a):e.removeItem("token")};try{e(localStorage)}catch(t){try{e(sessionStorage)}catch(r){}}},[n,a]),(0,i.useEffect)(()=>{if(!a||"function"!==typeof fetch)return;let e=!1;const t=new AbortController;return(async()=>{try{const n=await fetch("".concat(Ce,"/users/me"),{headers:ke({},Pe(a)),signal:t.signal});if(!n.ok){if(401===n.status||403===n.status)throw new Error("SESSION_EXPIRED");const e=await n.json().catch(()=>({}));throw new Error(e.message||"Failed to validate session")}const i=await n.json();if(e)return;const s=Fe(i);r(e=>e&&JSON.stringify(e)===JSON.stringify(s)?e:s)}catch(n){if(e||"AbortError"===n.name)return;console.warn("Session validation failed:",n.message||n),Ee(),r(null),s(null)}})(),()=>{e=!0,t.abort()}},[a]);const c=(0,i.useCallback)(async(e,t)=>{const n=await fetch("".concat(Ce,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await n.json().catch(()=>({}));if(!n.ok)throw new Error(a.message||"Login failed");const i=Fe(a.user);return r(i),s(a.token||null),{user:i,token:a.token||null}},[]),d=(0,i.useCallback)(async e=>{const t=await fetch("".concat(Ce,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error(n.message||"Signup failed");await c(e.email,e.password)},[c]),u=(0,i.useCallback)(async e=>{const t=await fetch("".concat(Ce,"/users/register-supplier"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error(n.message||"Signup failed");return c(e.email,e.password)},[c]),h=(0,i.useCallback)(()=>{r(null),s(null),Ee()},[]),p=(0,i.useCallback)(async e=>{if(!n)throw new Error("Not authenticated");const t=await fetch("".concat(Ce,"/users/").concat(n._id),{method:"PUT",headers:ke({"Content-Type":"application/json"},Pe(a)),body:JSON.stringify(e)}),i=await t.json().catch(()=>({}));if(!t.ok)throw new Error(i.message||"Update failed");const s=Fe(i);return r(s),s},[n,a]),m=(0,i.useCallback)(async(e,t)=>{if(!n)throw new Error("Not authenticated");const r=await fetch("".concat(Ce,"/users/").concat(n._id,"/password"),{method:"PUT",headers:ke({"Content-Type":"application/json"},Pe(a)),body:JSON.stringify({currentPassword:e,newPassword:t})}),i=await r.json().catch(()=>({}));if(!r.ok)throw new Error(i.message||"Password change failed");return i},[n,a]),f=(0,i.useCallback)(async e=>{if(!n)throw new Error("Not authenticated");const t=new FormData;t.append("avatar",e);const i=await fetch("".concat(Ce,"/users/").concat(n._id,"/avatar"),{method:"POST",headers:ke({},Pe(a)),body:t}),s=await i.json().catch(()=>({}));if(!i.ok)throw new Error(s.message||"Upload failed");const o=Fe(s.user||s);return r(o),o},[n,a]),v=(0,i.useCallback)(async()=>{if(!n)throw new Error("Not authenticated");const e=await fetch("".concat(Ce,"/users/").concat(n._id,"/avatar"),{method:"DELETE",headers:ke({},Pe(a))}),t=await e.json().catch(()=>({}));if(!e.ok)throw new Error(t.message||"Delete failed");const i=Fe(t.user||t);return r(i),i},[n,a]),g=(0,i.useCallback)(async()=>{if(!n)throw new Error("Not authenticated");const e=await fetch("".concat(Ce,"/users/me"),{method:"DELETE",headers:ke({},Pe(a))}),t=await e.json().catch(()=>({}));if(!e.ok)throw new Error(t.message||"Account deletion failed");return Ee(),r(null),s(null),t},[n,a]),y=(0,i.useCallback)(()=>l(e=>"light"===e?"dark":"light"),[]),b=(0,i.useMemo)(()=>({user:n,token:a,theme:o,login:c,signup:d,registerSupplier:u,logout:h,updateProfile:p,changePassword:m,uploadAvatar:f,deleteAvatar:v,deleteAccount:g,toggleTheme:y,setTheme:l}),[n,a,o,c,d,u,h,p,m,f,v,g,y]);return(0,_e.jsx)(Se.Provider,{value:b,children:t})}const Oe=(0,i.createContext)(),Ie="smart_hardware_cart:",Me="http://localhost:5000".replace(/\/$/,""),Be=()=>"undefined"!==typeof window&&"undefined"!==typeof window.localStorage,Ue=e=>e?"".concat(Ie,"user_").concat(e):"".concat(Ie,"guest"),ze=e=>{const t=Number(e);return!Number.isFinite(t)||t<=0?1:Math.max(1,Math.floor(t))},qe=e=>{if(!Be()||!e)return[];try{const t=window.localStorage.getItem(e);if(!t)return[];return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(e)||0===e.length)return[];const t=new Map;return e.forEach(e=>{if(!e||"object"!==typeof e)return;const n=e.productId||e._id||e.id;if(!n)return;const r=ze(e.quantity),a=Number.isFinite(Number(e.price))?Number(e.price):0,i=ke(ke({},e),{},{productId:n,name:e.name||e.productName||"Product",price:a,quantity:r});t.has(n)?t.set(n,ke(ke({},t.get(n)),i)):t.set(n,i)}),Array.from(t.values())}(JSON.parse(t))}catch(t){return console.warn("Failed to read cart from storage",t),[]}},Ve=(e,t)=>{if(Be()&&e)try{t&&0!==t.length?window.localStorage.setItem(e,JSON.stringify(t)):window.localStorage.removeItem(e)}catch(n){console.warn("Failed to persist cart",n)}},He=e=>{if(Be())try{const t=[];for(let n=0;n<window.localStorage.length;n++){const r=window.localStorage.key(n);if(r&&r.startsWith(Ie)){const n=Ue(e),a=Ue(null);r!==n&&r!==a&&t.push(r)}}t.forEach(e=>window.localStorage.removeItem(e))}catch(t){console.warn("Failed to clear other user carts",t)}},We=e=>{let{children:t}=e;const{user:n}=Ae(),r=(null===n||void 0===n?void 0:n._id)||null,a=(0,i.useMemo)(()=>Be()?Ue(null):null,[]),s=(0,i.useMemo)(()=>Be()&&r?Ue(r):null,[r]),o=s||a,[l,c]=(0,i.useState)(()=>[]),[d,u]=(0,i.useState)(!1),h=(0,i.useRef)(o),p=(0,i.useRef)(l);(0,i.useEffect)(()=>{c([]),p.current=[]},[]),(0,i.useEffect)(()=>{p.current=l},[l]),(0,i.useEffect)(()=>{if(!Be()||!o)return;if(h.current===o)return;h.current=o,c([]),p.current=[],r&&He(r);const e=qe(o);c(e),p.current=e,u(!0)},[o,s,a,r]),(0,i.useEffect)(()=>{Be()&&o&&d&&Ve(o,l)},[l,o,d]),(0,i.useEffect)(()=>{if(n)return;if(!Be())return;h.current=a;const e=qe(a);c(e),u(!0)},[n,a]);const m=(0,i.useRef)(r);(0,i.useEffect)(()=>{const e=m.current;m.current=r,e!==r&&(console.log("[CartContext] User changed: ".concat(e," -> ").concat(r,". Clearing cart.")),c([]),p.current=[],null!==e&&null!==r&&e!==r?(console.log("[CartContext] Different user login detected. Clearing all carts."),(()=>{if(Be())try{const e=[];for(let t=0;t<window.localStorage.length;t++){const n=window.localStorage.key(t);n&&n.startsWith(Ie)&&e.push(n)}e.forEach(e=>window.localStorage.removeItem(e))}catch(e){console.warn("Failed to clear all carts",e)}})()):r&&(console.log("[CartContext] User login detected. Clearing other user carts."),He(r)),null===r&&null!==e&&(console.log("[CartContext] User logout detected. Clearing guest cart."),Be()&&a&&Ve(a,[])))},[r,a]);const f=(0,i.useCallback)(function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return null;const a=e.productId||e._id||e.id;if(!a)return null;const i=Number(null!==(t=null!==(n=e.price)&&void 0!==n?n:e.unitPrice)&&void 0!==t?t:0),s=e.img||e.imageUrl||"",o="string"===typeof s&&s?s.startsWith("http")?s:"".concat(Me).concat(s.startsWith("/")?"":"/").concat(s):"";return{productId:a,name:e.name||e.productName||"Product",price:i,img:o,quantity:ze(r)}},[]),v=(0,i.useCallback)(function(e){const t=f(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1);t&&c(e=>e.find(e=>e.productId===t.productId)?e.map(e=>e.productId===t.productId?ke(ke({},e),{},{quantity:ze(e.quantity+t.quantity)}):e):[...e,t])},[f]),g=(0,i.useCallback)(e=>{e&&c(t=>t.filter(t=>t.productId!==e))},[]),y=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(e)||0===e.length)return;const t=new Set(e);c(e=>e.filter(e=>!t.has(e.productId)))},[]),b=(0,i.useCallback)((e,t)=>{if(!e)return;const n=ze(t);!Number.isFinite(n)||n<=0?c(t=>t.filter(t=>t.productId!==e)):c(t=>t.map(t=>t.productId===e?ke(ke({},t),{},{quantity:n}):t))},[]),x=(0,i.useCallback)(()=>{c([])},[]),w=(0,i.useMemo)(()=>({cartItems:l,totalItems:l.reduce((e,t)=>e+Number(t.quantity||0),0),subtotal:l.reduce((e,t)=>e+Number(t.price||0)*Number(t.quantity||0),0)}),[l]),j=(0,i.useMemo)(()=>({cartItems:l,cartState:w,addToCart:v,removeFromCart:g,removeMultipleFromCart:y,updateQuantity:b,clearCart:x}),[l,w,v,g,y,b,x]);return(0,_e.jsx)(Oe.Provider,{value:j,children:t})},Ge=(0,i.createContext)(),Ye="adminCartItems",Ke=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(()=>{if("undefined"===typeof window)return[];try{const e=window.localStorage.getItem(Ye);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.map(e=>{var t;const n=Number(null!==(t=null===e||void 0===e?void 0:e.quantity)&&void 0!==t?t:1);return ke(ke({},e),{},{quantity:Number.isFinite(n)&&n>0?n:1})}):[]}catch(e){return console.error("Failed to restore admin cart",e),[]}});(0,i.useEffect)(()=>{if("undefined"!==typeof window)try{n&&0!==n.length?window.localStorage.setItem(Ye,JSON.stringify(n)):window.localStorage.removeItem(Ye)}catch(e){console.error("Failed to persist admin cart",e)}},[n]);return(0,_e.jsx)(Ge.Provider,{value:{cartItems:n,addToCart:e=>{var t;const n=Number(null!==(t=null===e||void 0===e?void 0:e.quantity)&&void 0!==t?t:1),a=Number.isFinite(n)&&n>0?n:1;r(t=>{const n=t.find(t=>t.productId===e.productId);return n?t.map(t=>t.productId===e.productId?ke(ke({},t),{},{quantity:t.quantity+a}):t):[...t,ke(ke({},e),{},{quantity:a})]})},removeFromCart:e=>{r(t=>t.filter(t=>t.productId!==e))},updateQuantity:(e,t)=>{const n=Number(t);r(t=>t.map(t=>t.productId===e?ke(ke({},t),{},{quantity:Number.isFinite(n)&&n>0?n:1,supplierId:t.supplierId}):t))},clearCart:()=>r([])},children:t})};var $e=n(7950),Je=n.t($e,2);function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Ze(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const et=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(n_){}new Map;const tt=s.startTransition;Je.flushSync,s.useId;function nt(e){let{basename:t,children:n,future:r,window:a}=e,s=i.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return p("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=s.current,[c,d]=i.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},h=i.useCallback(e=>{u&&tt?tt(()=>d(e)):d(e)},[d,u]);return i.useLayoutEffect(()=>l.listen(h),[l,h]),i.useEffect(()=>ve(r),[r]),i.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const rt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,at=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=i.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:p}=e,f=Qe(e,et),{basename:v}=i.useContext(K),g=!1;if("string"===typeof u&&at.test(u)&&(n=u,rt))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=T(t.pathname,v);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(n_){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||d(!1);let{basename:r,navigator:a}=i.useContext(K),{hash:s,pathname:o,search:l}=re(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:M([r,o])),a.createHref({pathname:c,search:l,hash:s})}(u,{relative:a}),b=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,c=te(),d=Z(),u=re(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(d)===m(u);c(e,{replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,u,r,a,n,e,s,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:p});return i.createElement("a",Xe({},f,{href:n||y,onClick:g||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var st,ot;function lt(e){let t=i.useRef(Ze(e)),n=i.useRef(!1),r=Z(),a=i.useMemo(()=>function(e,t){let n=Ze(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(r.search,n.current?null:t.current),[r.search]),s=te(),o=i.useCallback((e,t)=>{const r=Ze("function"===typeof e?e(a):e);n.current=!0,s("?"+r,t)},[s,a]);return[a,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(st||(st={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ot||(ot={}));function ct(e,t){return function(){return e.apply(t,arguments)}}const{toString:dt}=Object.prototype,{getPrototypeOf:ut}=Object,{iterator:ht,toStringTag:pt}=Symbol,mt=(ft=Object.create(null),e=>{const t=dt.call(e);return ft[t]||(ft[t]=t.slice(8,-1).toLowerCase())});var ft;const vt=e=>(e=e.toLowerCase(),t=>mt(t)===e),gt=e=>t=>typeof t===e,{isArray:yt}=Array,bt=gt("undefined");function xt(e){return null!==e&&!bt(e)&&null!==e.constructor&&!bt(e.constructor)&&Nt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const wt=vt("ArrayBuffer");const jt=gt("string"),Nt=gt("function"),kt=gt("number"),_t=e=>null!==e&&"object"===typeof e,St=e=>{if("object"!==mt(e))return!1;const t=ut(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(pt in e)&&!(ht in e)},At=vt("Date"),Ct=vt("File"),Lt=vt("Blob"),Pt=vt("FileList"),Et=vt("URLSearchParams"),[Ft,Tt,Rt,Dt]=["ReadableStream","Request","Response","Headers"].map(vt);function Ot(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),yt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(xt(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let s;for(n=0;n<i;n++)s=r[n],t.call(null,e[s],s,e)}}function It(e,t){if(xt(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Bt=e=>!bt(e)&&e!==Mt;const Ut=(zt="undefined"!==typeof Uint8Array&&ut(Uint8Array),e=>zt&&e instanceof zt);var zt;const qt=vt("HTMLFormElement"),Vt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Ht=vt("RegExp"),Wt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ot(n,(n,a)=>{let i;!1!==(i=t(n,a,e))&&(r[a]=i||n)}),Object.defineProperties(e,r)};const Gt=vt("AsyncFunction"),Yt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Mt.addEventListener("message",e=>{let{source:t,data:a}=e;t===Mt&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Mt.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Nt(Mt.postMessage)),Kt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Mt):"undefined"!==typeof process&&process.nextTick||Yt,$t={isArray:yt,isArrayBuffer:wt,isBuffer:xt,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Nt(e.append)&&("formdata"===(t=mt(e))||"object"===t&&Nt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&wt(e.buffer),t},isString:jt,isNumber:kt,isBoolean:e=>!0===e||!1===e,isObject:_t,isPlainObject:St,isEmptyObject:e=>{if(!_t(e)||xt(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(n_){return!1}},isReadableStream:Ft,isRequest:Tt,isResponse:Rt,isHeaders:Dt,isUndefined:bt,isDate:At,isFile:Ct,isBlob:Lt,isRegExp:Ht,isFunction:Nt,isStream:e=>_t(e)&&Nt(e.pipe),isURLSearchParams:Et,isTypedArray:Ut,isFileList:Pt,forEach:Ot,merge:function e(){const{caseless:t}=Bt(this)&&this||{},n={},r=(r,a)=>{const i=t&&It(n,a)||a;St(n[i])&&St(r)?n[i]=e(n[i],r):St(r)?n[i]=e({},r):yt(r)?n[i]=r.slice():n[i]=r};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Ot(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ot(t,(t,r)=>{n&&Nt(t)?e[r]=ct(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,i,s;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],r&&!r(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&ut(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:mt,kindOfTest:vt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(yt(e))return e;let t=e.length;if(!kt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[ht]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:qt,hasOwnProperty:Vt,hasOwnProp:Vt,reduceDescriptors:Wt,freezeMethods:e=>{Wt(e,(t,n)=>{if(Nt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Nt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return yt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:It,global:Mt,isContextDefined:Bt,isSpecCompliantForm:function(e){return!!(e&&Nt(e.append)&&"FormData"===e[pt]&&e[ht])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(_t(e)){if(t.indexOf(e)>=0)return;if(xt(e))return e;if(!("toJSON"in e)){t[r]=e;const a=yt(e)?[]:{};return Ot(e,(e,t)=>{const i=n(e,r+1);!bt(i)&&(a[t]=i)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Gt,isThenable:e=>e&&(_t(e)||Nt(e))&&Nt(e.then)&&Nt(e.catch),setImmediate:Yt,asap:Kt,isIterable:e=>null!=e&&Nt(e[ht])};function Jt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}$t.inherits(Jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$t.toJSONObject(this.config),code:this.code,status:this.status}}});const Xt=Jt.prototype,Qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Qt[e]={value:e}}),Object.defineProperties(Jt,Qt),Object.defineProperty(Xt,"isAxiosError",{value:!0}),Jt.from=(e,t,n,r,a,i)=>{const s=Object.create(Xt);return $t.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Jt.call(s,e.message,t,n,r,a),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const Zt=Jt;function en(e){return $t.isPlainObject(e)||$t.isArray(e)}function tn(e){return $t.endsWith(e,"[]")?e.slice(0,-2):e}function nn(e,t,n){return e?e.concat(t).map(function(e,t){return e=tn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const rn=$t.toFlatObject($t,{},null,function(e){return/^is[A-Z]/.test(e)});const an=function(e,t,n){if(!$t.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=$t.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!$t.isUndefined(t[e])})).metaTokens,a=n.visitor||c,i=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&$t.isSpecCompliantForm(t);if(!$t.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if($t.isDate(e))return e.toISOString();if($t.isBoolean(e))return e.toString();if(!o&&$t.isBlob(e))throw new Zt("Blob is not supported. Use a Buffer instead.");return $t.isArrayBuffer(e)||$t.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let o=e;if(e&&!a&&"object"===typeof e)if($t.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if($t.isArray(e)&&function(e){return $t.isArray(e)&&!e.some(en)}(e)||($t.isFileList(e)||$t.endsWith(n,"[]"))&&(o=$t.toArray(e)))return n=tn(n),o.forEach(function(e,r){!$t.isUndefined(e)&&null!==e&&t.append(!0===s?nn([n],r,i):null===s?n:n+"[]",l(e))}),!1;return!!en(e)||(t.append(nn(a,n,i),l(e)),!1)}const d=[],u=Object.assign(rn,{defaultVisitor:c,convertValue:l,isVisitable:en});if(!$t.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!$t.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),$t.forEach(n,function(n,i){!0===(!($t.isUndefined(n)||null===n)&&a.call(t,n,$t.isString(i)?i.trim():i,r,u))&&e(n,r?r.concat(i):[i])}),d.pop()}}(e),t};function sn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function on(e,t){this._pairs=[],e&&an(e,this,t)}const ln=on.prototype;ln.append=function(e,t){this._pairs.push([e,t])},ln.toString=function(e){const t=e?function(t){return e.call(this,t,sn)}:sn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const cn=on;function dn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function un(e,t,n){if(!t)return e;const r=n&&n.encode||dn;$t.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(i=a?a(t,n):$t.isURLSearchParams(t)?t.toString():new cn(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const hn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$t.forEach(this.handlers,function(t){null!==t&&e(t)})}},pn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:cn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},fn="undefined"!==typeof window&&"undefined"!==typeof document,vn="object"===typeof navigator&&navigator||void 0,gn=fn&&(!vn||["ReactNative","NativeScript","NS"].indexOf(vn.product)<0),yn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,bn=fn&&window.location.href||"http://localhost",xn=ke(ke({},r),mn);const wn=function(e){function t(e,n,r,a){let i=e[a++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),o=a>=e.length;if(i=!i&&$t.isArray(r)?r.length:i,o)return $t.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s;r[i]&&$t.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],a)&&$t.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}(r[i])),!s}if($t.isFormData(e)&&$t.isFunction(e.entries)){const n={};return $t.forEachEntry(e,(e,r)=>{t(function(e){return $t.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const jn={transitional:pn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=$t.isObject(e);a&&$t.isHTMLForm(e)&&(e=new FormData(e));if($t.isFormData(e))return r?JSON.stringify(wn(e)):e;if($t.isArrayBuffer(e)||$t.isBuffer(e)||$t.isStream(e)||$t.isFile(e)||$t.isBlob(e)||$t.isReadableStream(e))return e;if($t.isArrayBufferView(e))return e.buffer;if($t.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return an(e,new xn.classes.URLSearchParams,ke({visitor:function(e,t,n,r){return xn.isNode&&$t.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=$t.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return an(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if($t.isString(e))try{return(t||JSON.parse)(e),$t.trim(e)}catch(n_){if("SyntaxError"!==n_.name)throw n_}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||jn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if($t.isResponse(e)||$t.isReadableStream(e))return e;if(e&&$t.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(n_){if(n){if("SyntaxError"===n_.name)throw Zt.from(n_,Zt.ERR_BAD_RESPONSE,this,null,this.response);throw n_}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xn.classes.FormData,Blob:xn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$t.forEach(["delete","get","head","post","put","patch"],e=>{jn.headers[e]={}});const Nn=jn,kn=$t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_n=Symbol("internals");function Sn(e){return e&&String(e).trim().toLowerCase()}function An(e){return!1===e||null==e?e:$t.isArray(e)?e.map(An):String(e)}function Cn(e,t,n,r,a){return $t.isFunction(r)?r.call(this,t,n):(a&&(t=n),$t.isString(t)?$t.isString(r)?-1!==t.indexOf(r):$t.isRegExp(r)?r.test(t):void 0:void 0)}class Ln{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=Sn(t);if(!a)throw new Error("header name must be a non-empty string");const i=$t.findKey(r,a);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=An(e))}const i=(e,t)=>$t.forEach(e,(e,n)=>a(e,n,t));if($t.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if($t.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&kn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if($t.isObject(e)&&$t.isIterable(e)){let n,r,a={};for(const t of e){if(!$t.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?$t.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=Sn(e)){const n=$t.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if($t.isFunction(t))return t.call(this,e,n);if($t.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Sn(e)){const n=$t.findKey(this,e);return!(!n||void 0===this[n]||t&&!Cn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=Sn(e)){const a=$t.findKey(n,e);!a||t&&!Cn(0,n[a],a,t)||(delete n[a],r=!0)}}return $t.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Cn(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return $t.forEach(this,(r,a)=>{const i=$t.findKey(n,a);if(i)return t[i]=An(r),void delete t[a];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();s!==a&&delete t[a],t[s]=An(r),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return $t.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&$t.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[_n]=this[_n]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Sn(e);t[r]||(!function(e,t){const n=$t.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return $t.isArray(e)?e.forEach(r):r(e),this}}Ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),$t.reduceDescriptors(Ln.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),$t.freezeMethods(Ln);const Pn=Ln;function En(e,t){const n=this||Nn,r=t||n,a=Pn.from(r.headers);let i=r.data;return $t.forEach(e,function(e){i=e.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Fn(e){return!(!e||!e.__CANCEL__)}function Tn(e,t,n){Zt.call(this,null==e?"canceled":e,Zt.ERR_CANCELED,t,n),this.name="CanceledError"}$t.inherits(Tn,Zt,{__CANCEL__:!0});const Rn=Tn;function Dn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Zt("Request failed with status code "+n.status,[Zt.ERR_BAD_REQUEST,Zt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const On=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,i=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[s];a||(a=l),n[i]=o,r[i]=l;let d=s,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const In=function(e,t){let n,r,a=0,i=1e3/t;const s=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?s(l,e):(n=l,r||(r=setTimeout(()=>{r=null,s(n)},i-t)))},()=>n&&s(n)]},Mn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=On(50,250);return In(n=>{const i=n.loaded,s=n.lengthComputable?n.total:void 0,o=i-r,l=a(o);r=i;e({loaded:i,total:s,progress:s?i/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},Bn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Un=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $t.asap(()=>e(...n))},zn=xn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,xn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(xn.origin),xn.navigator&&/(msie|trident)/i.test(xn.navigator.userAgent)):()=>!0,qn=xn.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const s=[e+"="+encodeURIComponent(t)];$t.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),$t.isString(r)&&s.push("path="+r),$t.isString(a)&&s.push("domain="+a),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Vn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Hn=e=>e instanceof Pn?ke({},e):e;function Wn(e,t){t=t||{};const n={};function r(e,t,n,r){return $t.isPlainObject(e)&&$t.isPlainObject(t)?$t.merge.call({caseless:r},e,t):$t.isPlainObject(t)?$t.merge({},t):$t.isArray(t)?t.slice():t}function a(e,t,n,a){return $t.isUndefined(t)?$t.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function i(e,t){if(!$t.isUndefined(t))return r(void 0,t)}function s(e,t){return $t.isUndefined(t)?$t.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,a,i){return i in t?r(n,a):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>a(Hn(e),Hn(t),0,!0)};return $t.forEach(Object.keys(ke(ke({},e),t)),function(r){const i=l[r]||a,s=i(e[r],t[r],r);$t.isUndefined(s)&&i!==o||(n[r]=s)}),n}const Gn=e=>{const t=Wn({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Pn.from(o),t.url=un(Vn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),$t.isFormData(r))if(xn.hasStandardBrowserEnv||xn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(xn.hasStandardBrowserEnv&&(a&&$t.isFunction(a)&&(a=a(t)),a||!1!==a&&zn(t.url))){const e=i&&s&&qn.read(s);e&&o.set(i,e)}return t},Yn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Gn(e);let a=r.data;const i=Pn.from(r.headers).normalize();let s,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=r;function m(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function v(){if(!f)return;const r=Pn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Dn(function(e){t(e),m()},function(e){n(e),m()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(n(new Zt("Request aborted",Zt.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Zt("Network Error",Zt.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||pn;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Zt(t,a.clarifyTimeoutError?Zt.ETIMEDOUT:Zt.ECONNABORTED,e,f)),f=null},void 0===a&&i.setContentType(null),"setRequestHeader"in f&&$t.forEach(i.toJSON(),function(e,t){f.setRequestHeader(t,e)}),$t.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),p&&([l,d]=Mn(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=Mn(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{f&&(n(!t||t.type?new Rn(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===xn.protocols.indexOf(g)?n(new Zt("Unsupported protocol "+g+":",Zt.ERR_BAD_REQUEST,e)):f.send(a||null)})},Kn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Zt?t:new Rn(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,a(new Zt("timeout ".concat(t," of ms exceeded"),Zt.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=r;return o.unsubscribe=()=>$t.asap(s),o}};function $n(e,t){this.v=e,this.k=t}function Jn(e){return function(){return new Xn(e.apply(this,arguments))}}function Xn(e){var t,n;function r(t,n){try{var i=e[t](n),s=i.value,o=s instanceof $n;Promise.resolve(o?s.v:s).then(function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}a(i.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(i,s){var o={key:e,arg:a,resolve:i,reject:s,next:null};n?n=n.next=o:(t=n=o,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Qn(e){return new $n(e,0)}function Zn(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new $n(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function er(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new tr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function tr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return tr=function(e){this.s=e,this.n=e.next},tr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new tr(e)}Xn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Xn.prototype.next=function(e){return this._invoke("next",e)},Xn.prototype.throw=function(e){return this._invoke("throw",e)},Xn.prototype.return=function(e){return this._invoke("return",e)};const nr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},rr=function(){var e=Jn(function*(e,t){var n,r=!1,a=!1;try{for(var i,s=er(ar(e));r=!(i=yield Qn(s.next())).done;r=!1){const e=i.value;yield*Zn(er(nr(e,t)))}}catch(o){a=!0,n=o}finally{try{r&&null!=s.return&&(yield Qn(s.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),ar=function(){var e=Jn(function*(e){if(e[Symbol.asyncIterator])return void(yield*Zn(er(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Qn(t.read());if(e)break;yield n}}finally{yield Qn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),ir=(e,t,n,r)=>{const a=rr(e,t);let i,s=0,o=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return o(),void e.close();let i=r.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},sr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,or=sr&&"function"===typeof ReadableStream,lr=sr&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),cr=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(n_){return!1}},dr=or&&cr(()=>{let e=!1;const t=new Request(xn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ur=or&&cr(()=>$t.isReadableStream(new Response("").body)),hr={stream:ur&&(e=>e.body)};var pr;sr&&(pr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hr[e]&&(hr[e]=$t.isFunction(pr[e])?t=>t[e]():(t,n)=>{throw new Zt("Response type '".concat(e,"' is not supported"),Zt.ERR_NOT_SUPPORT,n)})}));const mr=async(e,t)=>{const n=$t.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if($t.isBlob(e))return e.size;if($t.isSpecCompliantForm(e)){const t=new Request(xn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return $t.isArrayBufferView(e)||$t.isArrayBuffer(e)?e.byteLength:($t.isURLSearchParams(e)&&(e+=""),$t.isString(e)?(await lr(e)).byteLength:void 0)})(t):n},fr=sr&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=Gn(e);c=c?(c+"").toLowerCase():"text";let p,m=Kn([a,i&&i.toAbortSignal()],s);const f=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(l&&dr&&"get"!==n&&"head"!==n&&0!==(v=await mr(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if($t.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Bn(v,Mn(Un(l)));r=ir(n.body,65536,e,t)}}$t.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;p=new Request(t,ke(ke({},h),{},{signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:a?u:void 0}));let i=await fetch(p,h);const s=ur&&("stream"===c||"response"===c);if(ur&&(o||s&&f)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=$t.toFiniteNumber(i.headers.get("content-length")),[n,r]=o&&Bn(t,Mn(Un(o),!0))||[];i=new Response(ir(i.body,65536,n,()=>{r&&r(),f&&f()}),e)}c=c||"text";let g=await hr[$t.findKey(hr,c)||"text"](i,e);return!s&&f&&f(),await new Promise((t,n)=>{Dn(t,n,{data:g,headers:Pn.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})})}catch(g){if(f&&f(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new Zt("Network Error",Zt.ERR_NETWORK,e,p),{cause:g.cause||g});throw Zt.from(g,g&&g.code,e,p)}}),vr={http:null,xhr:Yn,fetch:fr};$t.forEach(vr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n_){}Object.defineProperty(e,"adapterName",{value:t})}});const gr=e=>"- ".concat(e),yr=e=>$t.isFunction(e)||null===e||!1===e,br=e=>{e=$t.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!yr(n)&&(r=vr[(t=String(n)).toLowerCase()],void 0===r))throw new Zt("Unknown adapter '".concat(t,"'"));if(r)break;a[t||"#"+i]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(gr).join("\n"):" "+gr(e[0]):"as no adapter specified";throw new Zt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function xr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rn(null,e)}function wr(e){xr(e),e.headers=Pn.from(e.headers),e.data=En.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return br(e.adapter||Nn.adapter)(e).then(function(t){return xr(e),t.data=En.call(e,e.transformResponse,t),t.headers=Pn.from(t.headers),t},function(t){return Fn(t)||(xr(e),t&&t.response&&(t.response.data=En.call(e,e.transformResponse,t.response),t.response.headers=Pn.from(t.response.headers))),Promise.reject(t)})}const jr="1.11.0",Nr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Nr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const kr={};Nr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+jr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,i)=>{if(!1===e)throw new Zt(r(a," has been removed"+(t?" in "+t:"")),Zt.ERR_DEPRECATED);return t&&!kr[a]&&(kr[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,i)}},Nr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const _r={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Zt("options must be an object",Zt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new Zt("option "+i+" must be "+n,Zt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Zt("Unknown option "+i,Zt.ERR_BAD_OPTION)}},validators:Nr},Sr=_r.validators;class Ar{constructor(e){this.defaults=e||{},this.interceptors={request:new hn,response:new hn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(n_){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Wn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&_r.assertOptions(n,{silentJSONParsing:Sr.transitional(Sr.boolean),forcedJSONParsing:Sr.transitional(Sr.boolean),clarifyTimeoutError:Sr.transitional(Sr.boolean)},!1),null!=r&&($t.isFunction(r)?t.paramsSerializer={serialize:r}:_r.assertOptions(r,{encode:Sr.function,serialize:Sr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),_r.assertOptions(t,{baseUrl:Sr.spelling("baseURL"),withXsrfToken:Sr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=a&&$t.merge(a.common,a[t.method]);a&&$t.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Pn.concat(i,a);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[wr.bind(this),void 0];for(e.unshift(...s),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let h=t;for(u=0;u<d;){const e=s[u++],t=s[u++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=wr.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return un(Vn((e=Wn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}$t.forEach(["delete","get","head","options"],function(e){Ar.prototype[e]=function(t,n){return this.request(Wn(n||{},{method:e,url:t,data:(n||{}).data}))}}),$t.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Wn(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ar.prototype[e]=t(),Ar.prototype[e+"Form"]=t(!0)});const Cr=Ar;class Lr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Rn(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Lr(function(t){e=t});return{token:t,cancel:e}}}const Pr=Lr;const Er={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Er).forEach(e=>{let[t,n]=e;Er[n]=t});const Fr=Er;const Tr=function e(t){const n=new Cr(t),r=ct(Cr.prototype.request,n);return $t.extend(r,Cr.prototype,n,{allOwnKeys:!0}),$t.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Wn(t,n))},r}(Nn);Tr.Axios=Cr,Tr.CanceledError=Rn,Tr.CancelToken=Pr,Tr.isCancel=Fn,Tr.VERSION=jr,Tr.toFormData=an,Tr.AxiosError=Zt,Tr.Cancel=Tr.CanceledError,Tr.all=function(e){return Promise.all(e)},Tr.spread=function(e){return function(t){return e.apply(null,t)}},Tr.isAxiosError=function(e){return $t.isObject(e)&&!0===e.isAxiosError},Tr.mergeConfig=Wn,Tr.AxiosHeaders=Pn,Tr.formToJSON=e=>wn($t.isHTMLForm(e)?new FormData(e):e),Tr.getAdapter=br,Tr.HttpStatusCode=Fr,Tr.default=Tr;const Rr=Tr,Dr=function(e){let{minimumFractionDigits:t=2,maximumFractionDigits:n=2}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Number(e);return Number.isFinite(r)?new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:t,maximumFractionDigits:n}).format(r):new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:t,maximumFractionDigits:n}).format(0)},Or=e=>{const t=Number(e);if(!Number.isFinite(t))return"LKR\xa00";if(Math.abs(t)<1e3)return Dr(t,{minimumFractionDigits:0,maximumFractionDigits:0});const n=new Intl.NumberFormat("en-LK",{notation:"compact",maximumFractionDigits:1}).format(t);return"LKR\xa0".concat(n)};const Ir=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),o=te();(0,i.useEffect)(()=>{Rr.get("http://localhost:5000/products").then(e=>t(e.data)).catch(e=>console.error("Error fetching products:",e))},[]);const l=e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())).sort((e,t)=>"asc"===a?e.price-t.price:"desc"===a?t.price-e.price:0);return(0,_e.jsxs)("div",{className:"product-list-container",children:[(0,_e.jsx)("h2",{children:"Products"}),(0,_e.jsxs)("div",{className:"search-sort",children:[(0,_e.jsx)("input",{type:"text",placeholder:"Search...",value:n,onChange:e=>r(e.target.value)}),(0,_e.jsxs)("select",{value:a,onChange:e=>s(e.target.value),children:[(0,_e.jsx)("option",{value:"",children:"Sort by price"}),(0,_e.jsx)("option",{value:"asc",children:"Low to High"}),(0,_e.jsx)("option",{value:"desc",children:"High to Low"})]})]}),(0,_e.jsx)(it,{to:"/add-product",children:(0,_e.jsx)("button",{className:"add-btn",children:"+ Add Product"})}),(0,_e.jsx)("div",{className:"product-grid",children:l.length>0?l.map(n=>(0,_e.jsxs)("div",{className:"product-card",children:[(0,_e.jsx)("img",{src:"http://localhost:5000".concat(n.imageUrl),alt:n.name,className:"product-thumb"}),(0,_e.jsx)("h3",{children:n.name}),(0,_e.jsx)("p",{children:Dr(n.price)}),(0,_e.jsx)("p",{children:n.brand}),(0,_e.jsx)("p",{children:n.category}),(0,_e.jsxs)("div",{className:"product-actions",children:[(0,_e.jsx)("button",{onClick:()=>(e=>{o("/update-product/".concat(e))})(n._id),children:"Update"}),(0,_e.jsx)("button",{onClick:()=>(async n=>{if(window.confirm("Delete this product?"))try{await Rr.delete("http://localhost:5000/products/".concat(n)),t(e.filter(e=>e._id!==n))}catch(r){console.error("Error deleting product:",r)}})(n._id),children:"Delete"})]})]},n._id)):(0,_e.jsx)("p",{children:"No products found."})})]})};const Mr=function(){const[e,t]=(0,i.useState)({name:"",price:"",description:"",category:"",brand:"",inStock:!1,stockAmount:"",image:null}),n=n=>{const{name:r,value:a,type:i,checked:s,files:o}=n.target;t(ke(ke({},e),{},"image"===r?{image:o[0]}:"checkbox"===i?{[r]:s}:{[r]:a}))};return(0,_e.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),!e.image)return alert("Please select an image!");if(e.inStock&&(!e.stockAmount||e.stockAmount<=0))return alert("Please enter a valid stock amount.");const r=new FormData;Object.keys(e).forEach(t=>r.append(t,e[t]));try{const e=await fetch("http://localhost:5000/products",{method:"POST",body:r}),n=await e.json();e.ok?(alert("Product added successfully!"),t({name:"",price:"",description:"",category:"",brand:"",inStock:!1,stockAmount:"",image:null})):alert(n.message)}catch(a){console.error(a),alert("Something went wrong!")}},children:[(0,_e.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:e.name,onChange:n,required:!0}),(0,_e.jsx)("input",{type:"number",name:"price",placeholder:"Price",value:e.price,onChange:n,required:!0}),(0,_e.jsx)("input",{type:"text",name:"description",placeholder:"Description",value:e.description,onChange:n,required:!0}),(0,_e.jsx)("input",{type:"text",name:"category",placeholder:"Category",value:e.category,onChange:n,required:!0}),(0,_e.jsx)("input",{type:"text",name:"brand",placeholder:"Brand",value:e.brand,onChange:n,required:!0}),(0,_e.jsxs)("label",{children:[(0,_e.jsx)("input",{type:"checkbox",name:"inStock",checked:e.inStock,onChange:n}),"In Stock"]}),e.inStock&&(0,_e.jsx)("input",{type:"number",name:"stockAmount",placeholder:"Stock Amount",value:e.stockAmount,onChange:n,min:"1",required:!0}),(0,_e.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:n,required:!0}),(0,_e.jsx)("button",{type:"submit",children:"Add Product"})]})};const Br=function(){const{id:e}=ne(),t=te(),[n,r]=(0,i.useState)({name:"",price:"",description:"",category:"",brand:"",inStock:!1,stockAmount:"",image:null,imageUrl:""});(0,i.useEffect)(()=>{fetch("http://localhost:5000/products/".concat(e)).then(e=>e.json()).then(e=>{r({name:e.name||"",price:e.price||"",description:e.description||"",category:e.category||"",brand:e.brand||"",inStock:e.inStock||!1,stockAmount:e.stockAmount||"",image:null,imageUrl:e.imageUrl||""})}).catch(e=>console.error("Error fetching product:",e))},[e]);const a=e=>{const{name:t,value:a,type:i,checked:s,files:o}=e.target;r(ke(ke({},n),{},"file"===i?{image:o[0]}:"checkbox"===i?{[t]:s}:{[t]:a}))};return(0,_e.jsxs)("div",{className:"update-product-container",children:[(0,_e.jsx)("h2",{children:"Edit product"}),(0,_e.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),n.inStock&&(!n.stockAmount||n.stockAmount<=0))return void alert("Please enter a valid stock amount.");const a=new FormData;a.append("name",n.name),a.append("price",n.price),a.append("description",n.description),a.append("category",n.category),a.append("brand",n.brand),a.append("inStock",n.inStock),a.append("stockAmount",n.stockAmount),n.image&&a.append("image",n.image);try{const n=await fetch("http://localhost:5000/products/".concat(e),{method:"PUT",body:a}),r=await n.json();n.ok?(alert("\u2705 Product updated successfully!"),t("/products")):alert(r.message)}catch(i){console.error("Error updating product:",i),alert("Something went wrong!")}},className:"update-product-form",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{htmlFor:"product-name",children:"Name"}),(0,_e.jsx)("input",{id:"product-name",className:"input",type:"text",name:"name",placeholder:"Name",value:n.name,onChange:a,required:!0})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{htmlFor:"product-price",children:"Price"}),(0,_e.jsx)("input",{id:"product-price",className:"input",type:"number",name:"price",placeholder:"Price",value:n.price,onChange:a,required:!0})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{htmlFor:"product-description",children:"Description"}),(0,_e.jsx)("textarea",{id:"product-description",className:"input",name:"description",placeholder:"Description",value:n.description,onChange:a,required:!0})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{htmlFor:"product-category",children:"Category"}),(0,_e.jsx)("input",{id:"product-category",className:"input",type:"text",name:"category",placeholder:"Category",value:n.category,onChange:a,required:!0})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{htmlFor:"product-brand",children:"Brand"}),(0,_e.jsx)("input",{id:"product-brand",className:"input",type:"text",name:"brand",placeholder:"Brand",value:n.brand,onChange:a,required:!0})]}),(0,_e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_e.jsx)("input",{id:"product-instock",type:"checkbox",name:"inStock",checked:n.inStock,onChange:a}),(0,_e.jsx)("label",{htmlFor:"product-instock",children:"Stock available"})]}),n.inStock&&(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{htmlFor:"product-stock",children:"Stock amount"}),(0,_e.jsx)("input",{id:"product-stock",className:"input",type:"number",name:"stockAmount",placeholder:"Stock amount",value:n.stockAmount,onChange:a,min:"1",required:!0})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{htmlFor:"product-image",children:"Upload product image"}),(0,_e.jsx)("input",{id:"product-image",className:"input",type:"file",name:"image",accept:"image/*",onChange:a})]}),n.imageUrl&&(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("p",{className:"text-muted",children:"Current image"}),(0,_e.jsx)("img",{src:"http://localhost:5000".concat(n.imageUrl),alt:"Current",style:{width:"160px",borderRadius:"12px"}})]}),(0,_e.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update product"})]})]})},Ur=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.length>120?"".concat(e.slice(0,117),"\u2026"):e:"Tap to explore the full product story."};const zr=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)("grid"),c=Z(),[d,u]=(0,i.useState)(()=>new URLSearchParams(c.search).get("search")||""),[h,p]=(0,i.useState)(""),m=te(),{user:f}=Ae(),{addToCart:v}=(0,i.useContext)(Oe),g=(0,i.useMemo)(()=>"http://localhost:5000".replace(/\/$/,""),[]);(0,i.useEffect)(()=>{let e=!1;return r(!0),s(""),fetch("".concat(g,"/products")).then(async e=>{if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||"Failed to fetch products")}return e.json()}).then(n=>{e||t(Array.isArray(n)?n:[])}).catch(t=>{console.error("Error fetching products:",t),e||s(t.message||"Unable to load products")}).finally(()=>{e||r(!1)}),()=>{e=!0}},[g]),(0,i.useEffect)(()=>{const e=new URLSearchParams(c.search).get("search")||"";u(t=>t===e?t:e)},[c.search]);const y=(0,i.useMemo)(()=>{const t=d.trim().toLowerCase();return e.filter(e=>[e.name,e.brand,e.category].map(e=>(null===e||void 0===e?void 0:e.toLowerCase())||"").some(e=>e.includes(t))).sort((e,t)=>{switch(h){case"price-asc":return(e.price||0)-(t.price||0);case"price-desc":return(t.price||0)-(e.price||0);case"brand-asc":return(e.brand||"").localeCompare(t.brand||"");case"brand-desc":return(t.brand||"").localeCompare(e.brand||"");case"category-asc":return(e.category||"").localeCompare(t.category||"");case"category-desc":return(t.category||"").localeCompare(e.category||"");default:return 0}})},[e,d,h]),b=(0,i.useMemo)(()=>{const t=e.length,n=(r=e,a=e=>e.category,Array.from(new Set(r.map(a).filter(Boolean))).length);var r,a;const i=e.filter(e=>e.inStock&&Number(e.stockAmount)>0).length;return{total:t,categories:n,inStock:i}},[e]);return(0,_e.jsxs)("div",{className:"catalogue",children:[(0,_e.jsxs)("section",{className:"catalogue-hero",children:[(0,_e.jsx)("span",{className:"catalogue-hero__glow","aria-hidden":!0}),(0,_e.jsxs)("div",{className:"catalogue-hero__content",children:[(0,_e.jsxs)("div",{className:"catalogue-hero__header",children:[(0,_e.jsx)("span",{className:"label-pill",children:"Premium tools & hardware"}),f&&(0,_e.jsxs)("button",{type:"button",className:"hero-cart",onClick:()=>m("/customercart"),children:[(0,_e.jsx)("span",{"aria-hidden":!0,children:"\ud83d\uded2"})," View cart"]})]}),(0,_e.jsx)("h1",{className:"catalogue-title",children:"Find the right tool for every build"}),(0,_e.jsx)("p",{className:"catalogue-subtitle",children:"Discover curated gear, compare brands, and keep your projects moving with real-time stock visibility and rapid checkout."}),(0,_e.jsxs)("div",{className:"catalogue-stats",role:"list","aria-label":"Catalogue stats",children:[(0,_e.jsxs)("div",{className:"catalogue-stat",role:"listitem",children:[(0,_e.jsx)("span",{className:"catalogue-stat__label",children:"Products"}),(0,_e.jsx)("span",{className:"catalogue-stat__value",children:b.total})]}),(0,_e.jsxs)("div",{className:"catalogue-stat",role:"listitem",children:[(0,_e.jsx)("span",{className:"catalogue-stat__label",children:"Categories"}),(0,_e.jsx)("span",{className:"catalogue-stat__value",children:b.categories})]}),(0,_e.jsxs)("div",{className:"catalogue-stat",role:"listitem",children:[(0,_e.jsx)("span",{className:"catalogue-stat__label",children:"In stock"}),(0,_e.jsx)("span",{className:"catalogue-stat__value",children:b.inStock})]})]})]})]}),(0,_e.jsxs)("section",{className:"catalogue-toolbar","aria-label":"Product filters",children:[(0,_e.jsxs)("div",{className:"search-group",children:[(0,_e.jsx)("input",{type:"text",value:d,placeholder:"Search by name, brand, or category",onChange:e=>u(e.target.value)}),d&&(0,_e.jsx)("button",{type:"button",className:"btn-clear",onClick:()=>u(""),children:"Clear"})]}),(0,_e.jsxs)("div",{className:"toolbar-actions",children:[(0,_e.jsxs)("select",{value:h,onChange:e=>p(e.target.value),children:[(0,_e.jsx)("option",{value:"",children:"Sort products"}),(0,_e.jsx)("option",{value:"price-asc",children:"Price: Low \u2192 High"}),(0,_e.jsx)("option",{value:"price-desc",children:"Price: High \u2192 Low"}),(0,_e.jsx)("option",{value:"brand-asc",children:"Brand: A \u2192 Z"}),(0,_e.jsx)("option",{value:"brand-desc",children:"Brand: Z \u2192 A"}),(0,_e.jsx)("option",{value:"category-asc",children:"Category: A \u2192 Z"}),(0,_e.jsx)("option",{value:"category-desc",children:"Category: Z \u2192 A"})]}),(0,_e.jsxs)("div",{className:"view-toggle",role:"group","aria-label":"Toggle layout",children:[(0,_e.jsx)("button",{type:"button",className:"grid"===o?"active":"",onClick:()=>l("grid"),"aria-pressed":"grid"===o,children:"Grid"}),(0,_e.jsx)("button",{type:"button",className:"list"===o?"active":"",onClick:()=>l("list"),"aria-pressed":"list"===o,children:"List"})]})]})]}),(0,_e.jsx)("section",{className:"catalogue-grid catalogue-grid--".concat(o),"aria-label":"Product catalogue",children:n?(0,_e.jsx)("div",{className:"catalogue-skeletons","aria-hidden":!0,children:Array.from({length:6}).map((e,t)=>(0,_e.jsx)("div",{className:"product-card product-card--skeleton"},t))}):a?(0,_e.jsxs)("div",{className:"catalogue-error",children:[(0,_e.jsx)("h2",{children:"Unable to load products"}),(0,_e.jsx)("p",{children:a}),(0,_e.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Retry"})]}):0===y.length?(0,_e.jsxs)("div",{className:"catalogue-empty",children:[(0,_e.jsx)("h2",{children:"No products matched your filters"}),(0,_e.jsx)("p",{children:"Try adjusting the search or sorting options to discover more gear."})]}):y.map(e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return"";if(/^https?:/i.test(t))return t;const n=t.startsWith("/")?t:"/".concat(t);return"".concat(e).concat(n)}(g,e.imageUrl),n=e.inStock&&Number(e.stockAmount)>0;return(0,_e.jsxs)("article",{className:"product-card",children:[(0,_e.jsxs)("div",{className:"product-card__media",children:[t?(0,_e.jsx)("img",{src:t,alt:e.name,loading:"lazy"}):(0,_e.jsx)("div",{className:"product-card__placeholder","aria-hidden":!0,children:(0,_e.jsx)("span",{children:"No image"})}),!n&&(0,_e.jsx)("span",{className:"product-card__badge",children:"Out of stock"})]}),(0,_e.jsxs)("div",{className:"product-card__body",children:[(0,_e.jsx)("h3",{className:"product-card__title",children:e.name}),(0,_e.jsx)("p",{className:"product-card__summary",children:Ur(e.description)}),(0,_e.jsxs)("dl",{className:"product-card__meta",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("dt",{children:"Brand"}),(0,_e.jsx)("dd",{children:e.brand||"N/A"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("dt",{children:"Category"}),(0,_e.jsx)("dd",{children:e.category||"Uncategorized"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("dt",{children:"Price"}),(0,_e.jsx)("dd",{children:Dr(e.price)})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("dt",{children:"Stock"}),(0,_e.jsx)("dd",{children:n?"".concat(e.stockAmount," available"):"Out of stock"})]})]})]}),(0,_e.jsxs)("div",{className:"product-card__actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>m("/product/".concat(e._id)),children:"View details"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>(e=>{f?(v(e),m("/customercart")):m("/login",{state:{from:c.pathname}})})(e),disabled:!n,children:n?"Add to cart":"Notify me"})]})]},e._id)})})]})},qr="http://localhost:5000".replace(/\/$/,"");const Vr=function(){const e=te(),{token:t}=Ae(),[n,r]=(0,i.useState)({name:"",price:"",description:"",image:null}),a=e=>{"image"===e.target.name?r(ke(ke({},n),{},{image:e.target.files[0]})):r(ke(ke({},n),{},{[e.target.name]:e.target.value}))};return(0,_e.jsxs)("div",{className:"form-container",children:[(0,_e.jsx)("h2",{children:"Add supplier product"}),(0,_e.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),!n.image)return alert("Please select an image!");const a=new FormData;a.append("name",n.name),a.append("price",n.price),a.append("description",n.description),a.append("image",n.image);try{if(!t)return void alert("You need to be logged in as a supplier to add products.");const n=await fetch("".concat(qr,"/supplier-products"),{method:"POST",headers:{Authorization:t?"Bearer ".concat(t):void 0},body:a}),r=(n.headers.get("content-type")||"").includes("application/json")?await n.json():await n.text();if(n.ok)alert("Supplier product added successfully!"),e("/supplier-products");else{const e=r&&"object"===typeof r&&r.message||"string"===typeof r&&r||"Failed to add product";alert(e)}}catch(i){console.error(i),alert("Something went wrong!")}},className:"product-form",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{htmlFor:"name",children:"Product name"}),(0,_e.jsx)("input",{id:"name",className:"input",type:"text",name:"name",placeholder:"Enter product name",value:n.name,onChange:a,required:!0})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{htmlFor:"price",children:"Price"}),(0,_e.jsx)("input",{id:"price",className:"input",type:"number",name:"price",placeholder:"Enter price",value:n.price,onChange:a,required:!0})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{htmlFor:"description",children:"Description"}),(0,_e.jsx)("textarea",{id:"description",className:"input",name:"description",placeholder:"Enter description",value:n.description,onChange:a,required:!0})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{htmlFor:"image",children:"Upload product image"}),(0,_e.jsx)("input",{id:"image",className:"input",type:"file",name:"image",accept:"image/*",onChange:a,required:!0})]}),(0,_e.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add supplier product"})]})]})},Hr="http://localhost:5000".replace(/\/$/,""),Wr=[{value:"",label:"Sort by price"},{value:"asc",label:"Price: Low to high"},{value:"desc",label:"Price: High to low"},{value:"name",label:"Title A \u2192 Z"}];const Gr=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)(""),u=te(),{token:h,user:p}=Ae();(0,i.useEffect)(()=>{h?(async()=>{try{const e=await fetch("".concat(Hr,"/supplier-products"),{headers:{Authorization:h?"Bearer ".concat(h):""}}),n=(e.headers.get("content-type")||"").includes("application/json")?await e.json():await e.text();if(!e.ok){if(404===e.status)return t([]),void d("");const r=n&&"object"===typeof n&&n.message||"string"===typeof n&&n||"Failed to fetch products";throw new Error(r)}const r=Array.isArray(n)?n:(null===n||void 0===n?void 0:n.supplierProducts)||[];t(r),d("")}catch(e){console.error("Error fetching supplier products:",e),d(e.message)}finally{l(!1)}})():l(!1)},[h]);const m=(0,i.useMemo)(()=>{const t=n.trim().toLowerCase(),r=t?e.filter(e=>{var n,r;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(t))}):e;return[...r].sort((e,t)=>"asc"===a?Number(e.price)-Number(t.price):"desc"===a?Number(t.price)-Number(e.price):"name"===a?(e.name||"").localeCompare(t.name||""):0)},[e,n,a]);return o?(0,_e.jsx)("p",{children:" Loading supplier products..."}):c?(0,_e.jsxs)("p",{style:{color:"red"},children:[" ",c]}):(0,_e.jsxs)("div",{className:"product-list-container",children:[(0,_e.jsxs)("div",{className:"product-list-header",children:[(0,_e.jsxs)("div",{className:"stack-2xs",children:[(0,_e.jsx)("h2",{children:"Supplier Products"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Refine your catalogue and keep prices in sync."})]}),(0,_e.jsxs)("div",{className:"header-actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Refresh"}),p&&h&&(0,_e.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>u("/add-supplier-product"),children:"Add product"})]})]}),(0,_e.jsxs)("div",{className:"catalogue-filters",children:[(0,_e.jsxs)("label",{className:"filter search",children:[(0,_e.jsx)("span",{className:"icon","aria-hidden":!0,children:"\ud83d\udd0d"}),(0,_e.jsx)("input",{type:"search",placeholder:"Search products by name or description",value:n,onChange:e=>r(e.target.value)})]}),(0,_e.jsxs)("label",{className:"filter",children:[(0,_e.jsx)("span",{className:"label-text",children:"Sort"}),(0,_e.jsx)("select",{value:a,onChange:e=>s(e.target.value),children:Wr.map(e=>{let{value:t,label:n}=e;return(0,_e.jsx)("option",{value:t,children:n},t||"default")})})]})]}),(0,_e.jsx)("div",{className:"product-grid",children:m.length>0?m.map(e=>(0,_e.jsxs)("div",{className:"product-card",children:[(0,_e.jsx)("img",{src:e.imageUrl?e.imageUrl.startsWith("http")?e.imageUrl:"".concat(Hr).concat(e.imageUrl):"",alt:e.name}),(0,_e.jsx)("h3",{children:e.name}),(0,_e.jsxs)("p",{children:[(0,_e.jsx)("strong",{children:"Price:"})," ",Dr(e.price)]}),(0,_e.jsxs)("div",{className:"product-actions",children:[(0,_e.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>(e=>u("/update-supplier-product/".concat(e)))(e._id),children:"Edit"}),(0,_e.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{const n=await fetch("".concat(Hr,"/supplier-products/").concat(e),{method:"DELETE",headers:{Authorization:h?"Bearer ".concat(h):""}}),r=(n.headers.get("content-type")||"").includes("application/json")?await n.json():await n.text();if(n.ok)t(t=>t.filter(t=>t._id!==e)),alert("Product deleted successfully!");else{const e=r&&"object"===typeof r&&r.message||"string"===typeof r&&r||"Failed to delete product.";alert(e)}}catch(n){console.error("Error deleting product:",n)}})(e._id),children:"Delete"})]})]},e._id)):(0,_e.jsxs)("div",{className:"empty-state",children:[(0,_e.jsx)("p",{children:"No supplier products found."}),p&&h&&(0,_e.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>u("/add-supplier-product"),children:"Add your first product"})]})})]})};const Yr=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)(null),p=te(),{addToCart:m,cartItems:f}=(0,i.useContext)(Ge);(0,i.useEffect)(()=>{const e=localStorage.getItem("token");fetch("http://localhost:5000/supplier-products",{headers:{Authorization:e?"Bearer ".concat(e):""}}).then(async e=>{if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to fetch products")}return e.json()}).then(e=>{t(e),d("")}).catch(e=>{console.error("Error fetching supplier products:",e),d(e.message)}).finally(()=>l(!1))},[]),(0,i.useEffect)(()=>{if(!u)return;const e=setTimeout(()=>h(null),3500);return()=>clearTimeout(e)},[u]);const v=e.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(n.toLowerCase())}).sort((e,t)=>"asc"===a?e.price-t.price:"desc"===a?t.price-e.price:0);return o?(0,_e.jsx)("p",{children:"Loading supplier products..."}):c?(0,_e.jsxs)("p",{style:{color:"red"},children:[" ",c]}):(0,_e.jsxs)("div",{className:"product-list-container",children:[(0,_e.jsxs)("div",{className:"product-list-header",children:[(0,_e.jsx)("h2",{children:"Supplier Products"}),(0,_e.jsx)("button",{className:"btn btn-primary",onClick:()=>p("/AdminCart"),children:"View Cart"})]}),u&&(0,_e.jsxs)("div",{className:"cart-feedback ".concat("success"===u.type?"cart-feedback--success":"cart-feedback--error"),role:"status","aria-live":"polite",children:[(0,_e.jsx)("span",{children:u.message}),(0,_e.jsx)("button",{type:"button",className:"cart-feedback__close",onClick:()=>h(null),"aria-label":"Dismiss notification",children:"\xd7"})]}),(0,_e.jsxs)("div",{className:"search-sort",children:[(0,_e.jsx)("input",{type:"text",placeholder:"Search by product name...",value:n,onChange:e=>r(e.target.value)}),(0,_e.jsxs)("select",{value:a,onChange:e=>s(e.target.value),children:[(0,_e.jsx)("option",{value:"",children:"Sort by price"}),(0,_e.jsx)("option",{value:"asc",children:"Low to High"}),(0,_e.jsx)("option",{value:"desc",children:"High to Low"})]})]}),(0,_e.jsx)("div",{className:"product-grid",children:v.length>0?v.map(e=>{var t;return(0,_e.jsxs)("div",{className:"product-card",children:[(0,_e.jsx)("img",{src:null!==(t=e.imageUrl)&&void 0!==t&&t.startsWith("http")?e.imageUrl:"http://localhost:5000".concat(e.imageUrl),alt:e.name}),(0,_e.jsx)("h3",{children:e.name}),(0,_e.jsxs)("p",{children:[(0,_e.jsx)("strong",{children:"Price:"})," $",e.price]}),(0,_e.jsx)("p",{children:e.description}),(0,_e.jsxs)("div",{className:"product-actions",children:[(0,_e.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>{console.log("\ud83d\uded2 Adding to cart:",{productId:e._id,name:e.name,price:e.price,supplierId:e.supplierId}),(e=>{const t=null===f||void 0===f?void 0:f.some(t=>t.productId===e._id);m({productId:e._id,name:e.name,price:e.price,img:e.imageUrl,supplierId:e.supplierId,quantity:1}),h({type:"success",message:"".concat(e.name,t?" quantity updated in cart.":" added to cart.")})})(e)},children:"Add to Cart"}),(0,_e.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>p("/supplier-admin-product/".concat(e._id)),children:"View Details"})]})]},e._id)}):(0,_e.jsx)("p",{children:"No supplier products found."})})]})},Kr="http://localhost:5000".replace(/\/$/,"");const $r=function(){const{id:e}=ne(),t=te(),{token:n}=Ae(),[r,a]=(0,i.useState)({name:"",price:"",description:"",image:null,imageUrl:""});(0,i.useEffect)(()=>{n&&fetch("".concat(Kr,"/supplier-products/").concat(e),{headers:{Authorization:n?"Bearer ".concat(n):""}}).then(async e=>{const t=(e.headers.get("content-type")||"").includes("application/json")?await e.json():await e.text();if(!e.ok){const e=t&&"object"===typeof t&&t.message||"string"===typeof t&&t||"Failed to fetch supplier product";throw new Error(e)}return t}).then(e=>a(ke(ke({},e),{},{image:null,imageUrl:e.imageUrl||""}))).catch(e=>console.error("Error fetching product:",e))},[e,n]);const s=e=>{"file"===e.target.type?a(ke(ke({},r),{},{image:e.target.files[0]})):a(ke(ke({},r),{},{[e.target.name]:e.target.value}))};return(0,_e.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const i=new FormData;i.append("name",r.name),i.append("price",r.price),i.append("description",r.description),r.image&&i.append("image",r.image);try{const r=await fetch("".concat(Kr,"/supplier-products/").concat(e),{method:"PUT",headers:{Authorization:n?"Bearer ".concat(n):""},body:i}),a=(r.headers.get("content-type")||"").includes("application/json")?await r.json():await r.text();if(r.ok)alert("Supplier product updated successfully!"),t("/supplier-products");else{const e=a&&"object"===typeof a&&a.message||"string"===typeof a&&a||"Failed to update product";alert(e)}}catch(s){console.error(s),alert("Something went wrong!")}},className:"update-supplier-form",children:[(0,_e.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:r.name,onChange:s,required:!0}),(0,_e.jsx)("input",{type:"number",name:"price",placeholder:"Price",value:r.price,onChange:s,required:!0}),(0,_e.jsx)("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:s,required:!0}),(0,_e.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:s}),r.imageUrl&&(0,_e.jsx)("img",{src:r.imageUrl.startsWith("http")?r.imageUrl:"".concat(Kr).concat(r.imageUrl),alt:"Current",width:"150"}),(0,_e.jsx)("button",{type:"submit",children:"Update Supplier Product"})]})};function Jr(e){let{value:t,onChange:n,readOnly:r=!1,size:a=22}=e;return(0,_e.jsx)("div",{className:"star-rating",role:"radiogroup","aria-label":"Rating",children:[1,2,3,4,5].map(e=>(0,_e.jsx)("button",{type:"button",className:"star-rating__star".concat(t>=e?" star-rating__star--active":"").concat(r?" star-rating__star--readonly":""),onClick:()=>!r&&(null===n||void 0===n?void 0:n(e)),role:"radio","aria-checked":t===e,style:{fontSize:a},disabled:r,"aria-label":"Rate ".concat(e),children:"\u2605"},e))})}const Xr="http://localhost:5000".replace(/\/$/,"");const Qr=function(){var e,t;const{id:n}=ne(),r=te(),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=!1;return l(""),Rr.get("".concat(Xr,"/products/").concat(n)).then(t=>{e||s(t.data)}).catch(t=>{console.error("Error fetching product:",t),e||l("Unable to load this product. Please try again shortly.")}),()=>{e=!0}},[n]);const c=(0,i.useMemo)(()=>{var e,t;return a&&Number(null!==(e=null!==(t=a.totalReviews)&&void 0!==t?t:a.reviewCount)&&void 0!==e?e:Array.isArray(a.reviews)?a.reviews.length:0)||0},[a]),d=(0,i.useMemo)(()=>{var e,t;return a&&Number(null!==(e=null!==(t=a.averageRating)&&void 0!==t?t:a.rating)&&void 0!==e?e:0)||0},[a]),u=c>0&&d>0,h=Number(null!==(e=null===a||void 0===a?void 0:a.stockAmount)&&void 0!==e?e:0),p=null!==a&&void 0!==a&&a.inStock?h>0?"".concat(h," in stock"):"Available":"Out of stock",m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return null;if(/^https?:/i.test(e))return e;const t=e.startsWith("/")?e:"/".concat(e);return"".concat(Xr).concat(t)}(null===a||void 0===a?void 0:a.imageUrl),f=null!=(null===a||void 0===a?void 0:a.price)?Dr(a.price):"Not available",v=(null===a||void 0===a?void 0:a.sku)||(null!==a&&void 0!==a&&a._id?"#".concat(String(a._id).slice(-8).toUpperCase()):"N/A"),g=(null===a||void 0===a||null===(t=a.description)||void 0===t?void 0:t.trim())||"We\u2019re preparing more details for this product. Check back soon!",y=null!==a&&void 0!==a&&a.updatedAt?new Date(a.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):null!==a&&void 0!==a&&a.createdAt?new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Recently added",b=[{label:"Brand",value:(null===a||void 0===a?void 0:a.brand)||"Not specified"},{label:"Category",value:(null===a||void 0===a?void 0:a.category)||"Uncategorized"},{label:"SKU",value:v},{label:"Last updated",value:y}];return a||o?o?(0,_e.jsx)("div",{className:"product-page product-page--error",children:(0,_e.jsxs)("div",{className:"product-error-card",children:[(0,_e.jsx)("h2",{className:"heading-md",children:"Something went wrong"}),(0,_e.jsx)("p",{children:o}),(0,_e.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>r(-1),children:"Go back"})]})}):(0,_e.jsxs)("div",{className:"product-page",children:[(0,_e.jsx)("div",{className:"product-back",children:(0,_e.jsxs)("button",{type:"button",className:"product-back__btn",onClick:()=>r(-1),children:[(0,_e.jsx)("span",{"aria-hidden":!0,children:"\u2190"})," Back to previous page"]})}),(0,_e.jsxs)("section",{className:"product-hero",children:[(0,_e.jsx)("span",{className:"product-hero__glow","aria-hidden":!0}),(0,_e.jsxs)("div",{className:"product-hero__content",children:[(0,_e.jsxs)("div",{className:"product-hero__details",children:[(0,_e.jsxs)("div",{className:"product-tags","aria-label":"Product categories",children:[(null===a||void 0===a?void 0:a.category)&&(0,_e.jsx)("span",{className:"product-tag",children:a.category}),(null===a||void 0===a?void 0:a.brand)&&(0,_e.jsx)("span",{className:"product-tag product-tag--muted",children:a.brand})]}),(0,_e.jsx)("h1",{className:"product-title",children:(null===a||void 0===a?void 0:a.name)||"Product"}),(0,_e.jsx)("div",{className:"product-rating",children:u?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(Jr,{value:d,readOnly:!0,size:22}),(0,_e.jsx)("span",{className:"product-rating__value",children:d.toFixed(1)}),(0,_e.jsxs)("span",{className:"product-rating__count",children:["(",c," review",1===c?"":"s",")"]})]}):(0,_e.jsx)("span",{className:"product-rating__empty",children:"No reviews yet"})}),(0,_e.jsx)("p",{className:"product-summary",children:g}),(0,_e.jsxs)("div",{className:"product-price-card",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("span",{className:"product-price-card__label",children:"Price"}),(0,_e.jsx)("span",{className:"product-price-card__value",children:f})]}),(0,_e.jsx)("span",{className:"stock-pill ".concat(null!==a&&void 0!==a&&a.inStock?"stock-pill--available":"stock-pill--out"),children:p})]}),(0,_e.jsxs)("div",{className:"product-actions",children:[(0,_e.jsxs)("button",{type:"button",className:"btn btn-primary product-actions__cta",onClick:()=>r("/product/".concat(n,"/reviews")),children:["Read customer reviews",c>0?" (".concat(c,")"):""]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost product-actions__secondary",onClick:()=>r("/customer-products"),children:"Browse more products"})]})]}),(0,_e.jsx)("div",{className:"product-hero__media",children:(0,_e.jsxs)("div",{className:"product-hero__image-wrapper",children:[m?(0,_e.jsx)("img",{src:m,alt:(null===a||void 0===a?void 0:a.name)||"Product image",className:"product-hero__image"}):(0,_e.jsx)("div",{className:"product-hero__image product-hero__image--placeholder","aria-hidden":!0,children:(0,_e.jsx)("span",{children:"No image available"})}),(0,_e.jsx)("span",{className:"product-hero__image-shadow","aria-hidden":!0})]})})]})]}),(0,_e.jsxs)("section",{className:"product-secondary",children:[(0,_e.jsx)("div",{className:"product-spec-grid","aria-label":"Key product attributes",children:b.map(e=>(0,_e.jsxs)("article",{className:"product-spec-card",children:[(0,_e.jsx)("span",{className:"product-spec-card__label",children:e.label}),(0,_e.jsx)("span",{className:"product-spec-card__value",children:e.value})]},e.label))}),(0,_e.jsxs)("article",{className:"product-description-card",children:[(0,_e.jsx)("h2",{className:"product-description-card__title",children:"About this product"}),(0,_e.jsx)("p",{className:"product-description-card__text",children:g}),(0,_e.jsxs)("div",{className:"product-description-meta",children:[(0,_e.jsxs)("span",{children:["Updated ",y]}),(0,_e.jsxs)("span",{children:["Product ID ",v]})]})]})]})]}):(0,_e.jsxs)("div",{className:"product-page product-page--loading",children:[(0,_e.jsx)("div",{className:"product-skeleton","aria-hidden":!0}),(0,_e.jsx)("p",{className:"loading-message",children:"Loading beautiful product details\u2026"})]})};const Zr=function(){const{id:e}=ne(),t=te(),[n,r]=(0,i.useState)(null),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)("");(0,i.useEffect)(()=>{const t=new AbortController,n=localStorage.getItem("token");return s(!0),l(""),fetch("http://localhost:5000/supplier-products/".concat(e),{headers:{Authorization:n?"Bearer ".concat(n):""},signal:t.signal}).then(async e=>{if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||"Failed to load supplier product")}return e.json()}).then(e=>{r(e.supplierProducts||e)}).catch(e=>{"AbortError"!==e.name&&(console.error("Error fetching product:",e),l(e.message||"Failed to load product details"))}).finally(()=>s(!1)),()=>t.abort()},[e]);const c=(0,i.useMemo)(()=>null!==n&&void 0!==n&&n.imageUrl?n.imageUrl.startsWith("http")?n.imageUrl:"http://localhost:5000".concat(n.imageUrl):"/images/placeholder.png",[n]),d=(0,i.useMemo)(()=>{const e=Number(null===n||void 0===n?void 0:n.price)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"LKR",minimumFractionDigits:2}).format(e)},[n]),u=[{label:"Category",value:(null===n||void 0===n?void 0:n.category)||"\u2014"},{label:"Brand",value:(null===n||void 0===n?void 0:n.brand)||"\u2014"},{label:"Supplier",value:(null===n||void 0===n?void 0:n.supplierName)||(null===n||void 0===n?void 0:n.supplierId)||"\u2014"},{label:"Stock",value:void 0!==(null===n||void 0===n?void 0:n.stock)?n.stock:"\u2014"},{label:"Status",value:(null===n||void 0===n?void 0:n.status)||(null!==n&&void 0!==n&&n.inStock?"In stock":"Out of stock")}];return a?(0,_e.jsxs)("div",{className:"supplier-product-details__state",children:[(0,_e.jsx)("div",{className:"loader","aria-hidden":"true"}),(0,_e.jsx)("p",{children:"Loading supplier product\u2026"})]}):o?(0,_e.jsxs)("div",{className:"supplier-product-details__state supplier-product-details__state--error",children:[(0,_e.jsx)("h2",{children:"Unable to load product"}),(0,_e.jsx)("p",{children:o}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(-1),children:"Go back"})]}):n?(0,_e.jsxs)("div",{className:"supplier-product-details",children:[(0,_e.jsxs)("div",{className:"supplier-product-details__header",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost supplier-product-details__back",onClick:()=>t(-1),children:"\u2190 Back to supplier products"}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"badge",children:"Supplier product"}),(0,_e.jsx)("h1",{children:n.name}),(0,_e.jsx)("p",{className:"supplier-product-details__price",children:d})]})]}),(0,_e.jsxs)("div",{className:"supplier-product-details__content",children:[(0,_e.jsxs)("figure",{className:"supplier-product-details__image",children:[(0,_e.jsx)("img",{src:c,alt:n.name||"Supplier product"}),(null===n||void 0===n?void 0:n.imageUrl)&&(0,_e.jsx)("figcaption",{children:"Uploaded preview"})]}),(0,_e.jsxs)("div",{className:"supplier-product-details__info",children:[(0,_e.jsxs)("div",{className:"supplier-product-details__description",children:[(0,_e.jsx)("h2",{children:"Description"}),(0,_e.jsx)("p",{children:n.description||"No description provided."})]}),(0,_e.jsx)("dl",{className:"supplier-product-details__meta",children:u.map(e=>{let{label:t,value:n}=e;return(0,_e.jsxs)("div",{className:"supplier-product-details__meta-row",children:[(0,_e.jsx)("dt",{children:t}),(0,_e.jsx)("dd",{children:n||"\u2014"})]},t)})}),(null===n||void 0===n?void 0:n.specs)&&Array.isArray(n.specs)&&n.specs.length>0&&(0,_e.jsxs)("div",{className:"supplier-product-details__specs",children:[(0,_e.jsx)("h3",{children:"Specifications"}),(0,_e.jsx)("ul",{children:n.specs.map((e,t)=>(0,_e.jsx)("li",{children:e},t))})]})]})]})]}):(0,_e.jsxs)("div",{className:"supplier-product-details__state supplier-product-details__state--error",children:[(0,_e.jsx)("h2",{children:"Product not found"}),(0,_e.jsx)("p",{children:"This supplier product may have been removed."}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(-1),children:"Go back"})]})};function ea(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ta=n(2284),na=Uint8Array,ra=Uint16Array,aa=Int32Array,ia=new na([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sa=new na([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oa=new na([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),la=function(e,t){for(var n=new ra(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new aa(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return{b:n,r:a}},ca=la(ia,2),da=ca.b,ua=ca.r;da[28]=258,ua[258]=28;for(var ha=la(sa,0),pa=(ha.b,ha.r),ma=new ra(32768),fa=0;fa<32768;++fa){var va=(43690&fa)>>1|(21845&fa)<<1;va=(61680&(va=(52428&va)>>2|(13107&va)<<2))>>4|(3855&va)<<4,ma[fa]=((65280&va)>>8|(255&va)<<8)>>1}var ga=function(e,t,n){for(var r=e.length,a=0,i=new ra(t);a<r;++a)e[a]&&++i[e[a]-1];var s,o=new ra(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;if(n){s=new ra(1<<t);var l=15-t;for(a=0;a<r;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],u=o[e[a]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)s[ma[u]>>l]=c}else for(s=new ra(r),a=0;a<r;++a)e[a]&&(s[a]=ma[o[e[a]-1]++]>>15-e[a]);return s},ya=new na(288);for(fa=0;fa<144;++fa)ya[fa]=8;for(fa=144;fa<256;++fa)ya[fa]=9;for(fa=256;fa<280;++fa)ya[fa]=7;for(fa=280;fa<288;++fa)ya[fa]=8;var ba=new na(32);for(fa=0;fa<32;++fa)ba[fa]=5;var xa=ga(ya,9,0),wa=ga(ba,5,0),ja=function(e){return(e+7)/8|0},Na=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new na(e.subarray(t,n))},ka=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},_a=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Sa=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,i=n.slice();if(!a)return{t:Ta,l:0};if(1==a){var s=new na(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,d=1,u=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=n[n[c].f<n[u].f?c++:u++],l=n[c!=d&&n[c].f<n[u].f?c++:u++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};var h=i[0].s;for(r=1;r<a;++r)i[r].s>h&&(h=i[r].s);var p=new ra(h+1),m=Aa(n[d-1],p,0);if(m>t){r=0;var f=0,v=m-t,g=1<<v;for(i.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<a;++r){var y=i[r].s;if(!(p[y]>t))break;f+=g-(1<<m-p[y]),p[y]=t}for(f>>=v;f>0;){var b=i[r].s;p[b]<t?f-=1<<t-p[b]++-1:++r}for(;r>=0&&f;--r){var x=i[r].s;p[x]==t&&(--p[x],++f)}m=t}return{t:new na(p),l:m}},Aa=function(e,t,n){return-1==e.s?Math.max(Aa(e.l,t,n+1),Aa(e.r,t,n+1)):t[e.s]=n},Ca=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ra(++t),r=0,a=e[0],i=1,s=function(e){n[r++]=e},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:n.subarray(0,r),n:t}},La=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Pa=function(e,t,n){var r=n.length,a=ja(t+2);e[a]=255&r,e[a+1]=r>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var i=0;i<r;++i)e[a+i+4]=n[i];return 8*(a+4+r)},Ea=function(e,t,n,r,a,i,s,o,l,c,d){ka(t,d++,n),++a[256];for(var u=Sa(a,15),h=u.t,p=u.l,m=Sa(i,15),f=m.t,v=m.l,g=Ca(h),y=g.c,b=g.n,x=Ca(f),w=x.c,j=x.n,N=new ra(19),k=0;k<y.length;++k)++N[31&y[k]];for(k=0;k<w.length;++k)++N[31&w[k]];for(var _=Sa(N,7),S=_.t,A=_.l,C=19;C>4&&!S[oa[C-1]];--C);var L,P,E,F,T=c+5<<3,R=La(a,ya)+La(i,ba)+s,D=La(a,h)+La(i,f)+s+14+3*C+La(N,S)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&T<=R&&T<=D)return Pa(t,d,e.subarray(l,l+c));if(ka(t,d,1+(D<R)),d+=2,D<R){L=ga(h,p,0),P=h,E=ga(f,v,0),F=f;var O=ga(S,A,0);ka(t,d,b-257),ka(t,d+5,j-1),ka(t,d+10,C-4),d+=14;for(k=0;k<C;++k)ka(t,d+3*k,S[oa[k]]);d+=3*C;for(var I=[y,w],M=0;M<2;++M){var B=I[M];for(k=0;k<B.length;++k){var U=31&B[k];ka(t,d,O[U]),d+=S[U],U>15&&(ka(t,d,B[k]>>5&127),d+=B[k]>>12)}}}else L=xa,P=ya,E=wa,F=ba;for(k=0;k<o;++k){var z=r[k];if(z>255){_a(t,d,L[(U=z>>18&31)+257]),d+=P[U+257],U>7&&(ka(t,d,z>>23&31),d+=ia[U]);var q=31&z;_a(t,d,E[q]),d+=F[q],q>3&&(_a(t,d,z>>5&8191),d+=sa[q])}else _a(t,d,L[z]),d+=P[z]}return _a(t,d,L[256]),d+P[256]},Fa=new aa([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ta=new na(0),Ra=function(e,t,n,r,a,i){var s=i.z||e.length,o=new na(r+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(r,o.length-a),c=i.l,d=7&(i.r||0);if(t){d&&(l[0]=i.r>>3);for(var u=Fa[t-1],h=u>>13,p=8191&u,m=(1<<n)-1,f=i.p||new ra(32768),v=i.h||new ra(m+1),g=Math.ceil(n/3),y=2*g,b=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<y)&m},x=new aa(25e3),w=new ra(288),j=new ra(32),N=0,k=0,_=i.i||0,S=0,A=i.w||0,C=0;_+2<s;++_){var L=b(_),P=32767&_,E=v[L];if(f[P]=E,v[L]=P,A<=_){var F=s-_;if((N>7e3||S>24576)&&(F>423||!c)){d=Ea(e,l,0,x,w,j,k,S,C,_-C,d),S=N=k=0,C=_;for(var T=0;T<286;++T)w[T]=0;for(T=0;T<30;++T)j[T]=0}var R=2,D=0,O=p,I=P-E&32767;if(F>2&&L==b(_-I))for(var M=Math.min(h,F)-1,B=Math.min(32767,_),U=Math.min(258,F);I<=B&&--O&&P!=E;){if(e[_+R]==e[_+R-I]){for(var z=0;z<U&&e[_+z]==e[_+z-I];++z);if(z>R){if(R=z,D=I,z>M)break;var q=Math.min(I,z-2),V=0;for(T=0;T<q;++T){var H=_-I+T&32767,W=H-f[H]&32767;W>V&&(V=W,E=H)}}}I+=(P=E)-(E=f[P])&32767}if(D){x[S++]=268435456|ua[R]<<18|pa[D];var G=31&ua[R],Y=31&pa[D];k+=ia[G]+sa[Y],++w[257+G],++j[Y],A=_+R,++N}else x[S++]=e[_],++w[e[_]]}}for(_=Math.max(_,A);_<s;++_)x[S++]=e[_],++w[e[_]];d=Ea(e,l,c,x,w,j,k,S,C,_-C,d),c||(i.r=7&d|l[d/8|0]<<3,d-=7,i.h=v,i.p=f,i.i=_,i.w=A)}else{for(_=i.w||0;_<s+c;_+=65535){var K=_+65535;K>=s&&(l[d/8|0]=c,K=s),d=Pa(l,d+1,e.subarray(_,K))}i.i=s}return Na(o,0,r+ja(d)+a)},Da=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,i=0|n.length,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=r+=n[s];r=(65535&r)+15*(r>>16),a=(65535&a)+15*(a>>16)}e=r,t=a},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Oa=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new na(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return Ra(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,a)},Ia=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Ma=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Da();a.p(t.dictionary),Ia(e,2,a.d())}};function Ba(e,t){t||(t={});var n=Da();n.p(e);var r=Oa(e,t,t.dictionary?6:2,4);return Ma(r,t),Ia(r,r.length-4,n.d()),r}var Ua="undefined"!=typeof TextDecoder&&new TextDecoder;try{Ua.decode(Ta,{stream:!0})}catch(n_){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return za(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?za(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Va(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const Ha=new TextEncoder;const Wa=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),Ga={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ya{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,je.A)(this,"buffer",void 0),(0,je.A)(this,"byteLength",void 0),(0,je.A)(this,"byteOffset",void 0),(0,je.A)(this,"length",void 0),(0,je.A)(this,"offset",void 0),(0,je.A)(this,"lastWrittenByte",void 0),(0,je.A)(this,"littleEndian",void 0),(0,je.A)(this,"_data",void 0),(0,je.A)(this,"_mark",void 0),(0,je.A)(this,"_marks",void 0);let n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,a=e.byteLength-r;let i=r;(ArrayBuffer.isView(e)||e instanceof Ya)&&(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+r),e=e.buffer),this.lastWrittenByte=n?a:0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,a),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const n=Ga[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+n);if(this.littleEndian===Wa&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const a=new Ga[t](e.buffer);return this.offset+=n,a.reverse(),a}const i=new Ga[t](a);return this.offset+=n,i}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Va(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return Va(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return Ha.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ka(e){let t=e.length;for(;--t>=0;)e[t]=0}const $a=256,Ja=286,Xa=30,Qa=15,Za=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ei=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ti=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ni=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ri=new Array(576);Ka(ri);const ai=new Array(60);Ka(ai);const ii=new Array(512);Ka(ii);const si=new Array(256);Ka(si);const oi=new Array(29);Ka(oi);const li=new Array(Xa);function ci(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}let di,ui,hi;function pi(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Ka(li);const mi=e=>e<256?ii[e]:ii[256+(e>>>7)],fi=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},vi=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,fi(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},gi=(e,t,n)=>{vi(e,n[2*t],n[2*t+1])},yi=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},bi=(e,t,n)=>{const r=new Array(16);let a,i,s=0;for(a=1;a<=Qa;a++)s=s+n[a-1]<<1,r[a]=s;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=yi(r[t]++,t))}},xi=e=>{let t;for(t=0;t<Ja;t++)e.dyn_ltree[2*t]=0;for(t=0;t<Xa;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},wi=e=>{e.bi_valid>8?fi(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ji=(e,t,n,r)=>{const a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},Ni=(e,t,n)=>{const r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&ji(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!ji(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},ki=(e,t,n)=>{let r,a,i,s,o=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+o++],r+=(255&e.pending_buf[e.sym_buf+o++])<<8,a=e.pending_buf[e.sym_buf+o++],0===r?gi(e,a,t):(i=si[a],gi(e,i+$a+1,t),s=Za[i],0!==s&&(a-=oi[i],vi(e,a,s)),r--,i=mi(r),gi(e,i,n),s=ei[i],0!==s&&(r-=li[i],vi(e,r,s)))}while(o<e.sym_next);gi(e,256,t)},_i=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,o,l,c=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<i;s++)0!==n[2*s]?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[2*s+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=r[2*l+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)Ni(e,n,s);l=i;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ni(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,n[2*l]=n[2*s]+n[2*o],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,n[2*s+1]=n[2*o+1]=l,e.heap[1]=l++,Ni(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,u,h,p,m,f=0;for(h=0;h<=Qa;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)d=e.heap[c],h=n[2*n[2*d+1]+1]+1,h>l&&(h=l,f++),n[2*d+1]=h,d>r||(e.bl_count[h]++,p=0,d>=o&&(p=s[d-o]),m=n[2*d],e.opt_len+=m*(h+p),i&&(e.static_len+=m*(a[2*d+1]+p)));if(0!==f){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,f-=2}while(f>0);for(h=l;0!==h;h--)for(d=e.bl_count[h];0!==d;)u=e.heap[--c],u>r||(n[2*u+1]!==h&&(e.opt_len+=(h-n[2*u+1])*n[2*u],n[2*u+1]=h),d--)}})(e,t),bi(n,c,e.bl_count)},Si=(e,t,n)=>{let r,a,i=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=s,s=t[2*(r+1)+1],++o<l&&a===s||(o<c?e.bl_tree[2*a]+=o:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,i=a,0===s?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4))},Ai=(e,t,n)=>{let r,a,i=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(a=s,s=t[2*(r+1)+1],!(++o<l&&a===s)){if(o<c)do{gi(e,a,e.bl_tree)}while(0!==--o);else 0!==a?(a!==i&&(gi(e,a,e.bl_tree),o--),gi(e,16,e.bl_tree),vi(e,o-3,2)):o<=10?(gi(e,17,e.bl_tree),vi(e,o-3,3)):(gi(e,18,e.bl_tree),vi(e,o-11,7));o=0,i=a,0===s?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4)}};let Ci=!1;const Li=(e,t,n,r)=>{vi(e,0+(r?1:0),3),wi(e),fi(e,n),fi(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var Pi=e=>{Ci||((()=>{let e,t,n,r,a;const i=new Array(16);for(n=0,r=0;r<28;r++)for(oi[r]=n,e=0;e<1<<Za[r];e++)si[n++]=r;for(si[n-1]=r,a=0,r=0;r<16;r++)for(li[r]=a,e=0;e<1<<ei[r];e++)ii[a++]=r;for(a>>=7;r<Xa;r++)for(li[r]=a<<7,e=0;e<1<<ei[r]-7;e++)ii[256+a++]=r;for(t=0;t<=Qa;t++)i[t]=0;for(e=0;e<=143;)ri[2*e+1]=8,e++,i[8]++;for(;e<=255;)ri[2*e+1]=9,e++,i[9]++;for(;e<=279;)ri[2*e+1]=7,e++,i[7]++;for(;e<=287;)ri[2*e+1]=8,e++,i[8]++;for(bi(ri,287,i),e=0;e<Xa;e++)ai[2*e+1]=5,ai[2*e]=yi(e,5);di=new ci(ri,Za,257,Ja,Qa),ui=new ci(ai,ei,0,Xa,Qa),hi=new ci(new Array(0),ti,0,19,7)})(),Ci=!0),e.l_desc=new pi(e.dyn_ltree,di),e.d_desc=new pi(e.dyn_dtree,ui),e.bl_desc=new pi(e.bl_tree,hi),e.bi_buf=0,e.bi_valid=0,xi(e)},Ei=(e,t,n,r)=>{let a,i,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<$a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),_i(e,e.l_desc),_i(e,e.d_desc),s=(e=>{let t;for(Si(e,e.dyn_ltree,e.l_desc.max_code),Si(e,e.dyn_dtree,e.d_desc.max_code),_i(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*ni[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?Li(e,t,n,r):4===e.strategy||i===a?(vi(e,2+(r?1:0),3),ki(e,ri,ai)):(vi(e,4+(r?1:0),3),((e,t,n,r)=>{let a;for(vi(e,t-257,5),vi(e,n-1,5),vi(e,r-4,4),a=0;a<r;a++)vi(e,e.bl_tree[2*ni[a]+1],3);Ai(e,e.dyn_ltree,t-1),Ai(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),ki(e,e.dyn_ltree,e.dyn_dtree)),xi(e),r&&wi(e)},Fi=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(si[n]+$a+1)]++,e.dyn_dtree[2*mi(t)]++),e.sym_next===e.sym_end),Ti=e=>{vi(e,2,3),gi(e,256,ri),(e=>{16===e.bi_valid?(fi(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},Ri={_tr_init:Pi,_tr_stored_block:Li,_tr_flush_block:Ei,_tr_tally:Fi,_tr_align:Ti};var Di=(e,t,n,r)=>{let a=65535&e,i=e>>>16&65535,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{a=a+t[r++]|0,i=i+a|0}while(--s);a%=65521,i%=65521}return a|i<<16};const Oi=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Ii=(e,t,n,r)=>{const a=Oi,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^a[255&(e^t[s])];return-1^e},Mi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Bi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ui,_tr_stored_block:zi,_tr_flush_block:qi,_tr_tally:Vi,_tr_align:Hi}=Ri,{Z_NO_FLUSH:Wi,Z_PARTIAL_FLUSH:Gi,Z_FULL_FLUSH:Yi,Z_FINISH:Ki,Z_BLOCK:$i,Z_OK:Ji,Z_STREAM_END:Xi,Z_STREAM_ERROR:Qi,Z_DATA_ERROR:Zi,Z_BUF_ERROR:es,Z_DEFAULT_COMPRESSION:ts,Z_FILTERED:ns,Z_HUFFMAN_ONLY:rs,Z_RLE:as,Z_FIXED:is,Z_DEFAULT_STRATEGY:ss,Z_UNKNOWN:os,Z_DEFLATED:ls}=Bi,cs=258,ds=262,us=42,hs=113,ps=666,ms=(e,t)=>(e.msg=Mi[t],t),fs=e=>2*e-(e>4?9:0),vs=e=>{let t=e.length;for(;--t>=0;)e[t]=0},gs=e=>{let t,n,r,a=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=a?n-a:0}while(--t);t=a,r=t;do{n=e.prev[--r],e.prev[r]=n>=a?n-a:0}while(--t)};let ys=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const bs=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},xs=(e,t)=>{qi(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,bs(e.strm)},ws=(e,t)=>{e.pending_buf[e.pending++]=t},js=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ns=(e,t,n,r)=>{let a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=Di(e.adler,t,a,n):2===e.state.wrap&&(e.adler=Ii(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},ks=(e,t)=>{let n,r,a=e.max_chain_length,i=e.strstart,s=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-ds?e.strstart-(e.w_size-ds):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+cs;let p=c[i+s-1],m=c[i+s];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,c[n+s]===m&&c[n+s-1]===p&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(r=cs-(h-i),i=h-cs,r>s){if(e.match_start=t,s=r,r>=o)break;p=c[i+s-1],m=c[i+s]}}}while((t=u[t&d])>l&&0!==--a);return s<=e.lookahead?s:e.lookahead},_s=e=>{const t=e.w_size;let n,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ds)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),gs(e),r+=t),0===e.strm.avail_in)break;if(n=Ns(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=ys(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=ys(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ds&&0!==e.strm.avail_in)},Ss=(e,t)=>{let n,r,a,i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,o=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>a&&(n=a),n<i&&(0===n&&t!==Ki||t===Wi||n!==r+e.strm.avail_in))break;s=t===Ki&&n===r+e.strm.avail_in?1:0,zi(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,bs(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(Ns(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==Wi&&t!==Ki&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Ns(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,i=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=i||(r||t===Ki)&&t!==Wi&&0===e.strm.avail_in&&r<=a)&&(n=r>a?a:r,s=t===Ki&&0===e.strm.avail_in&&n===r?1:0,zi(e,e.block_start,n,s),e.block_start+=n,bs(e.strm)),s?3:1)},As=(e,t)=>{let n,r;for(;;){if(e.lookahead<ds){if(_s(e),e.lookahead<ds&&t===Wi)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ys(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ds&&(e.match_length=ks(e,n)),e.match_length>=3)if(r=Vi(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=ys(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ys(e,e.ins_h,e.window[e.strstart+1]);else r=Vi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(xs(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Ki?(xs(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(xs(e,!1),0===e.strm.avail_out)?1:2},Cs=(e,t)=>{let n,r,a;for(;;){if(e.lookahead<ds){if(_s(e),e.lookahead<ds&&t===Wi)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ys(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ds&&(e.match_length=ks(e,n),e.match_length<=5&&(e.strategy===ns||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=Vi(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=ys(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(xs(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=Vi(e,0,e.window[e.strstart-1]),r&&xs(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Vi(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Ki?(xs(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(xs(e,!1),0===e.strm.avail_out)?1:2};function Ls(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const Ps=[new Ls(0,0,0,0,Ss),new Ls(4,4,8,4,As),new Ls(4,5,16,8,As),new Ls(4,6,32,32,As),new Ls(4,4,16,16,Cs),new Ls(8,16,32,32,Cs),new Ls(8,16,128,128,Cs),new Ls(8,32,128,256,Cs),new Ls(32,128,258,1024,Cs),new Ls(32,258,258,4096,Cs)];function Es(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ls,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),vs(this.dyn_ltree),vs(this.dyn_dtree),vs(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),vs(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),vs(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Fs=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==us&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==hs&&t.status!==ps?1:0},Ts=e=>{if(Fs(e))return ms(e,Qi);e.total_in=e.total_out=0,e.data_type=os;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?us:hs,e.adler=2===t.wrap?0:1,t.last_flush=-2,Ui(t),Ji},Rs=e=>{const t=Ts(e);return t===Ji&&(e=>{e.window_size=2*e.w_size,vs(e.head),e.max_lazy_match=Ps[e.level].max_lazy,e.good_match=Ps[e.level].good_length,e.nice_match=Ps[e.level].nice_length,e.max_chain_length=Ps[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},Ds=(e,t,n,r,a,i)=>{if(!e)return Qi;let s=1;if(t===ts&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||n!==ls||r<8||r>15||t<0||t>9||i<0||i>is||8===r&&1!==s)return ms(e,Qi);8===r&&(r=9);const o=new Es;return e.state=o,o.strm=e,o.status=us,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=i,o.method=n,Rs(e)};var Os=(e,t)=>{if(Fs(e)||t>$i||t<0)return e?ms(e,Qi):Qi;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===ps&&t!==Ki)return ms(e,0===e.avail_out?es:Qi);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(bs(e),0===e.avail_out)return n.last_flush=-1,Ji}else if(0===e.avail_in&&fs(t)<=fs(r)&&t!==Ki)return ms(e,es);if(n.status===ps&&0!==e.avail_in)return ms(e,es);if(n.status===us&&0===n.wrap&&(n.status=hs),n.status===us){let t=ls+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=rs||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,js(n,t),0!==n.strstart&&(js(n,e.adler>>>16),js(n,65535&e.adler)),e.adler=1,n.status=hs,bs(e),0!==n.pending)return n.last_flush=-1,Ji}if(57===n.status)if(e.adler=0,ws(n,31),ws(n,139),ws(n,8),n.gzhead)ws(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ws(n,255&n.gzhead.time),ws(n,n.gzhead.time>>8&255),ws(n,n.gzhead.time>>16&255),ws(n,n.gzhead.time>>24&255),ws(n,9===n.level?2:n.strategy>=rs||n.level<2?4:0),ws(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(ws(n,255&n.gzhead.extra.length),ws(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Ii(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(ws(n,0),ws(n,0),ws(n,0),ws(n,0),ws(n,0),ws(n,9===n.level?2:n.strategy>=rs||n.level<2?4:0),ws(n,3),n.status=hs,bs(e),0!==n.pending)return n.last_flush=-1,Ji;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=Ii(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=a,bs(e),0!==n.pending)return n.last_flush=-1,Ji;t=0,r-=a}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=Ii(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Ii(e.adler,n.pending_buf,n.pending-r,r)),bs(e),0!==n.pending)return n.last_flush=-1,Ji;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,ws(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=Ii(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Ii(e.adler,n.pending_buf,n.pending-r,r)),bs(e),0!==n.pending)return n.last_flush=-1,Ji;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,ws(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=Ii(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(bs(e),0!==n.pending))return n.last_flush=-1,Ji;ws(n,255&e.adler),ws(n,e.adler>>8&255),e.adler=0}if(n.status=hs,bs(e),0!==n.pending)return n.last_flush=-1,Ji}if(0!==e.avail_in||0!==n.lookahead||t!==Wi&&n.status!==ps){let r=0===n.level?Ss(n,t):n.strategy===rs?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(_s(e),0===e.lookahead)){if(t===Wi)return 1;break}if(e.match_length=0,n=Vi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(xs(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ki?(xs(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(xs(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===as?((e,t)=>{let n,r,a,i;const s=e.window;for(;;){if(e.lookahead<=cs){if(_s(e),e.lookahead<=cs&&t===Wi)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){i=e.strstart+cs;do{}while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<i);e.match_length=cs-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Vi(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Vi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(xs(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ki?(xs(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(xs(e,!1),0===e.strm.avail_out)?1:2})(n,t):Ps[n.level].func(n,t);if(3!==r&&4!==r||(n.status=ps),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),Ji;if(2===r&&(t===Gi?Hi(n):t!==$i&&(zi(n,0,0,!1),t===Yi&&(vs(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),bs(e),0===e.avail_out))return n.last_flush=-1,Ji}return t!==Ki?Ji:n.wrap<=0?Xi:(2===n.wrap?(ws(n,255&e.adler),ws(n,e.adler>>8&255),ws(n,e.adler>>16&255),ws(n,e.adler>>24&255),ws(n,255&e.total_in),ws(n,e.total_in>>8&255),ws(n,e.total_in>>16&255),ws(n,e.total_in>>24&255)):(js(n,e.adler>>>16),js(n,65535&e.adler)),bs(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Ji:Xi)},Is=(e,t)=>{let n=t.length;if(Fs(e))return Qi;const r=e.state,a=r.wrap;if(2===a||1===a&&r.status!==us||r.lookahead)return Qi;if(1===a&&(e.adler=Di(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(vs(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const i=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,_s(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=ys(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,_s(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=o,e.avail_in=i,r.wrap=a,Ji},Ms={deflateInit:(e,t)=>Ds(e,t,ls,15,8,ss),deflateInit2:Ds,deflateReset:Rs,deflateResetKeep:Ts,deflateSetHeader:(e,t)=>Fs(e)||2!==e.state.wrap?Qi:(e.state.gzhead=t,Ji),deflate:Os,deflateEnd:e=>{if(Fs(e))return Qi;const t=e.state.status;return e.state=null,t===hs?ms(e,Zi):Ji},deflateSetDictionary:Is,deflateInfo:"pako deflate (from Nodeca project)"};const Bs=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Us=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Bs(n,t)&&(e[t]=n[t])}}return e},zs=e=>{let t=0;for(let r=0,a=e.length;r<a;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,a=0,i=e.length;r<i;r++){let t=e[r];n.set(t,a),a+=t.length}return n};let qs=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r_){qs=!1}const Vs=new Uint8Array(256);for(let s_=0;s_<256;s_++)Vs[s_]=s_>=252?6:s_>=248?5:s_>=240?4:s_>=224?3:s_>=192?2:1;Vs[254]=Vs[254]=1;var Hs=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,a,i,s=e.length,o=0;for(a=0;a<s;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},Ws=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,a;const i=new Array(2*n);for(a=0,r=0;r<n;){let t=e[r++];if(t<128){i[a++]=t;continue}let s=Vs[t];if(s>4)i[a++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?i[a++]=65533:t<65536?i[a++]=t:(t-=65536,i[a++]=55296|t>>10&1023,i[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&qs)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,a)},Gs=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+Vs[e[n]]>t?n:t};var Ys=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ks=Object.prototype.toString,{Z_NO_FLUSH:$s,Z_SYNC_FLUSH:Js,Z_FULL_FLUSH:Xs,Z_FINISH:Qs,Z_OK:Zs,Z_STREAM_END:eo,Z_DEFAULT_COMPRESSION:to,Z_DEFAULT_STRATEGY:no,Z_DEFLATED:ro}=Bi;function ao(e){this.options=Us({level:to,method:ro,chunkSize:16384,windowBits:15,memLevel:8,strategy:no},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ys,this.strm.avail_out=0;let n=Ms.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Zs)throw new Error(Mi[n]);if(t.header&&Ms.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?Hs(t.dictionary):"[object ArrayBuffer]"===Ks.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Ms.deflateSetDictionary(this.strm,e),n!==Zs)throw new Error(Mi[n]);this._dict_set=!0}}function io(e,t){const n=new ao(t);if(n.push(e,!0),n.err)throw n.msg||Mi[n.err];return n.result}ao.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Qs:$s,"string"===typeof e?n.input=Hs(e):"[object ArrayBuffer]"===Ks.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Js||i===Xs)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(a=Ms.deflate(n,i),a===eo)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=Ms.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Zs;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},ao.prototype.onData=function(e){this.chunks.push(e)},ao.prototype.onEnd=function(e){e===Zs&&(this.result=zs(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var so={Deflate:ao,deflate:io,deflateRaw:function(e,t){return(t=t||{}).raw=!0,io(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,io(e,t)},constants:Bi};const oo=16209;var lo=function(e,t){let n,r,a,i,s,o,l,c,d,u,h,p,m,f,v,g,y,b,x,w,j,N,k,_;const S=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),a=e.next_out,_=e.output,i=a-(t-e.avail_out),s=a+(e.avail_out-257),o=S.dmax,l=S.wsize,c=S.whave,d=S.wnext,u=S.window,h=S.hold,p=S.bits,m=S.lencode,f=S.distcode,v=(1<<S.lenbits)-1,g=(1<<S.distbits)-1;e:do{p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),y=m[h&v];t:for(;;){if(b=y>>>24,h>>>=b,p-=b,b=y>>>16&255,0===b)_[a++]=65535&y;else{if(!(16&b)){if(0===(64&b)){y=m[(65535&y)+(h&(1<<b)-1)];continue t}if(32&b){S.mode=16191;break e}e.msg="invalid literal/length code",S.mode=oo;break e}x=65535&y,b&=15,b&&(p<b&&(h+=k[n++]<<p,p+=8),x+=h&(1<<b)-1,h>>>=b,p-=b),p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),y=f[h&g];n:for(;;){if(b=y>>>24,h>>>=b,p-=b,b=y>>>16&255,!(16&b)){if(0===(64&b)){y=f[(65535&y)+(h&(1<<b)-1)];continue n}e.msg="invalid distance code",S.mode=oo;break e}if(w=65535&y,b&=15,p<b&&(h+=k[n++]<<p,p+=8,p<b&&(h+=k[n++]<<p,p+=8)),w+=h&(1<<b)-1,w>o){e.msg="invalid distance too far back",S.mode=oo;break e}if(h>>>=b,p-=b,b=a-i,w>b){if(b=w-b,b>c&&S.sane){e.msg="invalid distance too far back",S.mode=oo;break e}if(j=0,N=u,0===d){if(j+=l-b,b<x){x-=b;do{_[a++]=u[j++]}while(--b);j=a-w,N=_}}else if(d<b){if(j+=l+d-b,b-=d,b<x){x-=b;do{_[a++]=u[j++]}while(--b);if(j=0,d<x){b=d,x-=b;do{_[a++]=u[j++]}while(--b);j=a-w,N=_}}}else if(j+=d-b,b<x){x-=b;do{_[a++]=u[j++]}while(--b);j=a-w,N=_}for(;x>2;)_[a++]=N[j++],_[a++]=N[j++],_[a++]=N[j++],x-=3;x&&(_[a++]=N[j++],x>1&&(_[a++]=N[j++]))}else{j=a-w;do{_[a++]=_[j++],_[a++]=_[j++],_[a++]=_[j++],x-=3}while(x>2);x&&(_[a++]=_[j++],x>1&&(_[a++]=_[j++]))}break}}break}}while(n<r&&a<s);x=p>>3,n-=x,p-=x<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<s?s-a+257:257-(a-s),S.hold=h,S.bits=p};const co=15,uo=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ho=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),po=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),mo=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var fo=(e,t,n,r,a,i,s,o)=>{const l=o.bits;let c,d,u,h,p,m,f=0,v=0,g=0,y=0,b=0,x=0,w=0,j=0,N=0,k=0,_=null;const S=new Uint16Array(16),A=new Uint16Array(16);let C,L,P,E=null;for(f=0;f<=co;f++)S[f]=0;for(v=0;v<r;v++)S[t[n+v]]++;for(b=l,y=co;y>=1&&0===S[y];y--);if(b>y&&(b=y),0===y)return a[i++]=20971520,a[i++]=20971520,o.bits=1,0;for(g=1;g<y&&0===S[g];g++);for(b<g&&(b=g),j=1,f=1;f<=co;f++)if(j<<=1,j-=S[f],j<0)return-1;if(j>0&&(0===e||1!==y))return-1;for(A[1]=0,f=1;f<co;f++)A[f+1]=A[f]+S[f];for(v=0;v<r;v++)0!==t[n+v]&&(s[A[t[n+v]]++]=v);if(0===e?(_=E=s,m=20):1===e?(_=uo,E=ho,m=257):(_=po,E=mo,m=0),k=0,v=0,f=g,p=i,x=b,w=0,u=-1,N=1<<b,h=N-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){C=f-w,s[v]+1<m?(L=0,P=s[v]):s[v]>=m?(L=E[s[v]-m],P=_[s[v]-m]):(L=96,P=0),c=1<<f-w,d=1<<x,g=d;do{d-=c,a[p+(k>>w)+d]=C<<24|L<<16|P}while(0!==d);for(c=1<<f-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,v++,0===--S[f]){if(f===y)break;f=t[n+s[v]]}if(f>b&&(k&h)!==u){for(0===w&&(w=b),p+=g,x=f-w,j=1<<x;x+w<y&&(j-=S[x+w],!(j<=0));)x++,j<<=1;if(N+=1<<x,1===e&&N>852||2===e&&N>592)return 1;u=k&h,a[u]=b<<24|x<<16|p-i}}return 0!==k&&(a[p+k]=f-w<<24|64<<16),o.bits=b,0};const{Z_FINISH:vo,Z_BLOCK:go,Z_TREES:yo,Z_OK:bo,Z_STREAM_END:xo,Z_NEED_DICT:wo,Z_STREAM_ERROR:jo,Z_DATA_ERROR:No,Z_MEM_ERROR:ko,Z_BUF_ERROR:_o,Z_DEFLATED:So}=Bi,Ao=16180,Co=16190,Lo=16191,Po=16192,Eo=16194,Fo=16199,To=16200,Ro=16206,Do=16209,Oo=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Io(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Mo=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Ao||t.mode>16211?1:0},Bo=e=>{if(Mo(e))return jo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Ao,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,bo},Uo=e=>{if(Mo(e))return jo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Bo(e)},zo=(e,t)=>{let n;if(Mo(e))return jo;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?jo:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Uo(e))},qo=(e,t)=>{if(!e)return jo;const n=new Io;e.state=n,n.strm=e,n.window=null,n.mode=Ao;const r=zo(e,t);return r!==bo&&(e.state=null),r};let Vo,Ho,Wo=!0;const Go=e=>{if(Wo){Vo=new Int32Array(512),Ho=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(fo(1,e.lens,0,288,Vo,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;fo(2,e.lens,0,32,Ho,0,e.work,{bits:5}),Wo=!1}e.lencode=Vo,e.lenbits=9,e.distcode=Ho,e.distbits=5},Yo=(e,t,n,r)=>{let a;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0};var Ko=(e,t)=>{let n,r,a,i,s,o,l,c,d,u,h,p,m,f,v,g,y,b,x,w,j,N,k=0;const _=new Uint8Array(4);let S,A;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Mo(e)||!e.output||!e.input&&0!==e.avail_in)return jo;n=e.state,n.mode===Lo&&(n.mode=Po),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,u=o,h=l,N=bo;e:for(;;)switch(n.mode){case Ao:if(0===n.wrap){n.mode=Po;break}for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,_[0]=255&c,_[1]=c>>>8&255,n.check=Ii(n.check,_,2,0),c=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Do;break}if((15&c)!==So){e.msg="unknown compression method",n.mode=Do;break}if(c>>>=4,d-=4,j=8+(15&c),0===n.wbits&&(n.wbits=j),j>15||j>n.wbits){e.msg="invalid window size",n.mode=Do;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:Lo,c=0,d=0;break;case 16181:for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==So){e.msg="unknown compression method",n.mode=Do;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Do;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,n.check=Ii(n.check,_,2,0)),c=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,_[2]=c>>>16&255,_[3]=c>>>24&255,n.check=Ii(n.check,_,4,0)),c=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,n.check=Ii(n.check,_,2,0)),c=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,n.check=Ii(n.check,_,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>o&&(p=o),p&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),j)),512&n.flags&&4&n.wrap&&(n.check=Ii(n.check,r,p,i)),o-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;p=0;do{j=r[i+p++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j))}while(j&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=Ii(n.check,r,p,i)),o-=p,i+=p,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;p=0;do{j=r[i+p++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j))}while(j&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=Ii(n.check,r,p,i)),o-=p,i+=p,j)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Do;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Lo;break;case 16189:for(;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}e.adler=n.check=Oo(c),c=0,d=0,n.mode=Co;case Co:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=c,n.bits=d,wo;e.adler=n.check=1,n.mode=Lo;case Lo:if(t===go||t===yo)break e;case Po:if(n.last){c>>>=7&d,d-=7&d,n.mode=Ro;break}for(;d<3;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}switch(n.last=1&c,c>>>=1,d-=1,3&c){case 0:n.mode=16193;break;case 1:if(Go(n),n.mode=Fo,t===yo){c>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Do}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Do;break}if(n.length=65535&c,c=0,d=0,n.mode=Eo,t===yo)break e;case Eo:n.mode=16195;case 16195:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),0===p)break e;a.set(r.subarray(i,i+p),s),o-=p,i+=p,l-=p,s+=p,n.length-=p;break}n.mode=Lo;break;case 16196:for(;d<14;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Do;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.lens[C[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S={bits:n.lenbits},N=fo(0,n.lens,0,19,n.lencode,0,n.work,S),n.lenbits=S.bits,N){e.msg="invalid code lengths set",n.mode=Do;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[c&(1<<n.lenbits)-1],v=k>>>24,g=k>>>16&255,y=65535&k,!(v<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(y<16)c>>>=v,d-=v,n.lens[n.have++]=y;else{if(16===y){for(A=v+2;d<A;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(c>>>=v,d-=v,0===n.have){e.msg="invalid bit length repeat",n.mode=Do;break}j=n.lens[n.have-1],p=3+(3&c),c>>>=2,d-=2}else if(17===y){for(A=v+3;d<A;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=v,d-=v,j=0,p=3+(7&c),c>>>=3,d-=3}else{for(A=v+7;d<A;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=v,d-=v,j=0,p=11+(127&c),c>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Do;break}for(;p--;)n.lens[n.have++]=j}}if(n.mode===Do)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Do;break}if(n.lenbits=9,S={bits:n.lenbits},N=fo(1,n.lens,0,n.nlen,n.lencode,0,n.work,S),n.lenbits=S.bits,N){e.msg="invalid literal/lengths set",n.mode=Do;break}if(n.distbits=6,n.distcode=n.distdyn,S={bits:n.distbits},N=fo(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,S),n.distbits=S.bits,N){e.msg="invalid distances set",n.mode=Do;break}if(n.mode=Fo,t===yo)break e;case Fo:n.mode=To;case To:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=c,n.bits=d,lo(e,h),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,n.mode===Lo&&(n.back=-1);break}for(n.back=0;k=n.lencode[c&(1<<n.lenbits)-1],v=k>>>24,g=k>>>16&255,y=65535&k,!(v<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(g&&0===(240&g)){for(b=v,x=g,w=y;k=n.lencode[w+((c&(1<<b+x)-1)>>b)],v=k>>>24,g=k>>>16&255,y=65535&k,!(b+v<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=b,d-=b,n.back+=b}if(c>>>=v,d-=v,n.back+=v,n.length=y,0===g){n.mode=16205;break}if(32&g){n.back=-1,n.mode=Lo;break}if(64&g){e.msg="invalid literal/length code",n.mode=Do;break}n.extra=15&g,n.mode=16201;case 16201:if(n.extra){for(A=n.extra;d<A;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;k=n.distcode[c&(1<<n.distbits)-1],v=k>>>24,g=k>>>16&255,y=65535&k,!(v<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(0===(240&g)){for(b=v,x=g,w=y;k=n.distcode[w+((c&(1<<b+x)-1)>>b)],v=k>>>24,g=k>>>16&255,y=65535&k,!(b+v<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=b,d-=b,n.back+=b}if(c>>>=v,d-=v,n.back+=v,64&g){e.msg="invalid distance code",n.mode=Do;break}n.offset=y,n.extra=15&g,n.mode=16203;case 16203:if(n.extra){for(A=n.extra;d<A;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Do;break}n.mode=16204;case 16204:if(0===l)break e;if(p=h-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Do;break}p>n.wnext?(p-=n.wnext,m=n.wsize-p):m=n.wnext-p,p>n.length&&(p=n.length),f=n.window}else f=a,m=s-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{a[s++]=f[m++]}while(--p);0===n.length&&(n.mode=To);break;case 16205:if(0===l)break e;a[s++]=n.length,l--,n.mode=To;break;case Ro:if(n.wrap){for(;d<32;){if(0===o)break e;o--,c|=r[i++]<<d,d+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?Ii(n.check,a,h,s-h):Di(n.check,a,h,s-h)),h=l,4&n.wrap&&(n.flags?c:Oo(c))!==n.check){e.msg="incorrect data check",n.mode=Do;break}c=0,d=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Do;break}c=0,d=0}n.mode=16208;case 16208:N=xo;break e;case Do:N=No;break e;case 16210:return ko;default:return jo}return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=c,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<Do&&(n.mode<Ro||t!==vo))&&Yo(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?Ii(n.check,a,h,e.next_out-h):Di(n.check,a,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Lo?128:0)+(n.mode===Fo||n.mode===Eo?256:0),(0===u&&0===h||t===vo)&&N===bo&&(N=_o),N},$o={inflateReset:Uo,inflateReset2:zo,inflateResetKeep:Bo,inflateInit:e=>qo(e,15),inflateInit2:qo,inflate:Ko,inflateEnd:e=>{if(Mo(e))return jo;let t=e.state;return t.window&&(t.window=null),e.state=null,bo},inflateGetHeader:(e,t)=>{if(Mo(e))return jo;const n=e.state;return 0===(2&n.wrap)?jo:(n.head=t,t.done=!1,bo)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,a,i;return Mo(e)?jo:(r=e.state,0!==r.wrap&&r.mode!==Co?jo:r.mode===Co&&(a=1,a=Di(a,t,n,0),a!==r.check)?No:(i=Yo(e,t,n,n),i?(r.mode=16210,ko):(r.havedict=1,bo)))},inflateInfo:"pako inflate (from Nodeca project)"};var Jo=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Xo=Object.prototype.toString,{Z_NO_FLUSH:Qo,Z_FINISH:Zo,Z_OK:el,Z_STREAM_END:tl,Z_NEED_DICT:nl,Z_STREAM_ERROR:rl,Z_DATA_ERROR:al,Z_MEM_ERROR:il}=Bi;function sl(e){this.options=Us({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ys,this.strm.avail_out=0;let n=$o.inflateInit2(this.strm,t.windowBits);if(n!==el)throw new Error(Mi[n]);if(this.header=new Jo,$o.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Hs(t.dictionary):"[object ArrayBuffer]"===Xo.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=$o.inflateSetDictionary(this.strm,t.dictionary),n!==el)))throw new Error(Mi[n])}function ol(e,t){const n=new sl(t);if(n.push(e),n.err)throw n.msg||Mi[n.err];return n.result}sl.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Zo:Qo,"[object ArrayBuffer]"===Xo.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=$o.inflate(n,s),i===nl&&a&&(i=$o.inflateSetDictionary(n,a),i===el?i=$o.inflate(n,s):i===al&&(i=nl));n.avail_in>0&&i===tl&&n.state.wrap>0&&0!==e[n.next_in];)$o.inflateReset(n),i=$o.inflate(n,s);switch(i){case rl:case al:case nl:case il:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||i===tl))if("string"===this.options.to){let e=Gs(n.output,n.next_out),t=n.next_out-e,a=Ws(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==el||0!==o){if(i===tl)return i=$o.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},sl.prototype.onData=function(e){this.chunks.push(e)},sl.prototype.onEnd=function(e){e===el&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=zs(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ll={Inflate:sl,inflate:ol,inflateRaw:function(e,t){return(t=t||{}).raw=!0,ol(e,t)},ungzip:ol,constants:Bi};const{Deflate:cl,deflate:dl,deflateRaw:ul,gzip:hl}=so,{Inflate:pl,inflate:ml,inflateRaw:fl,ungzip:vl}=ll;var gl=pl,yl=ml;const bl=[];for(let s_=0;s_<256;s_++){let e=s_;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;bl[s_]=e}const xl=4294967295;function wl(e,t){return(function(e,t,n){let r=e;for(let a=0;a<n;a++)r=bl[255&(r^t[a])]^r>>>8;return r}(xl,e,t)^xl)>>>0}function jl(e,t,n){const r=e.readUint32(),a=wl(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==r)throw new Error("CRC mismatch for chunk ".concat(n,". Expected ").concat(r,", found ").concat(a))}function Nl(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function kl(e,t,n,r){let a=0;for(;a<r;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-r]&255}function _l(e,t,n,r){let a=0;if(0===n.length)for(;a<r;a++)t[a]=e[a];else for(;a<r;a++)t[a]=e[a]+n[a]&255}function Sl(e,t,n,r,a){let i=0;if(0===n.length){for(;i<a;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(n[i]>>1)&255;for(;i<r;i++)t[i]=e[i]+(t[i-a]+n[i]>>1)&255}}function Al(e,t,n,r,a){let i=0;if(0===n.length){for(;i<a;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+n[i]&255;for(;i<r;i++)t[i]=e[i]+Cl(t[i-a],n[i],n[i-a])&255}}function Cl(e,t,n){const r=e+t-n,a=Math.abs(r-e),i=Math.abs(r-t),s=Math.abs(r-n);return a<=i&&a<=s?e:i<=s?t:n}function Ll(e,t,n,r,a,i){switch(e){case 0:Nl(t,n,a);break;case 1:kl(t,n,a,i);break;case 2:_l(t,n,r,a);break;case 3:Sl(t,n,r,a,i);break;case 4:Al(t,n,r,a,i);break;default:throw new Error("Unsupported filter: ".concat(e))}}const Pl=new Uint16Array([255]),El=255===new Uint8Array(Pl.buffer)[0];function Fl(e){return(255&e)<<8|e>>8&255}const Tl=new Uint16Array([255]),Rl=255===new Uint8Array(Tl.buffer)[0],Dl=new Uint8Array(0);function Ol(e){const{data:t,width:n,height:r,channels:a,depth:i}=e,s=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*n),l=new Uint8Array(r*o);let c,d,u=Dl,h=0;for(let p=0;p<r;p++){switch(c=t.subarray(h+1,h+1+o),d=l.subarray(p*o,(p+1)*o),t[h]){case 0:Nl(c,d,o);break;case 1:kl(c,d,o,s);break;case 2:_l(c,d,u,o);break;case 3:Sl(c,d,u,o,s);break;case 4:Al(c,d,u,o,s);break;default:throw new Error("Unsupported filter: ".concat(t[h]))}u=d,h+=o+1}if(16===i){const e=new Uint16Array(l.buffer);if(Rl)for(let t=0;t<e.length;t++)e[t]=Il(e[t]);return e}return l}function Il(e){return(255&e)<<8|e>>8&255}const Ml=Uint8Array.of(137,80,78,71,13,10,26,10);function Bl(e){if(!function(e){if(e.length<Ml.length)return!1;for(let t=0;t<Ml.length;t++)if(e[t]!==Ml[t])return!1;return!0}(e.readBytes(Ml.length)))throw new Error("wrong PNG signature")}const Ul="tEXt",zl=new TextDecoder("latin1");function ql(e){if(Hl(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Vl=/^[\u0000-\u00FF]*$/;function Hl(e){if(!Vl.test(e))throw new Error("invalid latin1 text")}function Wl(e,t,n){const r=Gl(t);e[r]=function(e,t){return zl.decode(e.readBytes(t))}(t,n-r.length-1)}function Gl(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=zl.decode(e.readBytes(t-e.offset-1));return e.skip(1),ql(n),n}const Yl=-1,Kl=0,$l=2,Jl=3,Xl=4,Ql=6,Zl=-1,ec=0,tc=-1,nc=0,rc=-1,ac=0,ic=1,sc=0,oc=1,lc=2,cc=0,dc=1;class uc extends Ya{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),(0,je.A)(this,"_checkCrc",void 0),(0,je.A)(this,"_inflator",void 0),(0,je.A)(this,"_png",void 0),(0,je.A)(this,"_apng",void 0),(0,je.A)(this,"_end",void 0),(0,je.A)(this,"_hasPalette",void 0),(0,je.A)(this,"_palette",void 0),(0,je.A)(this,"_hasTransparency",void 0),(0,je.A)(this,"_transparency",void 0),(0,je.A)(this,"_compressionMethod",void 0),(0,je.A)(this,"_filterMethod",void 0),(0,je.A)(this,"_interlaceMethod",void 0),(0,je.A)(this,"_colorType",void 0),(0,je.A)(this,"_isAnimated",void 0),(0,je.A)(this,"_numberOfFrames",void 0),(0,je.A)(this,"_numberOfPlays",void 0),(0,je.A)(this,"_frames",void 0),(0,je.A)(this,"_writingDataChunks",void 0);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new gl,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Zl,this._filterMethod=tc,this._interlaceMethod=rc,this._colorType=Yl,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Bl(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Bl(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Ul:Wl(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?jl(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?jl(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case Kl:n=1;break;case $l:n=3;break;case Jl:n=1;break;case Xl:n=2;break;case Ql:n=4;break;default:throw new Error("Unknown color type: ".concat(t))}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==ec)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodetRNS(e){switch(this._colorType){case Kl:case $l:if(e%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(e));if(e/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(e/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case Jl:{if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(e){const t=Gl(this),n=this.readUint8();if(n!==ec)throw new Error("Unsupported iCCP compression method: ".concat(n));const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:yl(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=Ol({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case sc:break;case oc:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const a=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[a+e]=0}break;case lc:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case cc:for(let n=0;n<t.height;n++)for(let a=0;a<t.width;a++){const{index:i,frameIndex:s}=r(n,a);for(let n=0;n<this._png.channels;n++)e.data[i+n]=t.data[s+n]}break;case dc:for(let a=0;a<t.height;a++)for(let i=0;i<t.width;i++){const{index:s,frameIndex:o}=r(a,i);for(let r=0;r<this._png.channels;r++){const a=t.data[o+this._png.channels-1]/n,i=r%(this._png.channels-1)===0?1:t.data[o+r],l=Math.floor(a*i+(1-a)*e.data[s+r]);e.data[s+r]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?(null===(e=this._frames)||void 0===e?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==nc)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===ac)this._png.data=Ol({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==ic)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(e){const{data:t,width:n,height:r,channels:a,depth:i}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,l=new Uint8Array(r*n*o);let c=0;for(let d=0;d<7;d++){const e=s[d],a=Math.ceil((n-e.x)/e.xStep),i=Math.ceil((r-e.y)/e.yStep);if(a<=0||i<=0)continue;const u=a*o,h=new Uint8Array(u);for(let s=0;s<i;s++){const i=t[c++],d=t.subarray(c,c+u);c+=u;const p=new Uint8Array(u);Ll(i,d,p,h,u,o),h.set(p);for(let t=0;t<a;t++){const a=e.x+t*e.xStep,i=e.y+s*e.yStep;if(!(a>=n||i>=r))for(let e=0;e<o;e++)l[(i*n+a)*o+e]=p[t*o+e]}}}if(16===i){const e=new Uint16Array(l.buffer);if(El)for(let t=0;t<e.length;t++)e[t]=Fl(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:sc,blendOp:cc,data:e}),this._inflator=new gl,this._writingDataChunks=!1}}var hc;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(hc||(hc={}));var pc=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function mc(){pc.console&&"function"==typeof pc.console.log&&pc.console.log.apply(pc.console,arguments)}var fc={log:mc,warn:function(e){pc.console&&("function"==typeof pc.console.warn?pc.console.warn.apply(pc.console,arguments):mc.call(null,arguments))},error:function(e){pc.console&&("function"==typeof pc.console.error?pc.console.error.apply(pc.console,arguments):mc(e))}};function vc(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){bc(r.response,t,n)},r.onerror=function(){fc.error("could not download file")},r.send()}function gc(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function yc(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var bc=pc.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,ta.A)(window))||window!==pc?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=pc.URL||pc.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?gc(a.href)?vc(e,t,n):yc(a,a.target="_blank"):yc(a)):(a.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){yc(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(gc(e))vc(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){yc(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,ta.A)(t)&&(fc.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return vc(e,t,n);var a="application/octet-stream"===e.type,i=/constructor/i.test(pc.HTMLElement)||pc.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&"object"===("undefined"==typeof FileReader?"undefined":(0,ta.A)(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},o.readAsDataURL(e)}else{var l=pc.URL||pc.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function xc(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,i=n[r].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var wc=pc.atob.bind(pc),jc=pc.btoa.bind(pc);function Nc(e,t){var n=e[0],r=e[1],a=e[2],i=e[3];n=_c(n,r,a,i,t[0],7,-680876936),i=_c(i,n,r,a,t[1],12,-389564586),a=_c(a,i,n,r,t[2],17,606105819),r=_c(r,a,i,n,t[3],22,-1044525330),n=_c(n,r,a,i,t[4],7,-176418897),i=_c(i,n,r,a,t[5],12,1200080426),a=_c(a,i,n,r,t[6],17,-1473231341),r=_c(r,a,i,n,t[7],22,-45705983),n=_c(n,r,a,i,t[8],7,1770035416),i=_c(i,n,r,a,t[9],12,-1958414417),a=_c(a,i,n,r,t[10],17,-42063),r=_c(r,a,i,n,t[11],22,-1990404162),n=_c(n,r,a,i,t[12],7,1804603682),i=_c(i,n,r,a,t[13],12,-40341101),a=_c(a,i,n,r,t[14],17,-1502002290),n=Sc(n,r=_c(r,a,i,n,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Sc(i,n,r,a,t[6],9,-1069501632),a=Sc(a,i,n,r,t[11],14,643717713),r=Sc(r,a,i,n,t[0],20,-373897302),n=Sc(n,r,a,i,t[5],5,-701558691),i=Sc(i,n,r,a,t[10],9,38016083),a=Sc(a,i,n,r,t[15],14,-660478335),r=Sc(r,a,i,n,t[4],20,-405537848),n=Sc(n,r,a,i,t[9],5,568446438),i=Sc(i,n,r,a,t[14],9,-1019803690),a=Sc(a,i,n,r,t[3],14,-187363961),r=Sc(r,a,i,n,t[8],20,1163531501),n=Sc(n,r,a,i,t[13],5,-1444681467),i=Sc(i,n,r,a,t[2],9,-51403784),a=Sc(a,i,n,r,t[7],14,1735328473),n=Ac(n,r=Sc(r,a,i,n,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ac(i,n,r,a,t[8],11,-2022574463),a=Ac(a,i,n,r,t[11],16,1839030562),r=Ac(r,a,i,n,t[14],23,-35309556),n=Ac(n,r,a,i,t[1],4,-1530992060),i=Ac(i,n,r,a,t[4],11,1272893353),a=Ac(a,i,n,r,t[7],16,-155497632),r=Ac(r,a,i,n,t[10],23,-1094730640),n=Ac(n,r,a,i,t[13],4,681279174),i=Ac(i,n,r,a,t[0],11,-358537222),a=Ac(a,i,n,r,t[3],16,-722521979),r=Ac(r,a,i,n,t[6],23,76029189),n=Ac(n,r,a,i,t[9],4,-640364487),i=Ac(i,n,r,a,t[12],11,-421815835),a=Ac(a,i,n,r,t[15],16,530742520),n=Cc(n,r=Ac(r,a,i,n,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Cc(i,n,r,a,t[7],10,1126891415),a=Cc(a,i,n,r,t[14],15,-1416354905),r=Cc(r,a,i,n,t[5],21,-57434055),n=Cc(n,r,a,i,t[12],6,1700485571),i=Cc(i,n,r,a,t[3],10,-1894986606),a=Cc(a,i,n,r,t[10],15,-1051523),r=Cc(r,a,i,n,t[1],21,-2054922799),n=Cc(n,r,a,i,t[8],6,1873313359),i=Cc(i,n,r,a,t[15],10,-30611744),a=Cc(a,i,n,r,t[6],15,-1560198380),r=Cc(r,a,i,n,t[13],21,1309151649),n=Cc(n,r,a,i,t[4],6,-145523070),i=Cc(i,n,r,a,t[11],10,-1120210379),a=Cc(a,i,n,r,t[2],15,718787259),r=Cc(r,a,i,n,t[9],21,-343485551),e[0]=Oc(n,e[0]),e[1]=Oc(r,e[1]),e[2]=Oc(a,e[2]),e[3]=Oc(i,e[3])}function kc(e,t,n,r,a,i){return t=Oc(Oc(t,e),Oc(r,i)),Oc(t<<a|t>>>32-a,n)}function _c(e,t,n,r,a,i,s){return kc(t&n|~t&r,e,t,a,i,s)}function Sc(e,t,n,r,a,i,s){return kc(t&r|n&~r,e,t,a,i,s)}function Ac(e,t,n,r,a,i,s){return kc(t^n^r,e,t,a,i,s)}function Cc(e,t,n,r,a,i,s){return kc(n^(t|~r),e,t,a,i,s)}function Lc(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Nc(r,Pc(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Nc(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,Nc(r,a),r}function Pc(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Ec="0123456789abcdef".split("");function Fc(e){for(var t="",n=0;n<4;n++)t+=Ec[e>>8*n+4&15]+Ec[e>>8*n&15];return t}function Tc(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Rc(e){return Lc(e).map(Tc).join("")}var Dc="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Fc(e[t]);return e.join("")}(Lc("hello"));function Oc(e,t){if(Dc){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Ic(e,t){var n,r,a,i;if(e!==n){for(var s=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+s.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=e,r=o}else o=r;var u=t.length,h=0,p=0,m="";for(l=0;l<u;l++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,s=o[(o[h]+o[p])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}var Mc={print:4,modify:8,copy:16,"annot-forms":32};function Bc(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach(function(e){if(void 0!==Mc.perm)throw new Error("Invalid permission: "+e);a+=Mc[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var i=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=Rc(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ic(this.encryptionKey,this.padding)}function Uc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);t+=a<33||35===a||37===a||40===a||41===a||47===a||60===a||62===a||91===a||93===a||123===a||125===a||a>126?"#"+("0"+a.toString(16)).slice(-2):e[r]}return t}function zc(e){if("object"!==(0,ta.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!r],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[n]){var s=t[n][i];try{s[0].apply(e,r)}catch(yc){pc.console&&fc.error("jsPDF PubSub Error",yc.message,yc)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function qc(e){if(!(this instanceof qc))return new qc(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Vc(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Hc(e,t,n,r,a){if(!(this instanceof Hc))return new Hc(e,t,n,r,a);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Vc.call(this,r,a)}function Wc(e,t,n,r,a){if(!(this instanceof Wc))return new Wc(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Vc.call(this,r,a)}function Gc(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",d=null;"object"===(0,ta.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,a=e.format||a,i=e.compress||e.compressPdf||i,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(!0===i?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=zc;var m="1.3",f=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(e){m=e};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var g=p.__private__.getPageFormat=function(e){return v[e]};a=a||"a4";var y="compat",b="advanced",x=y;function w(){this.saveGraphicsState(),X(new Ee(he,0,0,-he,0,pn()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",x=b}function j(){this.restoreGraphicsState(),c="S",x=y}var N=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=x===y;return t&&w.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},p.compatAPI=function(e){var t=x===b;return t&&j.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},p.isAdvancedAPI=function(){return x===b};var k,_=function(e){if(x!==b)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=p.roundToPrecision=p.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};k=p.hpf=p.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,16)};var A=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return S(e,2)},C=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return S(e,3)},L=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return x===y?e*he:x===b?e:void 0},P=function(e){return L(function(e){return x===y?pn()-e:x===b?e:void 0}(e))};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var E,F="00000000000000000000000000000000",T=p.__private__.getFileId=function(){return F},R=p.__private__.setFileId=function(e){return F=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(yt=new Bc(d.userPermissions,d.userPassword,d.ownerPassword,F)),F};p.setFileId=function(e){return R(e),this},p.getFileId=function(){return T()};var D=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),i=[n,U(r),"'",U(a),"'"].join("");return["D:",e.getFullYear(),U(e.getMonth()+1),U(e.getDate()),U(e.getHours()),U(e.getMinutes()),U(e.getSeconds()),i].join("")},O=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),i=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return new Date(t,n,r,a,i,s,0)},I=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=D(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return E=t},M=p.__private__.getCreationDate=function(e){var t=E;return"jsDate"===e&&(t=O(E)),t};p.setCreationDate=function(e){return I(e),this},p.getCreationDate=function(e){return M(e)};var B,U=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},z=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},q=0,V=[],H=[],W=0,G=[],Y=[],K=!1,$=H;p.__private__.setCustomOutputDestination=function(e){K=!0,$=e};var J=function(e){K||($=e)};p.__private__.resetCustomOutputDestination=function(){K=!1,$=H};var X=p.__private__.out=function(e){return e=e.toString(),W+=e.length+1,$.push(e),$},Q=p.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return te=x===b?e/he:e,this};var ne,re=p.__private__.getFontSize=p.getFontSize=function(){return x===y?te:te*he},ae=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return ae=e,this},p.__private__.getR2L=p.getR2L=function(){return ae};var ie,se=p.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};p.__private__.getZoomMode=function(){return ne};var oe,le=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ie=e};p.__private__.getPageMode=function(){return ie};var ce=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};p.__private__.getLayoutMode=function(){return oe},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return se(e),ce(t),le(n),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},p.__private__.getDocumentProperties=function(){return de},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var ue,he,pe,me,fe,ve={},ge={},ye=[],be={},xe={},we={},je={},Ne=null,ke=0,_e=[],Se=new zc(p),Ae=e.hotfixes||[],Ce={},Le={},Pe=[],Ee=function e(t,n,r,a,i,s){if(!(this instanceof e))return new e(t,n,r,a,i,s);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(a)&&(a=1),isNaN(i)&&(i=0),isNaN(s)&&(s=0),this._matrix=[t,n,r,a,i,s]};Object.defineProperty(Ee.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ee.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ee.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ee.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ee.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Ee.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,a=e.shx*this.shy+e.sy*this.sy,i=e.tx*this.sx+e.ty*this.shx+this.tx,s=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ee(t,n,r,a,i,s)},Ee.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty,s=Math.sqrt(e*e+t*t),o=(e/=s)*n+(t/=s)*r;n-=e*o,r-=t*o;var l=Math.sqrt(n*n+r*r);return o/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,s=-s),{scale:new Ee(s,0,0,l,0,0),translate:new Ee(1,0,0,1,a,i),rotate:new Ee(e,t,-t,e,0,0),skew:new Ee(1,0,o,1,0,0)}},Ee.prototype.toString=function(e){return this.join(" ")},Ee.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty,s=1/(e*r-t*n),o=r*s,l=-t*s,c=-n*s,d=e*s;return new Ee(o,l,c,d,-o*a-c*i,-l*a-d*i)},Ee.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new tn(t,n)},Ee.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new tn(e.x+e.w,e.y+e.h));return new nn(t.x,t.y,n.x-t.x,n.y-t.y)},Ee.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty;return new Ee(e,t,n,r,a,i)},p.Matrix=Ee;var Fe=p.matrixMult=function(e,t){return t.multiply(e)},Te=new Ee(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Te;var Re=function(e,t){if(!xe[e]){var n=(t instanceof Hc?"Sh":"P")+(Object.keys(be).length+1).toString(10);t.id=n,xe[e]=n,be[n]=t,Se.publish("addPattern",t)}};p.ShadingPattern=Hc,p.TilingPattern=Wc,p.addShadingPattern=function(e,t){return _("addShadingPattern()"),Re(e,t),this},p.beginTilingPattern=function(e){_("beginTilingPattern()"),an(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){_("endTilingPattern()"),t.stream=Y[B].join("\n"),Re(e,t),Se.publish("endTilingPattern",t),Pe.pop().restore()};var De,Oe=p.__private__.newObject=function(){var e=Ie();return Me(e,!0),e},Ie=p.__private__.newObjectDeferred=function(){return q++,V[q]=function(){return W},q},Me=function(e,t){return t="boolean"==typeof t&&t,V[e]=W,t&&X(e+" 0 obj"),e},Be=p.__private__.newAdditionalObject=function(){var e={objId:Ie(),content:""};return G.push(e),e},Ue=Ie(),ze=Ie(),qe=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",a=0;a<3;a++)r+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return r},Ve=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,a=e.ch3,i=e.ch4,s="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new xc(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,a=255&l}if(void 0===r||void 0===i&&n===r&&r===a)t="string"==typeof n?n+" "+s[0]:2===e.precision?A(n/255)+" "+s[0]:C(n/255)+" "+s[0];else if(void 0===i||"object"===(0,ta.A)(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",s[1]].join(" ");t="string"==typeof n?[n,r,a,s[1]].join(" "):2===e.precision?[A(n/255),A(r/255),A(a/255),s[1]].join(" "):[C(n/255),C(r/255),C(a/255),s[1]].join(" ")}else t="string"==typeof n?[n,r,a,i,s[2]].join(" "):2===e.precision?[A(n),A(r),A(a),A(i),s[2]].join(" "):[C(n),C(r),C(a),C(i),s[2]].join(" ");return t},He=p.__private__.getFilters=function(){return s},We=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||He(),r=e.alreadyAppliedFilters||[],a=e.addLength1||!1,i=t.length,s=e.objectId,o=function(e){return e};if(null!==d&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(o=yt.encryptor(s,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==Gc.API.processDataByFilters?Gc.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===a&&c.push({key:"Length1",value:i})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var p=[],m=0;m<l.reverseChain.split("/").length-1;m+=1)p.push("null");p.push(c[h].value),c[h].value="["+p.join(" ")+"]"}}X("<<");for(var f=0;f<c.length;f++)X("/"+c[f].key+" "+c[f].value);X(">>"),0!==l.data.length&&(X("stream"),X(o(l.data)),X("endstream"))},Ge=p.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,a=e.contentsObjId;Me(r,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),Se.publish("putPage",{objId:r,pageContext:_e[t],pageNumber:t,page:n}),X("/Contents "+a+" 0 R"),X(">>"),X("endobj");var i=n.join("\n");return x===b&&(i+="\nQ"),Me(a,!0),We({data:i,filters:He(),objectId:a}),X("endobj"),r},Ye=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ke;e++)_e[e].objId=Ie(),_e[e].contentsObjId=Ie();for(e=1;e<=ke;e++)n.push(Ge({number:e,data:Y[e],objId:_e[e].objId,contentsObjId:_e[e].contentsObjId,mediaBox:_e[e].mediaBox,cropBox:_e[e].cropBox,bleedBox:_e[e].bleedBox,trimBox:_e[e].trimBox,artBox:_e[e].artBox,userUnit:_e[e].userUnit,rootDictionaryObjId:Ue,resourceDictionaryObjId:ze}));Me(Ue,!0),X("<</Type /Pages");var r="/Kids [";for(t=0;t<ke;t++)r+=n[t]+" 0 R ";X(r+"]"),X("/Count "+ke),X(">>"),X("endobj"),Se.publish("postPutPages")},Ke=function(e){Se.publish("putFont",{font:e,out:X,newObject:Oe,putStream:We}),!0!==e.isAlreadyPutted&&(e.objectNumber=Oe(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Uc(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},$e=function(e){e.objectNumber=Oe();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");We({data:n,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},Je=function(e,t){t||(t=21);var n=Oe(),r=function(e,t){var n,r=[],a=1/(t-1);for(n=0;n<1;n+=a)r.push(n);if(r.push(1),0!=e[0].offset){var i={offset:0,color:e[0].color};e.unshift(i)}if(1!=e[e.length-1].offset){var s={offset:1,color:e[e.length-1].color};e.push(s)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var d=e[l].offset,u=(n-d)/(e[l+1].offset-d),h=e[l].color,p=e[l+1].color;o+=z(Math.round((1-u)*h[0]+u*p[0]).toString(16))+z(Math.round((1-u)*h[1]+u*p[1]).toString(16))+z(Math.round((1-u)*h[2]+u*p[2]).toString(16))}return o.trim()}(e.colors,t),a=[];a.push({key:"FunctionType",value:"0"}),a.push({key:"Domain",value:"[0.0 1.0]"}),a.push({key:"Size",value:"["+t+"]"}),a.push({key:"BitsPerSample",value:"8"}),a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We({data:r,additionalKeyValues:a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),X("endobj"),e.objectNumber=Oe(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var i="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?i+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):i+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),X(i+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+n+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var n=Ie(),r=Oe();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var a=[];a.push({key:"Type",value:"/Pattern"}),a.push({key:"PatternType",value:"1"}),a.push({key:"PaintType",value:"1"}),a.push({key:"TilingType",value:"1"}),a.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),a.push({key:"XStep",value:k(e.xStep)}),a.push({key:"YStep",value:k(e.yStep)}),a.push({key:"Resources",value:n+" 0 R"}),e.matrix&&a.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),We({data:e.stream,additionalKeyValues:a,objectId:e.objectNumber}),X("endobj")},Qe=function(e){for(var t in e.objectNumber=Oe(),X("<<"),e)switch(t){case"opacity":X("/ca "+A(e[t]));break;case"stroke-opacity":X("/CA "+A(e[t]))}X(">>"),X("endobj")},Ze=function(e){Me(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),ve)ve.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&X("/"+e+" "+ve[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(be).length>0){for(var e in X("/Shading <<"),be)be.hasOwnProperty(e)&&be[e]instanceof Hc&&be[e].objectNumber>=0&&X("/"+e+" "+be[e].objectNumber+" 0 R");Se.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(be).length>0){for(var t in X("/Pattern <<"),be)be.hasOwnProperty(t)&&be[t]instanceof p.TilingPattern&&be[t].objectNumber>=0&&be[t].objectNumber<e&&X("/"+t+" "+be[t].objectNumber+" 0 R");Se.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in X("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&X("/"+e+" "+we[e].objectNumber+" 0 R");Se.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Ce)Ce.hasOwnProperty(e)&&Ce[e].objectNumber>=0&&X("/"+e+" "+Ce[e].objectNumber+" 0 R");Se.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(e){ge[e.fontName]=ge[e.fontName]||{},ge[e.fontName][e.fontStyle]=e.id},tt=function(e,t,n,r,a){var i={id:"F"+(Object.keys(ve).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:a||!1,metadata:{}};return Se.publish("addFont",{font:i,instance:this}),ve[i.id]=i,et(i),i.id},nt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,r,a,i,s,o,l,c,d;if(a=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&ve[ue].metadata&&ve[ue].metadata[a]&&ve[ue].metadata[a].encoding&&(i=ve[ue].metadata[a].encoding,!s&&ve[ue].encoding&&(s=ve[ue].encoding),!s&&i.codePages&&(s=i.codePages[0]),"string"==typeof s&&(s=i[s]),s)){for(l=!1,o=[],n=0,r=e.length;n<r;n++)(c=s[e.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rt=p.__private__.beginPage=function(e){Y[++ke]=[],_e[ke]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},st(ke),J(Y[B])},at=function(e,t){var r,i,s;switch(n=t||n,"string"==typeof e&&(r=g(e.toLowerCase()),Array.isArray(r)&&(i=r[0],s=r[1])),Array.isArray(e)&&(i=e[0]*he,s=e[1]*he),isNaN(i)&&(i=a[0],s=a[1]),(i>14400||s>14400)&&(fc.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),s=Math.min(14400,s)),a=[i,s],n.substr(0,1)){case"l":s>i&&(a=[s,i]);break;case"p":i>s&&(a=[s,i])}rt(a),Mt(Ot),X(Gt),0!==Qt&&X(Qt+" J"),0!==Zt&&X(Zt+" j"),Se.publish("addPage",{pageNumber:ke})},it=function(e){e>0&&e<=ke&&(Y.splice(e,1),_e.splice(e,1),ke--,B>ke&&(B=ke),this.setPage(B))},st=function(e){e>0&&e<=ke&&(B=e)},ot=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Y.length-1},lt=function(e,t,n){var r,a=void 0;return n=n||{},e=void 0!==e?e:ve[ue].fontName,t=void 0!==t?t:ve[ue].fontStyle,r=e.toLowerCase(),void 0!==ge[r]&&void 0!==ge[r][t]?a=ge[r][t]:void 0!==ge[e]&&void 0!==ge[e][t]?a=ge[e][t]:!1===n.disableWarning&&fc.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||n.noFallback||null==(a=ge.times[t])&&(a=ge.times.normal),a},ct=p.__private__.putInfo=function(){var e=Oe(),t=function(e){return e};for(var n in null!==d&&(t=yt.encryptor(e,0)),X("<<"),X("/Producer ("+nt(t("jsPDF "+Gc.version))+")"),de)de.hasOwnProperty(n)&&de[n]&&X("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+nt(t(de[n]))+")");X("/CreationDate ("+nt(t(E))+")"),X(">>"),X("endobj")},dt=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Ue;switch(Oe(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&X("/OpenAction [3 0 R /XYZ null null "+A(ne)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}ie&&X("/PageMode /"+ie),Se.publish("putCatalog"),X(">>"),X("endobj")},ut=p.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(q+1)),X("/Root "+q+" 0 R"),X("/Info "+(q-1)+" 0 R"),null!==d&&X("/Encrypt "+yt.oid+" 0 R"),X("/ID [ <"+F+"> <"+F+"> ]"),X(">>")},ht=p.__private__.putHeader=function(){X("%PDF-"+m),X("%\xba\xdf\xac\xe0")},pt=p.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(q+1)),X("0000000000 65535 f ");for(var t=1;t<=q;t++)"function"==typeof V[t]?X((e+V[t]()).slice(-10)+" 00000 n "):void 0!==V[t]?X((e+V[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},mt=p.__private__.buildDocument=function(){var e;q=0,W=0,H=[],V=[],G=[],Ue=Ie(),ze=Ie(),J(H),Se.publish("buildDocument"),ht(),Ye(),function(){Se.publish("putAdditionalObjects");for(var e=0;e<G.length;e++){var t=G[e];Me(t.objId,!0),X(t.content),X("endobj")}Se.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ve)ve.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&Ke(ve[e])}(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Qe(we[e])}(),function(){for(var e in Ce)Ce.hasOwnProperty(e)&&$e(Ce[e])}(),function(e){var t;for(t in be)be.hasOwnProperty(t)&&(be[t]instanceof Hc?Je(be[t]):be[t]instanceof Wc&&Xe(be[t],e))}(e),Se.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:ze,objectOid:Number.MAX_SAFE_INTEGER}),Se.publish("postPutResources"),null!==d&&(yt.oid=Oe(),X("<<"),X("/Filter /Standard"),X("/V "+yt.v),X("/R "+yt.r),X("/U <"+yt.toHexString(yt.U)+">"),X("/O <"+yt.toHexString(yt.O)+">"),X("/P "+yt.P),X(">>"),X("endobj")),ct(),dt();var t=W;return pt(),ut(),X("startxref"),X(""+t),X("%%EOF"),J(Y[B]),H.join("\n")},ft=p.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},vt=p.output=p.__private__.output=(De=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return mt();case"save":p.save(t.filename);break;case"arraybuffer":return Z(mt());case"blob":return ft(mt());case"bloburi":case"bloburl":if(void 0!==pc.URL&&"function"==typeof pc.URL.createObjectURL)return pc.URL&&pc.URL.createObjectURL(ft(mt()))||void 0;fc.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=mt();try{n=jc(r)}catch(d){n=jc(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(pc)){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",i=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(a=t.pdfObjectUrl,i="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+i+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=pc.open();return null!==o&&o.document.write(s),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(pc)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=pc.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(pc))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',m=pc.open();if(null!==m&&(m.document.write(h),m.document.title=t.filename),m||"undefined"==typeof safari)return m;break;case"datauri":case"dataurl":return pc.document.location.href=this.output("datauristring",t);default:return null}},De.foo=function(){try{return De.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!pc.console)throw new Error(n);pc.console.error(n,t),pc.alert&&alert(n)}},De.foo.bar=De,De.foo),gt=function(e){return!0===Array.isArray(Ae)&&Ae.indexOf(e)>-1};switch(r){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==gt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);he=r}var yt=null;I(),R();var bt=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_e[e].objId,pageNumber:e,pageContext:_e[e]}},xt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in _e)if(_e[t].objId===e)break;return bt(t)},wt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:_e[B].objId,pageNumber:B,pageContext:_e[B]}};p.addPage=function(){return at.apply(this,arguments),this},p.setPage=function(){return st.apply(this,arguments),J.call(this,Y[B]),this},p.insertPage=function(e){return this.addPage(),this.movePage(B,e),this},p.movePage=function(e,t){var n,r;if(e>t){n=Y[e],r=_e[e];for(var a=e;a>t;a--)Y[a]=Y[a-1],_e[a]=_e[a-1];Y[t]=n,_e[t]=r,this.setPage(t)}else if(e<t){n=Y[e],r=_e[e];for(var i=e;i<t;i++)Y[i]=Y[i+1],_e[i]=_e[i+1];Y[t]=n,_e[t]=r,this.setPage(t)}return this},p.deletePage=function(){return it.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,r,a){var i,s,o,l,c,d,u,p,m,f=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var v=n;n=t,t=e,e=v}if(arguments[3]instanceof Ee==0?(o=arguments[4],l=arguments[5],"object"===(0,ta.A)(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),r={flags:u,angle:o,align:l})):(_("The transform parameter of text() with a Matrix value"),m=a),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var g,y="",w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Dt,j=f.internal.scaleFactor;function N(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),nt(e,u)}function S(e){for(var t,n=e.concat(),r=[],a=n.length;a--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function A(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,a,i=e.concat(),s=[],o=i.length;o--;)"string"==typeof(r=i.shift())?s.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(a=t(r[0],r[1],r[2]),s.push([a[0],a[1],a[2]]));n=s}return n}var C=!1,P=!0;if("string"==typeof e)C=!0;else if(Array.isArray(e)){var E=e.concat();s=[];for(var F,T=E.length;T--;)("string"!=typeof(F=E.shift())||Array.isArray(F)&&"string"!=typeof F[0])&&(P=!1);C=P}if(!1===C)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var R=te/f.internal.scaleFactor,D=R*(w-1);switch(r.baseline){case"bottom":n-=D;break;case"top":n+=R-D;break;case"hanging":n+=R-2*D;break;case"middle":n+=R/2-D}if((d=r.maxWidth||0)>0&&("string"==typeof e?e=f.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(f.splitTextToSize(t,d))},[]))),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ve,activeFontSize:te}},Se.publish("preProcessText",i),e=i.text,o=(r=i.options).angle,m instanceof Ee==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),x===b&&(o=-o);var O=Math.cos(o),I=Math.sin(o);m=new Ee(O,I,-I,O,0,0)}else o&&o instanceof Ee&&(m=o);x!==b||m||(m=Te),void 0!==(c=r.charSpace||Jt)&&(y+=k(L(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=r.horizontalScale)&&(y+=k(100*p)+" Tz\n"),r.lang;var M=-1,B=void 0!==r.renderingMode?r.renderingMode:r.stroke,U=f.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":M=0;break;case 1:case!0:case"stroke":M=1;break;case 2:case"fillThenStroke":M=2;break;case 3:case"invisible":M=3;break;case 4:case"fillAndAddForClipping":M=4;break;case 5:case"strokeAndAddPathForClipping":M=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":M=6;break;case 7:case"addToPathForClipping":M=7}var z=void 0!==U.usedRenderingMode?U.usedRenderingMode:-1;-1!==M?y+=M+" Tr\n":-1!==z&&(y+="0 Tr\n"),-1!==M&&(U.usedRenderingMode=M),l=r.align||"left";var q,V=te*w,H=f.internal.pageSize.getWidth(),W=ve[ue];c=r.charSpace||Jt,d=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var G=[],Y=function(e){return f.getStringUnitWidth(e,{font:W,charSpace:c,fontSize:te,doKerning:!1})*te/j};if("[object Array]"===Object.prototype.toString.call(e)){var K;s=S(e),"left"!==l&&(q=s.map(Y));var $,J=0;if("right"===l){t-=q[0],e=[],T=s.length;for(var Q=0;Q<T;Q++)0===Q?($=qt(t),K=Vt(n)):($=L(J-q[Q]),K=-V),e.push([s[Q],$,K]),J=q[Q]}else if("center"===l){t-=q[0]/2,e=[],T=s.length;for(var Z=0;Z<T;Z++)0===Z?($=qt(t),K=Vt(n)):($=L((J-q[Z])/2),K=-V),e.push([s[Z],$,K]),J=q[Z]}else if("left"===l){e=[],T=s.length;for(var ee=0;ee<T;ee++)e.push(s[ee])}else if("justify"===l&&"Identity-H"===W.encoding){e=[],T=s.length,d=0!==d?d:H;for(var ne=0,re=0;re<T;re++)if(K=0===re?Vt(n):-V,$=0===re?qt(t):ne,re<T-1){var ie=L((d-q[re])/(s[re].split(" ").length-1)),se=s[re].split(" ");e.push([se[0]+" ",$,K]),ne=0;for(var oe=1;oe<se.length;oe++){var le=(Y(se[oe-1]+" "+se[oe])-Y(se[oe]))*j+ie;oe==se.length-1?e.push([se[oe],le,0]):e.push([se[oe]+" ",le,0]),ne-=le}}else e.push([s[re],$,K]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],T=s.length,d=0!==d?d:H,re=0;re<T;re++){K=0===re?Vt(n):-V,$=0===re?qt(t):0;var ce=s[re].split(" ").length-1,de=ce>0?(d-q[re])/ce:0;re<T-1?G.push(k(L(de))):G.push(0),e.push([s[re],$,K])}}}!0===("boolean"==typeof r.R2L?r.R2L:ae)&&(e=A(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ve,activeFontSize:te}},Se.publish("postProcessText",i),e=i.text,g=i.mutex.isHex||!1;var he=ve[ue].encoding;"WinAnsiEncoding"!==he&&"StandardEncoding"!==he||(e=A(e,function(e,t,n){return[N(e),t,n]})),s=S(e),e=[];for(var pe,me,fe,ge=Array.isArray(s[0])?1:0,ye="",be=function(e,t,n){var a="";return n instanceof Ee?(n="number"==typeof r.angle?Fe(n,new Ee(1,0,0,1,e,t)):Fe(new Ee(1,0,0,1,e,t),n),x===b&&(n=Fe(new Ee(1,0,0,-1,0,0),n)),a=n.join(" ")+" Tm\n"):a=k(e)+" "+k(t)+" Td\n",a},xe=0;xe<s.length;xe++){switch(ye="",ge){case 1:fe=(g?"<":"(")+s[xe][0]+(g?">":")"),pe=parseFloat(s[xe][1]),me=parseFloat(s[xe][2]);break;case 0:fe=(g?"<":"(")+s[xe]+(g?">":")"),pe=qt(t),me=Vt(n)}void 0!==G&&void 0!==G[xe]&&(ye=G[xe]+" Tw\n"),0===xe?e.push(ye+be(pe,me,m)+fe):0===ge?e.push(ye+fe):1===ge&&e.push(ye+be(pe,me,m)+fe)}e=0===ge?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var we="BT\n/";return we+=ue+" "+te+" Tf\n",we+=k(te*w)+" TL\n",we+=Kt+"\n",we+=y,we+=e,X(we+="ET"),h[ue]=!0,f};var jt=p.__private__.clip=p.clip=function(e){return X("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return jt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return X("n"),this};var Nt=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return Nt(e)&&(c=e),this};var kt=p.__private__.getStyle=p.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},_t=p.close=function(){return X("h"),this};p.stroke=function(){return X("S"),this},p.fill=function(e){return St("f",e),this},p.fillEvenOdd=function(e){return St("f*",e),this},p.fillStroke=function(e){return St("B",e),this},p.fillStrokeEvenOdd=function(e){return St("B*",e),this};var St=function(e,t){"object"===(0,ta.A)(t)?Lt(t,e):X(e)},At=function(e){null===e||x===b&&void 0===e||(e=kt(e),X(e))};function Ct(e,t,n,r,a){var i=new Wc(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,a||this.matrix);i.stream=this.stream;var s=e+"$$"+this.cloneIndex+++"$$";return Re(s,i),i}var Lt=function(e,t){var n=xe[e.key],r=be[n];if(r instanceof Hc)X("q"),X(Pt(t)),r.gState&&p.setGState(r.gState),X(e.matrix.toString()+" cm"),X("/"+n+" sh"),X("Q");else if(r instanceof Wc){var a=new Ee(1,0,0,-1,0,pn());e.matrix&&(a=a.multiply(e.matrix||Te),n=Ct.call(r,e.key,e.boundingBox,e.xStep,e.yStep,a).id),X("q"),X("/Pattern cs"),X("/"+n+" scn"),r.gState&&p.setGState(r.gState),X(t),X("Q")}},Pt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Et=p.moveTo=function(e,t){return X(k(L(e))+" "+k(P(t))+" m"),this},Ft=p.lineTo=function(e,t){return X(k(L(e))+" "+k(P(t))+" l"),this},Tt=p.curveTo=function(e,t,n,r,a,i){return X([k(L(e)),k(P(t)),k(L(n)),k(P(r)),k(L(a)),k(P(i)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.line");return x===y?this.lines([[n-e,r-t]],e,t,[1,1],a||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,n,r,a,i){var s,o,l,c,d,u,h,p,m,f,v,g;if("number"==typeof e&&(g=n,n=t,t=e,e=g),r=r||[1,1],i=i||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Nt(a)||"boolean"!=typeof i)throw new Error("Invalid arguments passed to jsPDF.lines");for(Et(t,n),s=r[0],o=r[1],c=e.length,f=t,v=n,l=0;l<c;l++)2===(d=e[l]).length?(f=d[0]*s+f,v=d[1]*o+v,Ft(f,v)):(u=d[0]*s+f,h=d[1]*o+v,p=d[2]*s+f,m=d[3]*o+v,f=d[4]*s+f,v=d[5]*o+v,Tt(u,h,p,m,f,v));return i&&_t(),At(a),this},p.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Et(r[0],r[1]);break;case"l":Ft(r[0],r[1]);break;case"c":Tt.apply(this,r);break;case"h":_t()}}return this},p.__private__.rect=p.rect=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.rect");return x===y&&(r=-r),X([k(L(e)),k(P(t)),k(L(n)),k(L(r)),"re"].join(" ")),At(a),this},p.__private__.triangle=p.triangle=function(e,t,n,r,a,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i)||!Nt(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[a-n,i-r],[e-a,t-i]],e,t,[1,1],s,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,r,a,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i)||!Nt(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return a=Math.min(a,.5*n),i=Math.min(i,.5*r),this.lines([[n-2*a,0],[a*o,0,a,i-i*o,a,i],[0,r-2*i],[0,i*o,-a*o,i,-a,i],[2*a-n,0],[-a*o,0,-a,-i*o,-a,-i],[0,2*i-r],[0,-i*o,a*o,-i,a,-i]],e+a,t,[1,1],s,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var i=4/3*(Math.SQRT2-1)*n,s=4/3*(Math.SQRT2-1)*r;return Et(e+n,t),Tt(e+n,t-s,e+i,t-r,e,t-r),Tt(e-i,t-r,e-n,t-s,e-n,t),Tt(e-n,t+s,e-i,t+r,e,t+r),Tt(e+i,t+r,e+n,t+s,e+n,t),At(a),this},p.__private__.circle=p.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Nt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},p.setFont=function(e,t,n){return n&&(t=N(t,n)),ue=lt(e,t,{disableWarning:!1}),this};var Rt=p.__private__.getFont=p.getFont=function(){return ve[lt.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,n={};for(e in ge)if(ge.hasOwnProperty(e))for(t in n[e]=[],ge[e])ge[e].hasOwnProperty(t)&&n[e].push(t);return n},p.addFont=function(e,t,n,r,a){var i=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==i.indexOf(arguments[3])?a=arguments[3]:arguments[3]&&-1==i.indexOf(arguments[3])&&(n=N(n,r)),tt.call(this,e,t,n,a=a||"Identity-H")};var Dt,Ot=e.lineWidth||.200025,It=p.__private__.getLineWidth=p.getLineWidth=function(){return Ot},Mt=p.__private__.setLineWidth=p.setLineWidth=function(e){return Ot=e,X(k(L(e))+" w"),this};p.__private__.setLineDash=Gc.API.setLineDash=Gc.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(L(e))}).join(" "),t=k(L(t)),X("["+e+"] "+t+" d"),this};var Bt=p.__private__.getLineHeight=p.getLineHeight=function(){return te*Dt};p.__private__.getLineHeight=p.getLineHeight=function(){return te*Dt};var Ut=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Dt=e),this},zt=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Dt};Ut(e.lineHeight);var qt=p.__private__.getHorizontalCoordinate=function(e){return L(e)},Vt=p.__private__.getVerticalCoordinate=function(e){return x===b?e:_e[B].mediaBox.topRightY-_e[B].mediaBox.bottomLeftY-L(e)},Ht=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return k(qt(e))},Wt=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return k(Vt(e))},Gt=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return qe(Gt)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,r){return Gt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),X(Gt),this};var Yt=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return qe(Yt)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,r){return Yt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),X(Yt),this};var Kt=e.textColor||"0 g",$t=p.__private__.getTextColor=p.getTextColor=function(){return qe(Kt)};p.__private__.setTextColor=p.setTextColor=function(e,t,n,r){return Kt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Jt=e.charSpace,Xt=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Jt||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jt=e,this};var Qt=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qt=t,X(t+" J"),this};var Zt=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,X(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(k(L(e))+" M"),this},p.GState=qc,p.setGState=function(e){(e="string"==typeof e?we[je[e]]:en(null,e)).equals(Ne)||(X("/"+e.id+" gs"),Ne=e)};var en=function(e,t){if(!e||!je[e]){var n=!1;for(var r in we)if(we.hasOwnProperty(r)&&we[r].equals(t)){n=!0;break}if(n)t=we[r];else{var a="GS"+(Object.keys(we).length+1).toString(10);we[a]=t,t.id=a}return e&&(je[e]=t.id),Se.publish("addGState",t),t}};p.addGState=function(e,t){return en(e,t),this},p.saveGraphicsState=function(){return X("q"),ye.push({key:ue,size:te,color:Kt}),this},p.restoreGraphicsState=function(){X("Q");var e=ye.pop();return ue=e.key,te=e.size,Kt=e.color,Ne=null,this},p.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},p.comment=function(e){return X("#"+e),this};var tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},nn=function(e,t,n,r){tn.call(this,e,t),this.type="rect";var a=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var i=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}}),this},rn=function(){this.page=ke,this.currentPage=B,this.pages=Y.slice(0),this.pagesContext=_e.slice(0),this.x=pe,this.y=me,this.matrix=fe,this.width=on(B),this.height=cn(B),this.outputDestination=$,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){ke=this.page,B=this.currentPage,_e=this.pagesContext,Y=this.pages,pe=this.x,me=this.y,fe=this.matrix,ln(B,this.width),dn(B,this.height),$=this.outputDestination};var an=function(e,t,n,r,a){Pe.push(new rn),ke=B=0,Y=[],pe=e,me=t,fe=a,rt([n,r])};for(var sn in p.beginFormObject=function(e,t,n,r,a){return an(e,t,n,r,a),this},p.endFormObject=function(e){return function(e){if(Le[e])Pe.pop().restore();else{var t=new rn,n="Xo"+(Object.keys(Ce).length+1).toString(10);t.id=n,Le[e]=n,Ce[n]=t,Se.publish("addFormObject",t),Pe.pop().restore()}}(e),this},p.doFormObject=function(e,t){var n=Ce[Le[e]];return X("q"),X(t.toString()+" cm"),X("/"+n.id+" Do"),X("Q"),this},p.getFormObject=function(e){var t=Ce[Le[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(bc(ft(mt()),e),"function"==typeof bc.unload&&pc.setTimeout&&setTimeout(bc.unload,911),this):new Promise(function(t,n){try{var a=bc(ft(mt()),e);"function"==typeof bc.unload&&pc.setTimeout&&setTimeout(bc.unload,911),t(a)}catch(r){n(r.message)}})},Gc.API)Gc.API.hasOwnProperty(sn)&&("events"===sn&&Gc.API.events.length?function(e,t){var n,r,a;for(a=t.length-1;-1!==a;a--)n=t[a][0],r=t[a][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Se,Gc.API.events):p[sn]=Gc.API[sn]);function on(e){return _e[e].mediaBox.topRightX-_e[e].mediaBox.bottomLeftX}function ln(e,t){_e[e].mediaBox.topRightX=t+_e[e].mediaBox.bottomLeftX}function cn(e){return _e[e].mediaBox.topRightY-_e[e].mediaBox.bottomLeftY}function dn(e,t){_e[e].mediaBox.topRightY=t+_e[e].mediaBox.bottomLeftY}var un=p.getPageWidth=function(e){return on(e=e||B)/he},hn=p.setPageWidth=function(e,t){ln(e,t*he)},pn=p.getPageHeight=function(e){return cn(e=e||B)/he},mn=p.setPageHeight=function(e,t){dn(e,t*he)};return p.internal={pdfEscape:nt,getStyle:kt,getFont:Rt,getFontSize:re,getCharSpace:Xt,getTextColor:$t,getLineHeight:Bt,getLineHeightFactor:zt,getLineWidth:It,write:Q,getHorizontalCoordinate:qt,getVerticalCoordinate:Vt,getCoordinateString:Ht,getVerticalCoordinateString:Wt,collections:{},newObject:Oe,newAdditionalObject:Be,newObjectDeferred:Ie,newObjectDeferredBegin:Me,getFilters:He,putStream:We,events:Se,scaleFactor:he,pageSize:{getWidth:function(){return un(B)},setWidth:function(e){hn(B,e)},getHeight:function(){return pn(B)},setHeight:function(e){mn(B,e)}},encryptionOptions:d,encryption:yt,getEncryptor:function(e){return null!==d?yt.encryptor(e,0):function(e){return e}},output:vt,getNumberOfPages:ot,pages:Y,out:X,f2:A,f3:C,getPageInfo:bt,getPageInfoByObjId:xt,getCurrentPageInfo:wt,getPDFVersion:f,Point:tn,Rectangle:nn,Matrix:Ee,hasHotfix:gt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return un(B)},set:function(e){hn(B,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return pn(B)},set:function(e){mn(B,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(h[r]=!0);var a=e[t][0].split("-");et({id:r,fontName:a[0],fontStyle:a[1]||""})}Se.publish("addFonts",{fonts:ve,dictionary:ge})}.call(p,ee),ue="F1",at(a,n),Se.publish("initialized"),p}Bc.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Bc.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Bc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Bc.prototype.processOwnerPassword=function(e,t){return Ic(Rc(t).substr(0,5),e)},Bc.prototype.encryptor=function(e,t){var n=Rc(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Ic(n,e)}},qc.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,ta.A)(e)!==(0,ta.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},Gc.API={events:[]},Gc.version="3.0.3";var Yc=Gc.API,Kc=1,$c=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xc=function(e){return e.toFixed(2)},Qc=function(e){return e.toFixed(5)};Yc.__acroform__={};var Zc=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ed=function(e){return e*Kc},td=function(e){var t=new gd,n=Ed.internal.getHeight(e)||0,r=Ed.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Xc(r)),Number(Xc(n))],t},nd=Yc.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},rd=Yc.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},ad=Yc.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},id=Yc.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ad(e,t-1)},sd=Yc.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nd(e,t-1)},od=Yc.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rd(e,t-1)},ld=Yc.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=n(a)||0,l.lowerLeft_Y=r(i+o)||0,l.upperRight_X=n(a+s)||0,l.upperRight_Y=r(i)||0,[Number(Xc(l.lowerLeft_X)),Number(Xc(l.lowerLeft_Y)),Number(Xc(l.upperRight_X)),Number(Xc(l.upperRight_Y))]},cd=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=dd(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Xc(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=td(e);return i.scope=e.scope,i.stream=t.join("\n"),i}},dd=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(e){return e.split("\n")}):a.map(function(e){return[e]});var i=n,s=Ed.internal.getHeight(e)||0;s=s<0?-s:s;var o=Ed.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,r){if(t+1<a.length){var i=n+" "+a[t+1][0];return ud(i,e,r).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,d,u=ud("3",e,i).height,h=e.multiline?s-i:(s-u)/2,p=h+=2,m=0,f=0,v=0;if(i<=0){t="(...) Tj\n",t+="% Width of Text: "+ud(t,e,i=12).width+", FieldWidth:"+o+"\n";break}for(var g="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var x=!1;if(1!==a[b].length&&v!==a[b].length-1){if((u+2)*(y+2)+2>s)continue e;g+=a[b][v],x=!0,f=b,b--}else{g=" "==(g+=a[b][v]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var w=parseInt(b),j=l(w,g,i),N=b>=a.length-1;if(j&&!N){g+=" ",v=0;continue}if(j||N){if(N)f=w;else if(e.multiline&&(u+2)*(y+2)+2>s)continue e}else{if(!e.multiline)continue e;if((u+2)*(y+2)+2>s)continue e;f=w}}for(var k="",_=m;_<=f;_++){var S=a[_];if(e.multiline){if(_===f){k+=S[v]+" ",v=(v+1)%S.length;continue}if(_===m){k+=S[S.length-1]+" ";continue}}k+=S[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,d=ud(k,e,i).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=Xc(c)+" "+Xc(p)+" Td\n",t+="("+$c(k)+") Tj\n",t+=-Xc(c)+" 0 Td\n",p=-(i+2),d=0,m=x?f:f+1,y++,g=""}break}return r.text=t,r.fontSize=i,r},ud=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},hd={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},pd=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},md=Yc.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(0!==i&&(a+=" "),(0,ta.A)(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),a+="("+$c(r(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fd=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+$c(r(e))+")"},vd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vd.prototype.toString=function(){return this.objId+" 0 R"},vd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},vd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:md(a,this.objId,this.scope)}):a instanceof vd?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):"function"!=typeof a&&e.push({key:r,value:a}))}return e};var gd=function(){vd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Zc(gd,vd);var yd=function(){vd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+$c(t(e))+")"}},set:function(t){e=t}})};Zc(yd,vd);var bd=function e(){vd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(t,3))},set:function(e){!0===Boolean(e)?this.F=sd(t,3):this.F=od(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Ad)return;i="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+$c(t(i))+")"},set:function(e){i=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Kc:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Ad||this instanceof Ld))return fd(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof kd==0?fd(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof kd==0?"("===e.substr(0,1)?Jc(e.substr(1,e.length-2)):Jc(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof kd==1?Jc(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof kd==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof kd==0?fd(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof kd==0?"("===e.substr(0,1)?Jc(e.substr(1,e.length-2)):Jc(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof kd==1?Jc(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof kd==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){e=Boolean(e),f=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(e){m=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,1):this.Ff=od(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,2):this.Ff=od(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,3):this.Ff=od(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==v)return v},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');v=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(v){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Zc(bd,vd);var xd=function(){bd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return md(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,a=[];r=t.exec(e);)a.push(r[n]);return a}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,18):this.Ff=od(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=sd(this.Ff,19):this.Ff=od(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=sd(this.Ff,20),t.sort()):this.Ff=od(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,22):this.Ff=od(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,23):this.Ff=od(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,27):this.Ff=od(this.Ff,27)}}),this.hasAppearanceStream=!1};Zc(xd,bd);var wd=function(){xd.call(this),this.fontName="helvetica",this.combo=!1};Zc(wd,xd);var jd=function(){wd.call(this),this.combo=!0};Zc(jd,wd);var Nd=function(){jd.call(this),this.edit=!0};Zc(Nd,jd);var kd=function(){bd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,15):this.Ff=od(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,16):this.Ff=od(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,17):this.Ff=od(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,26):this.Ff=od(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+$c(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,ta.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Zc(kd,bd);var _d=function(){kd.call(this),this.pushButton=!0};Zc(_d,kd);var Sd=function(){kd.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Zc(Sd,kd);var Ad=function(){var e,t;bd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+$c(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,ta.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ed.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zc(Ad,bd),Sd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Sd.prototype.createOption=function(e){var t=new Ad;return t.Parent=this,t.optionName=e,this.Kids.push(t),Fd.call(this.scope,t),t};var Cd=function(){kd.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ed.CheckBox.createAppearanceStream()};Zc(Cd,kd);var Ld=function(){bd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,13):this.Ff=od(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,21):this.Ff=od(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,23):this.Ff=od(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,24):this.Ff=od(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,25):this.Ff=od(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,26):this.Ff=od(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zc(Ld,bd);var Pd=function(){Ld.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(id(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=sd(this.Ff,14):this.Ff=od(this.Ff,14)}}),this.password=!0};Zc(Pd,Ld);var Ed={CheckBox:{createAppearanceStream:function(){return{N:{On:Ed.CheckBox.YesNormal},D:{On:Ed.CheckBox.YesPushDown,Off:Ed.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=td(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=dd(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Xc(Ed.internal.getWidth(e))+" "+Xc(Ed.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Xc(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=td(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],i=Ed.internal.getHeight(e),s=Ed.internal.getWidth(e),o=dd(e,e.caption);return a.push("1 g"),a.push("0 0 "+Xc(s)+" "+Xc(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Xc(s-1)+" "+Xc(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+Xc(o.fontSize)+" Tf "+r),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=td(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xc(Ed.internal.getWidth(e))+" "+Xc(Ed.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ed.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ed.RadioButton.Circle.YesNormal,t.D[e]=Ed.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=td(e);t.scope=e.scope;var n=[],r=Ed.internal.getWidth(e)<=Ed.internal.getHeight(e)?Ed.internal.getWidth(e)/4:Ed.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Ed.internal.Bezier_C,i=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Qc(Ed.internal.getWidth(e)/2)+" "+Qc(Ed.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=td(e);t.scope=e.scope;var n=[],r=Ed.internal.getWidth(e)<=Ed.internal.getHeight(e)?Ed.internal.getWidth(e)/4:Ed.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Ed.internal.Bezier_C).toFixed(5)),s=Number((r*Ed.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Qc(Ed.internal.getWidth(e)/2)+" "+Qc(Ed.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Qc(Ed.internal.getWidth(e)/2)+" "+Qc(Ed.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=td(e);t.scope=e.scope;var n=[],r=Ed.internal.getWidth(e)<=Ed.internal.getHeight(e)?Ed.internal.getWidth(e)/4:Ed.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Ed.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Qc(Ed.internal.getWidth(e)/2)+" "+Qc(Ed.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ed.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ed.RadioButton.Cross.YesNormal,t.D[e]=Ed.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=td(e);t.scope=e.scope;var n=[],r=Ed.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Xc(Ed.internal.getWidth(e)-2)+" "+Xc(Ed.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Xc(r.x1.x)+" "+Xc(r.x1.y)+" m"),n.push(Xc(r.x2.x)+" "+Xc(r.x2.y)+" l"),n.push(Xc(r.x4.x)+" "+Xc(r.x4.y)+" m"),n.push(Xc(r.x3.x)+" "+Xc(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=td(e);t.scope=e.scope;var n=Ed.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xc(Ed.internal.getWidth(e))+" "+Xc(Ed.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xc(Ed.internal.getWidth(e)-2)+" "+Xc(Ed.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Xc(n.x1.x)+" "+Xc(n.x1.y)+" m"),r.push(Xc(n.x2.x)+" "+Xc(n.x2.y)+" l"),r.push(Xc(n.x4.x)+" "+Xc(n.x4.y)+" m"),r.push(Xc(n.x3.x)+" "+Xc(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=td(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xc(Ed.internal.getWidth(e))+" "+Xc(Ed.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ed.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ed.internal.getWidth(e),n=Ed.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ed.internal.getWidth=function(e){var t=0;return"object"===(0,ta.A)(e)&&(t=ed(e.Rect[2])),t},Ed.internal.getHeight=function(e){var t=0;return"object"===(0,ta.A)(e)&&(t=ed(e.Rect[3])),t};var Fd=Yc.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(bd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(hd)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Kc=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new yd,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&pd(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var a=e[r],i=[],s=a.Rect;if(a.Rect&&(a.Rect=ld(a.Rect,t)),t.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ed.createDefaultAppearanceStream(a),"object"===(0,ta.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(i=a.getKeyValueListForStream()),a.Rect=s,a.hasAppearanceStream&&!a.appearanceStreamContent){var o=cd(a);i.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(a.appearanceStreamContent){var l="";for(var c in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(c)){var d=a.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var r in d)if(d.hasOwnProperty(r)){var u=d[r];"function"==typeof u&&(u=u.call(t,a)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,a)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}i.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:i,objectId:a.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),"object"===(0,ta.A)(a)&&"function"==typeof a.putStream&&a.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof bd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Yc.AcroFormChoiceField=xd,Yc.AcroFormListBox=wd,Yc.AcroFormComboBox=jd,Yc.AcroFormEditBox=Nd,Yc.AcroFormButton=kd,Yc.AcroFormPushButton=_d,Yc.AcroFormRadioButton=Sd,Yc.AcroFormCheckBox=Cd,Yc.AcroFormTextField=Ld,Yc.AcroFormPasswordField=Pd,Yc.AcroFormAppearance=Ed,Yc.AcroForm={ChoiceField:xd,ListBox:wd,ComboBox:jd,EditBox:Nd,Button:kd,PushButton:_d,RadioButton:Sd,CheckBox:Cd,TextField:Ld,PasswordField:Pd,Appearance:Ed},Gc.AcroForm={ChoiceField:xd,ListBox:wd,ComboBox:jd,EditBox:Nd,Button:kd,PushButton:_d,RadioButton:Sd,CheckBox:Cd,TextField:Ld,PasswordField:Pd,Appearance:Ed};Gc.AcroForm;function Td(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(e,t){var a,i,s,o,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(j(e))for(l in r)for(s=r[l],a=0;a<s.length;a+=1){for(o=!0,i=0;i<s[a].length;i+=1)if(void 0!==s[a][i]&&s[a][i]!==e[i]){o=!1;break}if(!0===o){c=l;break}}else for(l in r)for(s=r[l],a=0;a<s.length;a+=1){for(o=!0,i=0;i<s[a].length;i+=1)if(void 0!==s[a][i]&&s[a][i]!==e.charCodeAt(i)){o=!1;break}if(!0===o){c=l;break}}return c===n&&t!==n&&(c=t),c},i=function e(t){for(var n=this.internal.write,r=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:t.width}),i.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var s="",o=0,l=t.transparency.length;o<l;o++)s+=t.transparency[o]+" "+t.transparency[o]+" ";i.push({key:"Mask",value:"["+s+"]"})}void 0!==t.sMask&&i.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:i,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d,u=null!==(d=t.sMaskBitsPerComponent)&&void 0!==d?d:t.bitsPerComponent,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:u,data:t.sMask};"filter"in t&&(h.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(u," /Columns ").concat(t.width),h.filter=t.filter),e.call(this,h)}if(t.colorSpace===g.INDEXED){var p=this.internal.newObject();r({data:k(new Uint8Array(t.palette)),objectId:p}),n("endobj")}},s=function(){var e=this.internal.collections[t+"images"];for(var n in e)i.call(this,e[n])},o=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var a in n)r("/I"+(e=n[a]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,ta.A)(e)&&1===e.nodeType},p=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return wc(unescape(r).split("base64,").pop());var a=e.loadFile(r,!0);if(void 0!==a)return a}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var i;switch(n){case"PNG":i="image/png";break;case"WEBP":i="image/webp";break;default:i="image/jpeg"}return wc(t.toDataURL(i,1).split("base64,").pop())}},m=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},f=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},v=function(e,t,n,r,a,i){var s=f.call(this,n,r,a),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(n=s[0],r=s[1],d[a.index]=a,i){i*=Math.PI/180;var u=Math.cos(i),h=Math.sin(i),p=function(e){return e.toFixed(4)},m=[p(u),p(h),p(-1*h),p(u),0,0,"cm"]}this.internal.write("q"),i?(this.internal.write([1,"0","0",1,o(e),l(t+r),"cm"].join(" ")),this.internal.write(m.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(j(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},x=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},N=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=j(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,a,i,s,o,c,d;if("number"==typeof arguments[1]?(t=n,r=arguments[1],a=arguments[2],i=arguments[3],s=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7]):(t=arguments[1],r=arguments[2],a=arguments[3],i=arguments[4],s=arguments[5],o=arguments[6],c=arguments[7],d=arguments[8]),"object"===(0,ta.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||n,r=u.x||r||0,a=u.y||a||0,i=u.w||u.width||i,s=u.h||u.height||s,o=u.alias||o,c=u.compression||c,d=u.rotation||u.angle||d}var p=this.internal.getFilters();if(void 0===c&&-1!==p.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var m=_.call(this,e,t,o,c);return v.call(this,r,a,i,s,m,d),this};var _=function(t,r,i,s){var o,l,c;if("string"==typeof t&&a(t)===n){t=unescape(t);var f=S(t,!1);(""!==f||void 0!==(f=e.loadFile(t,!0)))&&(t=f)}if(h(t)&&(t=p(t,r)),r=a(t,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=i)||0===c.length)&&(i=function(e){return"string"==typeof e||j(e)?b(e):j(e.data)?b(e.data):null}(t)),(o=m.call(this,i))||(t instanceof Uint8Array||"RGBA"===r||(l=t,t=N(t)),o=this["process"+r.toUpperCase()](t,d.call(this),i,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:y.NONE}(s),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},S=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var i;n=null!==(i=w(e))&&void 0!==i?i:e;try{r=wc(n)}catch(a){if(t)throw x(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+a.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,i,s="";if(h(t)&&(t=p(t)),"string"==typeof t&&a(t)===n&&(""===(s=S(t,!1))&&(s=e.loadFile(t)||""),t=s),i=a(t),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(t instanceof Uint8Array||(t=N(t)),!(r=this["process"+i.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=i,r}}(Gc.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};Gc.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,a,i=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(m.objId),g=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+i(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+h(v(n.contents))+")",a+=" /Popup "+f.objId+" 0 R",a+=" /P "+o.objId+" 0 R",a+=" /T ("+h(v(g))+") >>",m.content=a;var y=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+i(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(a+=" /Open true"),a+=" >>",f.content=a,this.internal.write(m.objId,"0 R",f.objId,"0 R");break;case"freetext":r="/Rect ["+i(n.bounds.x)+" "+s(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(p(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var x=this.annotations._nameMap[n.options.name];n.options.pageNumber=x.page,n.options.top=x.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var w=s(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=a&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,a){var i=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;i.pageContext.annotations.push({finalBounds:{x:s(e),y:o(t),w:s(e+n),h:o(t+r)},options:a,type:"link"})},e.textWithLink=function(e,t,n,r){var a,i,s=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){i=r.maxWidth;var l=this.splitTextToSize(e,i).length;a=Math.ceil(o*l)}else i=s,a=o;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=s/2),"right"===r.align&&(t-=s),this.link(t,n-o,i,a,r),s},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(Gc.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&a.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&i(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,a="",i=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(i++,"number"==typeof(r=r[e.charCodeAt(t)])&&(a+=String.fromCharCode(r),r=n,i=0),t===e.length-1&&(r=n,a+=e.charAt(t-(i-1)),t-=i-1,i=0)):(r=n,a+=e.charAt(t-i),t-=i,i=0);return a};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return s(e)?!1===i(e)?-1:!c(e)||!s(t)&&!s(n)||!s(n)&&o(t)||o(e)&&!s(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&s(t)&&!o(t)&&s(n)&&c(n)?3:o(e)||!s(n)?1:2:-1},p=function(e){var n=0,r=0,a=0,i="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),r=0;r<c[n].length;r+=1)i=c[n][r],o=c[n][r-1],l=c[n][r+1],s(i)?(a=h(i,o,l),d[n]+=-1!==a?String.fromCharCode(t[i.charCodeAt(0)][a]):i):d[n]+=i;d[n]=u(d[n])}return d.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([p(t[r][0]),t[r][1],t[r][2]]):n.push([p(t[r])]);e=n}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",m])}(Gc.API),Gc.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Gc.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var i=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(e){s=e}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),a=t.font||this.getFont(),i=t.scaleFactor||this.internal.scaleFactor,s=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)s<(l=this.getStringUnitWidth(e[u],{font:a})*n)&&(s=l);return 0!==s&&(o=e.length),{w:s/=i,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var e;e=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var a=this.internal.__cell__.lastCell,s=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==a.lineNumber&&(a.lineNumber===e.lineNumber?(e.x=(a.x||0)+(a.width||0),e.y=a.y||0):a.y+a.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=a.y+a.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-s,e.y+s,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+s,{align:"center",baseline:"top",maxWidth:e.width-s-s}):this.text(e.text,e.x+s,e.y+s,{align:"left",baseline:"top",maxWidth:e.width-s-s})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,d){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,h,p,m,f=[],v=[],g=[],y={},b={},x=[],w=[],j=(d=d||{}).autoSize||!1,N=!1!==d.printHeaders,k=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,_=d.margins||Object.assign({width:this.getPageWidth()},t),S="number"==typeof d.padding?d.padding:3,A=d.headerBackgroundColor||"#c8c8c8",C=d.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=C,this.setFontSize(k),null==c)v=f=Object.keys(l[0]),g=f.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,ta.A)(c[0]))for(f=c.map(function(e){return e.name}),v=c.map(function(e){return e.prompt||e.name||""}),g=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)b[c[u].name]=.7499990551181103*c[u].width;else Array.isArray(c)&&"string"==typeof c[0]&&(v=f=c,g=f.map(function(){return"left"}));if(j||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<f.length;u+=1){for(y[m=f[u]]=l.map(function(e){return e[m]}),this.setFont(void 0,"bold"),x.push(this.getTextDimensions(v[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=y[m],this.setFont(void 0,"normal"),p=0;p<h.length;p+=1)x.push(this.getTextDimensions(h[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[m]=Math.max.apply(null,x)+S+S,x=[]}if(N){var L={};for(u=0;u<f.length;u+=1)L[f[u]]={},L[f[u]].text=v[u],L[f[u]].align=g[u];var P=o.call(this,L,b);w=f.map(function(t){return new i(e,n,b[t],P,L[t].text,void 0,L[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var E=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var F=o.call(this,l[u],b);for(p=0;p<f.length;p+=1){var T=l[u][f[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:p,data:T},this),s.call(this,new i(e,n,b[f[p]],F,T,u+2,E[f[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var o=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(e).map(function(r){var a=e[r];return this.splitTextToSize(a.hasOwnProperty("text")?a.text:a,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/a+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var a;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){a=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(a.y=this.internal.__cell__.margins.top||0,l.push(a)),a.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,a),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(Gc.API);var Rd={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Dd=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Od=Td(Dd),Id=[100,200,300,400,500,600,700,800,900],Md=Td(Id);function Bd(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Rd[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof Od[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,r].join(" ")}}}function Ud(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var zd={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},qd={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Vd(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Hd(e){return e.trimLeft()}function Wd(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Gd(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Yd,Kd,$d,Jd,Xd,Qd,Zd,eu,tu,nu=["times"];function ru(e,t,n,r,a){var i=4,s=su;switch(a){case Gc.API.image_compression.FAST:i=1,s=iu;break;case Gc.API.image_compression.MEDIUM:i=6,s=ou;break;case Gc.API.image_compression.SLOW:i=9,s=lu}e=function(e,t,n,r){for(var a,i=e.length/t,s=new Uint8Array(e.length+i),o=[au,iu,su,ou,lu],l=0;l<i;l+=1){var c=l*t,d=e.subarray(c,c+t);if(r)s.set(r(d,n,a),c+l);else{for(var u=o.length,h=[],p=0;p<u;p+=1)h[p]=o[p](d,n,a);var m=du(h.concat());s.set(h[m],c+l)}a=d}return s}(e,t,Math.ceil(n*r/8),s);var o=Ba(e,{level:i});return Gc.API.__addimage__.arrayBufferToBinaryString(o)}function au(e){var t=Array.apply([],e);return t.unshift(0),t}function iu(e,t){var n=e.length,r=[];r[0]=1;for(var a=0;a<n;a+=1){var i=e[a-t]||0;r[a+1]=e[a]-i+256&255}return r}function su(e,t,n){var r=e.length,a=[];a[0]=2;for(var i=0;i<r;i+=1){var s=n&&n[i]||0;a[i+1]=e[i]-s+256&255}return a}function ou(e,t,n){var r=e.length,a=[];a[0]=3;for(var i=0;i<r;i+=1){var s=e[i-t]||0,o=n&&n[i]||0;a[i+1]=e[i]+256-(s+o>>>1)&255}return a}function lu(e,t,n){var r=e.length,a=[];a[0]=4;for(var i=0;i<r;i+=1){var s=cu(e[i-t]||0,n&&n[i]||0,n&&n[i-t]||0);a[i+1]=e[i]-s+256&255}return a}function cu(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),a=Math.abs(e-n),i=Math.abs(e+t-n-n);return r<=a&&r<=i?e:a<=i?t:n}function du(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function uu(e,t,n){var r=t*n,a=Math.floor(r/8),i=16-(r-8*a+n),s=(1<<n)-1;return pu(e,a)>>i&s}function hu(e,t,n,r){var a=n*r,i=Math.floor(a/8),s=16-(a-8*i+r),o=(1<<r)-1,l=(t&o)<<s;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,i,pu(e,i)&~(o<<s)&65535|l)}function pu(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function mu(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<1+(7&a);e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,d=[],u=0,h=null,p=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var f=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],1&f||(h=null),p=f>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++],w=x>>6&1,j=1<<1+(7&x),N=o,k=l,_=!1;x>>7&&(_=!0,N=t,k=j,t+=3*j);var S=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}d.push({x:v,y:g,width:y,height:b,has_local_palette:_,palette_offset:N,palette_size:k,data_offset:S,data_length:t-S,transparent_index:h,interlaced:!!w,delay:u,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,r){var a=this.frameInfo(t),i=a.width*a.height,s=new Uint8Array(i);fu(e,a.data_offset,s,i);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),m=h,f=4*d;!0===a.interlaced&&(f+=4*n*7);for(var v=8,g=0,y=s.length;g<y;++g){var b=s[g];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*n*(v-1),m=h+(c+d)*(v<<1),v>>=1)),b===l)m+=4;else{var x=e[o+3*b],w=e[o+3*b+1],j=e[o+3*b+2];r[m++]=j,r[m++]=w,r[m++]=x,r[m++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var a=this.frameInfo(t),i=a.width*a.height,s=new Uint8Array(i);fu(e,a.data_offset,s,i);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),m=h,f=4*d;!0===a.interlaced&&(f+=4*n*7);for(var v=8,g=0,y=s.length;g<y;++g){var b=s[g];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*n*(v-1),m=h+(c+d)*(v<<1),v>>=1)),b===l)m+=4;else{var x=e[o+3*b],w=e[o+3*b+1],j=e[o+3*b+2];r[m++]=x,r[m++]=w,r[m++]=j,r[m++]=255}--u}}}function fu(e,t,n,r){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,d=0,u=0,h=0,p=e[t++],m=new Int32Array(4096),f=null;;){for(;d<16&&0!==p;)u|=e[t++]<<d,d+=8,1===p?p=e[t++]:--p;if(d<l)break;var v=u&c;if(u>>=l,d-=l,v!==i){if(v===s)break;for(var g=v<o?v:f,y=0,b=g;b>i;)b=m[b]>>8,++y;var x=b;if(h+y+(g!==v?1:0)>r)return void fc.log("Warning, gif stream longer than expected.");n[h++]=x;var w=h+=y;for(g!==v&&(n[h++]=x),b=g;y--;)b=m[b],n[--w]=255&b,b>>=8;null!==f&&o<4096&&(m[o++]=f<<8|x,o>=c+1&&l<12&&(++l,c=c<<1|1)),f=v}else o=s+1,c=(1<<(l=a+1))-1,f=null}return h!==r&&fc.log("Warning, gif stream shorter than expected."),n}function vu(e){var t,n,r,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),f=[],v=0,g=7,y=new Array(64),b=new Array(64),x=new Array(64),w=new Array(256),j=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],E=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(e,t){for(var n=0,r=0,a=new Array,i=1;i<=16;i++){for(var s=1;s<=e[i];s++)a[t[r]]=[],a[t[r]][0]=n,a[t[r]][1]=i,r++,n++;n*=2}return a}function T(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(v|=1<<g),n--,--g<0&&(255==v?(R(255),R(0)):R(v),g=7,v=0)}function R(e){f.push(e)}function D(e){R(e>>8&255),R(255&e)}function O(e,t,n,r,a){for(var i,s=a[0],o=a[240],l=function(e,t){var n,r,a,i,s,o,l,c,d,u,h=0;for(d=0;d<8;++d){n=e[h],r=e[h+1],a=e[h+2],i=e[h+3],s=e[h+4],o=e[h+5],l=e[h+6];var m=n+(c=e[h+7]),f=n-c,v=r+l,g=r-l,y=a+o,b=a-o,x=i+s,w=i-s,j=m+x,N=m-x,k=v+y,_=v-y;e[h]=j+k,e[h+4]=j-k;var S=.707106781*(_+N);e[h+2]=N+S,e[h+6]=N-S;var A=.382683433*((j=w+b)-(_=g+f)),C=.5411961*j+A,L=1.306562965*_+A,P=.707106781*(k=b+g),E=f+P,F=f-P;e[h+5]=F+C,e[h+3]=F-C,e[h+1]=E+L,e[h+7]=E-L,h+=8}for(h=0,d=0;d<8;++d){n=e[h],r=e[h+8],a=e[h+16],i=e[h+24],s=e[h+32],o=e[h+40],l=e[h+48];var T=n+(c=e[h+56]),R=n-c,D=r+l,O=r-l,I=a+o,M=a-o,B=i+s,U=i-s,z=T+B,q=T-B,V=D+I,H=D-I;e[h]=z+V,e[h+32]=z-V;var W=.707106781*(H+q);e[h+16]=q+W,e[h+48]=q-W;var G=.382683433*((z=U+M)-(H=O+R)),Y=.5411961*z+G,K=1.306562965*H+G,$=.707106781*(V=M+O),J=R+$,X=R-$;e[h+40]=X+Y,e[h+24]=X-Y,e[h+8]=J+K,e[h+56]=J-K,h++}for(d=0;d<64;++d)u=e[d]*t[d],p[d]=u>0?u+.5|0:u-.5|0;return p}(e,t),c=0;c<64;++c)m[N[c]]=l[c];var d=m[0]-n;n=m[0],0==d?T(r[0]):(T(r[h[i=32767+d]]),T(u[i]));for(var f=63;f>0&&0==m[f];)f--;if(0==f)return T(s),n;for(var v,g=1;g<=f;){for(var y=g;0==m[g]&&g<=f;)++g;var b=g-y;if(b>=16){v=b>>4;for(var x=1;x<=v;++x)T(o);b&=15}i=32767+m[g],T(a[(b<<4)+h[i]]),T(u[i]),g++}return 63!=f&&T(s),n}function I(e){e=Math.min(Math.max(e,1),100),i!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=s((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),o[N[n]]=r}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var u=s((a[i]*e+50)/100);u=Math.min(Math.max(u,1),255),l[N[i]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,m=0;m<8;m++)for(var f=0;f<8;f++)c[p]=1/(o[N[p]]*h[m]*h[f]*8),d[p]=1/(l[N[p]]*h[m]*h[f]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e)}this.encode=function(e,i){i&&I(i),f=new Array,v=0,g=7,D(65496),D(65504),D(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),D(1),D(1),R(0),R(0),function(){D(65499),D(132),R(0);for(var e=0;e<64;e++)R(o[e]);R(1);for(var t=0;t<64;t++)R(l[t])}(),function(e,t){D(65472),D(17),R(8),D(t),D(e),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(e.width,e.height),function(){D(65476),D(418),R(0);for(var e=0;e<16;e++)R(k[e+1]);for(var t=0;t<=11;t++)R(_[t]);R(16);for(var n=0;n<16;n++)R(S[n+1]);for(var r=0;r<=161;r++)R(A[r]);R(1);for(var a=0;a<16;a++)R(C[a+1]);for(var i=0;i<=11;i++)R(L[i]);R(17);for(var s=0;s<16;s++)R(P[s+1]);for(var o=0;o<=161;o++)R(E[o])}(),D(65498),D(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var s=0,u=0,h=0;v=0,g=7,this.encode.displayName="_encode_";for(var p,m,w,N,F,M,B,U,z,q=e.data,V=e.width,H=e.height,W=4*V,G=0;G<H;){for(p=0;p<W;){for(F=W*G+p,B=-1,U=0,z=0;z<64;z++)M=F+(U=z>>3)*W+(B=4*(7&z)),G+U>=H&&(M-=W*(G+1+U-H)),p+B>=W&&(M-=p+B-W+4),m=q[M++],w=q[M++],N=q[M++],y[z]=(j[m]+j[w+256|0]+j[N+512|0]>>16)-128,b[z]=(j[m+768|0]+j[w+1024|0]+j[N+1280|0]>>16)-128,x[z]=(j[m+1280|0]+j[w+1536|0]+j[N+1792|0]>>16)-128;s=O(y,c,s,t,r),u=O(b,d,u,n,a),h=O(x,d,h,n,a),p+=32}G+=8}if(g>=0){var Y=[];Y[1]=g+1,Y[0]=(1<<g+1)-1,T(Y)}return D(65497),new Uint8Array(f)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=F(k,_),n=F(C,L),r=F(S,A),a=F(P,E),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var a=-(t-1);a<=-e;a++)h[32767+a]=n,u[32767+a]=[],u[32767+a][1]=n,u[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)j[e]=19595*e,j[e+256|0]=38470*e,j[e+512|0]=7471*e+32768,j[e+768|0]=-11059*e,j[e+1024|0]=-21709*e,j[e+1280|0]=32768*e+8421375,j[e+1536|0]=-27439*e,j[e+1792|0]=-5329*e}(),I(e)}function gu(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yu(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,a){for(var i=0;i<a;i++)e[t+i]=n[r+i]}function a(e,t,n,r){for(var a=0;a<r;a++)e[t+a]=n}function i(e){return new Int32Array(e)}function s(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,r,a){for(var i=a[r],s=0;s<i&&(n.push(a.length>r+1?[]:new t),!(a.length<r+1));s++)e(n[s],r+1,a)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,a,i){t(!(a%r));do{e[n+(a-=r)]=i}while(0<a)}function d(e,n,r,a,s){if(t(2328>=s),512>=s)var o=i(512);else if(null==(o=i(s)))return 0;return function(e,n,r,a,s,o){var d,h,p=n,m=1<<r,f=i(16),v=i(16);for(t(0!=s),t(null!=a),t(null!=e),t(0<r),h=0;h<s;++h){if(15<a[h])return 0;++f[a[h]]}if(f[0]==s)return 0;for(v[1]=0,d=1;15>d;++d){if(f[d]>1<<d)return 0;v[d+1]=v[d]+f[d]}for(h=0;h<s;++h)d=a[h],0<a[h]&&(o[v[d]++]=h);if(1==v[15])return(a=new u).g=0,a.value=o[0],c(e,p,1,m,a),m;var g,y=-1,b=m-1,x=0,w=1,j=1,N=1<<r;for(h=0,d=1,s=2;d<=r;++d,s<<=1){if(w+=j<<=1,0>(j-=f[d]))return 0;for(;0<f[d];--f[d])(a=new u).g=d,a.value=o[h++],c(e,p+x,s,N,a),x=l(x,d)}for(d=r+1,s=2;15>=d;++d,s<<=1){if(w+=j<<=1,0>(j-=f[d]))return 0;for(;0<f[d];--f[d]){if(a=new u,(x&b)!=y){for(p+=N,g=1<<(y=d)-r;15>y&&!(0>=(g-=f[y]));)++y,g<<=1;m+=N=1<<(g=y-r),e[n+(y=x&b)].g=g+r,e[n+y].value=p-n-y}a.g=d-r,a.value=o[h++],c(e,p+(x>>r),s,N,a),x=l(x,d)}}return w!=2*v[15]-1?0:m}(e,n,r,a,s,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function p(){this.G=s(5,u),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Mn,h)}function m(e,n,r,a){t(null!=e),t(null!=n),t(2147483648>a),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+a,e.Zc=4<=a?r+a-4+1:r,S(e)}function f(e,t){for(var n=0;0<t--;)n|=C(e,128)<<t;return n}function v(e,t){var n=f(e,t);return A(e)?-n:n}function g(e,n,r,a){var i,s=0;for(t(null!=e),t(null!=n),t(4294967288>a),e.Sb=a,e.Ra=0,e.u=0,e.h=0,4<a&&(a=4),i=0;i<a;++i)s+=n[r+i]<<8*i;e.Ra=s,e.bb=a,e.oa=n,e.pa=r}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<zn-8>>>0,++e.bb,e.u-=8;N(e)&&(e.h=1,e.u=0)}function b(e,n){if(t(0<=n),!e.h&&n<=Un){var r=j(e)&Bn[n];return e.u+=n,y(e),r}return e.h=1,e.u=0}function x(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(e){return e.Ra>>>(e.u&zn-1)>>>0}function N(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>zn}function k(e,t){e.u=t,e.h=N(e)}function _(e){e.u>=qn&&(t(e.u>=qn),y(e))}function S(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function A(e){return f(e,1)}function C(e,t){var n=e.Ca;0>e.b&&S(e);var r=e.b,a=n*t>>>8,i=(e.I>>>r>a)+0;for(i?(n-=a,e.I-=a+1<<r>>>0):n=a+1,r=n,a=0;256<=r;)a+=8,r>>=8;return r=7^a+Vn[r],e.b-=r,e.Ca=(n<<r)-1,i}function L(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function P(e,t){return e[t+0]|e[t+1]<<8}function E(e,t){return P(e,t)|e[t+2]<<16}function F(e,t){return P(e,t)|P(e,t+2)<<16}function T(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=i(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function R(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function D(){this.X=[],this.Xa=this.Mb=0}function O(e,n,r,a){t(null!=r),t(null!=a);var i=r[0],s=a[0];return 0==i&&(i=(e*s+n/2)/n),0==s&&(s=(n*i+e/2)/e),0>=i||0>=s?0:(r[0]=i,a[0]=s,1)}function I(e,t){return e+(1<<t)-1>>>t}function M(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function B(t,n){e[n]=function(n,r,a,i,s,o,l){var c;for(c=0;c<s;++c){var d=e[t](o[l+c-1],a,i+c);o[l+c]=M(n[r+c],d)}}}function U(){this.ud=this.hd=this.jd=0}function z(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function q(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function V(e,t){return q(e+(e-t+.5>>1))}function H(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function W(e,t,n,r,a,i,s){for(r=i[s-1],n=0;n<a;++n)i[s+n]=r=M(e[t+n],r)}function G(e,t,n,r,a){var i;for(i=0;i<n;++i){var s=e[t+i],o=s>>8&255,l=16711935&(l=(l=16711935&s)+((o<<16)+o));r[a+i]=(4278255360&s)+l>>>0}}function Y(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function K(e,t,n,r,a,i){var s;for(s=0;s<r;++s){var o=t[n+s],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),a[i+s]=(4278255360&o)+(d<<16)+c}}function $(t,n,r,a,i){e[n]=function(e,t,n,r,s,o,l,c,d){for(r=l;r<c;++r)for(l=0;l<d;++l)s[o++]=i(n[a(e[t++])])},e[t]=function(t,n,s,o,l,c,d){var u=8>>t.b,h=t.Ea,p=t.K[0],m=t.w;if(8>u)for(t=(1<<t.b)-1,m=(1<<u)-1;n<s;++n){var f,v=0;for(f=0;f<h;++f)f&t||(v=a(o[l++])),c[d++]=i(p[v&m]),v>>=u}else e["VP8LMapColor"+r](o,l,p,m,c,d,n,s,h)}}function J(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=i>>16&255,r[a++]=i>>8&255,r[a++]=255&i}}function X(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=i>>16&255,r[a++]=i>>8&255,r[a++]=255&i,r[a++]=i>>24&255}}function Q(e,t,n,r,a){for(n=t+n;t<n;){var i=(s=e[t++])>>16&240|s>>12&15,s=240&s|s>>28&15;r[a++]=i,r[a++]=s}}function Z(e,t,n,r,a){for(n=t+n;t<n;){var i=(s=e[t++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;r[a++]=i,r[a++]=s}}function ee(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=255&i,r[a++]=i>>8&255,r[a++]=i>>16&255}}function te(e,t,n,a,i,s){if(0==s)for(n=t+n;t<n;)L(a,((s=e[t++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),i+=32;else r(a,i,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==qr||e==Vr||e==Hr||e==Wr}function ae(){this.eb=[],this.size=this.A=this.fb=0}function ie(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ae,this.f.kb=new ie,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,a=t.ba.f.RGBA,i=a.eb,s=a.fb+e.ka*a.A,o=va[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,p=e.W,m=t.cc,f=t.dc,v=t.Mc,g=t.Nc,y=e.ka,b=e.ka+e.T,x=e.U,w=x+1>>1;for(0==y?o(l,c,null,null,d,u,h,p,d,u,h,p,i,s,null,null,x):(o(t.ec,t.fc,l,c,m,f,v,g,d,u,h,p,i,s-a.A,i,s,x),++n);y+2<b;y+=2)m=d,f=u,v=h,g=p,u+=e.Rc,p+=e.Rc,s+=2*a.A,o(l,(c+=2*e.fa)-e.fa,l,c,m,f,v,g,d,u,h,p,i,s-a.A,i,s,x);return c+=e.fa,e.j+b<e.o?(r(t.ec,t.fc,l,c,x),r(t.cc,t.dc,d,u,w),r(t.Mc,t.Nc,h,p,w),n--):1&b||o(l,c,null,null,d,u,h,p,d,u,h,p,i,s+a.A,null,null,x),n}function ue(e,n,r){var a=e.F,i=[e.J];if(null!=a){var s=e.U,o=n.ba.S,l=o==Br||o==Hr;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,i[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=n.eb;d=n.fb+d*n.A,e=kr(a,i[0],e.width,s,c,u,d+(l?0:3),n.A),t(r==c),e&&re(o)&&jr(u,d,l,s,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,a=n==Or||n==Mr||n==Br||n==Ur||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Dn(t.Oa,e,a?11:12))return 0;if(a&&re(n)&&yn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=i(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,yn()}}else alert("todo:EmitYUV");a&&(t.Jb=ue,r&&vn())}if(r&&!Pa){for(e=0;256>e;++e)Ea[e]=89858*(e-128)+_a>>ka,Ra[e]=-22014*(e-128)+_a,Ta[e]=-45773*(e-128),Fa[e]=113618*(e-128)+_a>>ka;for(e=Sa;e<Aa;++e)t=76283*(e-16)+_a>>ka,Da[e-Sa]=We(t,255),Oa[e-Sa]=We(t+8>>4,15);Pa=1}return 1}function pe(e){var n=e.ma,r=e.U,a=e.T;return t(!(1&e.ka)),0>=r||0>=a?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function me(e){e.ma.memory=null}function fe(e,t,n,r){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,n[0]=b(e,14)+1,r[0]=b(e,1),0!=b(e,3)?0:!e.h)}function ve(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+b(t,n)+1}function ge(e,t){return 120<t?t-120:1<=(n=((n=Xr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ye(e,t,n){var r=j(n),a=e[t+=255&r].g-8;return 0<a&&(k(n,n.u+8),r=j(n),t+=e[t].value,t+=r&(1<<a)-1),k(n,n.u+e[t].g),e[t].value}function be(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function xe(e,n,r){var a=e.xc;return t((n=0==a?0:e.vc[e.md*(r>>a)+(n>>a)])<e.Wb),e.Ya[n]}function we(e,n,a,i){var s=e.ab,o=e.c*n,l=e.C;n=l+n;var c=a,d=i;for(i=e.Ta,a=e.Ua;0<s--;){var u=e.gc[s],h=l,p=n,m=c,f=d,v=(d=i,c=a,u.Ea);switch(t(h<p),t(p<=u.nc),u.hc){case 2:Gn(m,f,(p-h)*v,d,c);break;case 0:var g=h,y=p,b=d,x=c,w=(S=u).Ea;0==g&&(Hn(m,f,null,null,1,b,x),W(m,f+1,0,0,w-1,b,x+1),f+=w,x+=w,++g);for(var j=1<<S.b,N=j-1,k=I(w,S.b),_=S.K,S=S.w+(g>>S.b)*k;g<y;){var A=_,C=S,L=1;for(Wn(m,f,b,x-w,1,b,x);L<w;){var P=(L&~N)+j;P>w&&(P=w),(0,Xn[A[C++]>>8&15])(m,f+ +L,b,x+L-w,P-L,b,x+L),L=P}f+=w,x+=w,++g&N||(S+=k)}p!=u.nc&&r(d,c-v,d,c+(p-h-1)*v,v);break;case 1:for(v=m,y=f,w=(m=u.Ea)-(x=m&~(b=(f=1<<u.b)-1)),g=I(m,u.b),j=u.K,u=u.w+(h>>u.b)*g;h<p;){for(N=j,k=u,_=new U,S=y+x,A=y+m;y<S;)Y(N[k++],_),Qn(_,v,y,f,d,c),y+=f,c+=f;y<A&&(Y(N[k++],_),Qn(_,v,y,w,d,c),y+=w,c+=w),++h&b||(u+=g)}break;case 3:if(m==d&&f==c&&0<u.b){for(y=d,m=v=c+(p-h)*v-(x=(p-h)*I(u.Ea,u.b)),f=d,b=c,g=[],x=(w=x)-1;0<=x;--x)g[x]=f[b+x];for(x=w-1;0<=x;--x)y[m+x]=g[x];Yn(u,h,p,d,v,d,c)}else Yn(u,h,p,m,f,d,c)}c=i,d=a}d!=a&&r(i,a,c,d,o)}function je(e,n){var r=e.V,a=e.Ba+e.c*e.C,i=n-e.C;if(t(n<=e.l.o),t(16>=i),0<i){var s=e.l,o=e.Ta,l=e.Ua,c=s.width;if(we(e,i,r,a),i=l=[l],t((r=e.C)<(a=n)),t(s.v<s.va),a>s.o&&(a=s.o),r<s.j){var d=s.j-r;r=s.j,i[0]+=d*c}if(r>=a?r=0:(i[0]+=4*s.v,s.ka=r-s.j,s.U=s.va-s.v,s.T=a-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(a=r.S,i=s.U,s=s.T,d=u.eb,u.A),p=s;for(u=u.fb+e.Ma*u.A;0<p--;){var m=o,f=l,v=i,g=d,y=u;switch(a){case Dr:Zn(m,f,v,g,y);break;case Or:er(m,f,v,g,y);break;case qr:er(m,f,v,g,y),jr(g,y,0,v,1,0);break;case Ir:rr(m,f,v,g,y);break;case Mr:te(m,f,v,g,y,1);break;case Vr:te(m,f,v,g,y,1),jr(g,y,0,v,1,0);break;case Br:te(m,f,v,g,y,0);break;case Hr:te(m,f,v,g,y,0),jr(g,y,1,v,1,0);break;case Ur:tr(m,f,v,g,y);break;case Wr:tr(m,f,v,g,y),Nr(g,y,v,1,0);break;case zr:nr(m,f,v,g,y);break;default:t(0)}l+=c,u+=h}e.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Ne(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function ke(e,n,r,a,i,s){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=fa[e.Z]);n<r;++n)fa[e.Z](o,l,a,i,a,i,s),o=a,l=i,i+=s;e.qd=o,e.rd=l}}function _e(e,n){var r=e.l.ma,a=0==r.Z||1==r.Z?e.l.j:e.C;if(a=e.C<a?a:e.C,t(n<=e.l.o),n>a){var i=e.l.width,s=r.ca,o=r.tb+i*a,l=e.V,c=e.Ba+e.c*a,d=e.gc;t(1==e.ab),t(3==d[0].hc),$n(d[0],a,n,l,c,s,o),ke(r,a,n,s,o,i)}e.C=e.Ma=n}function Se(e,n,r,a,i,s,o){var l=e.$/a,c=e.$%a,d=e.m,u=e.s,h=r+e.$,p=h;i=r+a*i;var m=r+a*s,f=280+u.ua,v=e.Pb?l:16777216,g=0<u.ua?u.Wa:null,y=u.wc,b=h<m?xe(u,c,l):null;t(e.C<s),t(m<=i);var x=!1;e:for(;;){for(;x||h<m;){var w=0;if(l>=v){var S=h-r;t((v=e).Pb),v.wd=v.m,v.xd=S,0<v.s.ua&&R(v.s.Wa,v.s.vb),v=l+Zr}if(c&y||(b=xe(u,c,l)),t(null!=b),b.Qb&&(n[h]=b.qb,x=!0),!x)if(_(d),b.jc){w=d,S=n;var A=h,C=b.pd[j(w)&Mn-1];t(b.jc),256>C.g?(k(w,w.u+C.g),S[A]=C.value,w=0):(k(w,w.u+C.g-256),t(256<=C.value),w=C.value),0==w&&(x=!0)}else w=ye(b.G[0],b.H[0],d);if(d.h)break;if(x||256>w){if(!x)if(b.nd)n[h]=(b.qb|w<<8)>>>0;else{if(_(d),x=ye(b.G[1],b.H[1],d),_(d),S=ye(b.G[2],b.H[2],d),A=ye(b.G[3],b.H[3],d),d.h)break;n[h]=(A<<24|x<<16|w<<8|S)>>>0}if(x=!1,++h,++c>=a&&(c=0,++l,null!=o&&l<=s&&!(l%16)&&o(e,l),null!=g))for(;p<h;)w=n[p++],g.X[(506832829*w&4294967295)>>>g.Mb]=w}else if(280>w){if(w=ve(w-256,d),S=ye(b.G[4],b.H[4],d),_(d),S=ge(a,S=ve(S,d)),d.h)break;if(h-r<S||i-h<w)break e;for(A=0;A<w;++A)n[h+A]=n[h+A-S];for(h+=w,c+=w;c>=a;)c-=a,++l,null!=o&&l<=s&&!(l%16)&&o(e,l);if(t(h<=i),c&y&&(b=xe(u,c,l)),null!=g)for(;p<h;)w=n[p++],g.X[(506832829*w&4294967295)>>>g.Mb]=w}else{if(!(w<f))break e;for(x=w-280,t(null!=g);p<h;)w=n[p++],g.X[(506832829*w&4294967295)>>>g.Mb]=w;w=h,t(!(x>>>(S=g).Xa)),n[w]=S.X[x],x=!0}x||t(d.h==N(d))}if(e.Pb&&d.h&&h<i)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&R(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>s?s:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Ae(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ce(){var t=new sn;return null==t?null:(t.a=0,t.xb=ma,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Gn=G,Qn=K,Zn=J,er=X,tr=Q,nr=Z,rr=ee,e.VP8LMapColor32b=Kn,e.VP8LMapColor8b=Jn,t)}function Le(e,n,r,o,l){var c=1,h=[e],m=[n],f=o.m,v=o.s,g=null,y=0;e:for(;;){if(r)for(;c&&b(f,1);){var x=h,w=m,N=o,S=1,A=N.m,C=N.gc[N.ab],L=b(A,2);if(N.Oc&1<<L)c=0;else{switch(N.Oc|=1<<L,C.hc=L,C.Ea=x[0],C.nc=w[0],C.K=[null],++N.ab,t(4>=N.ab),L){case 0:case 1:C.b=b(A,3)+2,S=Le(I(C.Ea,C.b),I(C.nc,C.b),0,N,C.K),C.K=C.K[0];break;case 3:var P,E=b(A,8)+1,F=16<E?0:4<E?1:2<E?2:3;if(x[0]=I(C.Ea,F),C.b=F,P=S=Le(E,1,0,N,C.K)){var R,D=E,O=C,B=1<<(8>>O.b),U=i(B);if(null==U)P=0;else{var z=O.K[0],q=O.w;for(U[0]=O.K[0][0],R=1;R<1*D;++R)U[R]=M(z[q+R],U[R-1]);for(;R<4*B;++R)U[R]=0;O.K[0]=null,O.K[0]=U,P=1}}S=P;break;case 2:break;default:t(0)}c=S}}if(h=h[0],m=m[0],c&&b(f,1)&&!(c=1<=(y=b(f,4))&&11>=y)){o.a=3;break e}var V;if(V=c)t:{var H,W,G,Y=o,K=h,$=m,J=y,X=r,Q=Y.m,Z=Y.s,ee=[null],te=1,ne=0,re=Qr[J];n:for(;;){if(X&&b(Q,1)){var ae=b(Q,3)+2,ie=I(K,ae),se=I($,ae),oe=ie*se;if(!Le(ie,se,0,Y,ee))break n;for(ee=ee[0],Z.xc=ae,H=0;H<oe;++H){var le=ee[H]>>8&65535;ee[H]=le,le>=te&&(te=le+1)}}if(Q.h)break n;for(W=0;5>W;++W){var ce=Kr[W];!W&&0<J&&(ce+=1<<J),ne<ce&&(ne=ce)}var de=s(te*re,u),ue=te,he=s(ue,p);if(null==he)var pe=null;else t(65536>=ue),pe=he;var me=i(ne);if(null==pe||null==me||null==de){Y.a=1;break n}var fe=de;for(H=G=0;H<te;++H){var ve=pe[H],ge=ve.G,ye=ve.H,xe=0,we=1,je=0;for(W=0;5>W;++W){ce=Kr[W],ge[W]=fe,ye[W]=G,!W&&0<J&&(ce+=1<<J);r:{var Ne,ke=ce,_e=Y,Ce=me,Pe=fe,Ee=G,Fe=0,Te=_e.m,Re=b(Te,1);if(a(Ce,0,0,ke),Re){var De=b(Te,1)+1,Oe=b(Te,1),Ie=b(Te,0==Oe?1:8);Ce[Ie]=1,2==De&&(Ce[Ie=b(Te,8)]=1);var Me=1}else{var Be=i(19),Ue=b(Te,4)+4;if(19<Ue){_e.a=3;var ze=0;break r}for(Ne=0;Ne<Ue;++Ne)Be[Jr[Ne]]=b(Te,3);var qe=void 0,Ve=void 0,He=_e,We=Be,Ge=ke,Ye=Ce,Ke=0,$e=He.m,Je=8,Xe=s(128,u);a:for(;d(Xe,0,7,We,19);){if(b($e,1)){var Qe=2+2*b($e,3);if((qe=2+b($e,Qe))>Ge)break a}else qe=Ge;for(Ve=0;Ve<Ge&&qe--;){_($e);var Ze=Xe[0+(127&j($e))];k($e,$e.u+Ze.g);var et=Ze.value;if(16>et)Ye[Ve++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,rt=Yr[nt],at=b($e,Gr[nt])+rt;if(Ve+at>Ge)break a;for(var it=tt?Je:0;0<at--;)Ye[Ve++]=it}}Ke=1;break a}Ke||(He.a=3),Me=Ke}(Me=Me&&!Te.h)&&(Fe=d(Pe,Ee,8,Ce,ke)),Me&&0!=Fe?ze=Fe:(_e.a=3,ze=0)}if(0==ze)break n;if(we&&1==$r[W]&&(we=0==fe[G].g),xe+=fe[G].g,G+=ze,3>=W){var st,ot=me[0];for(st=1;st<ce;++st)me[st]>ot&&(ot=me[st]);je+=ot}}if(ve.nd=we,ve.Qb=0,we&&(ve.qb=(ge[3][ye[3]+0].value<<24|ge[1][ye[1]+0].value<<16|ge[2][ye[2]+0].value)>>>0,0==xe&&256>ge[0][ye[0]+0].value&&(ve.Qb=1,ve.qb+=ge[0][ye[0]+0].value<<8)),ve.jc=!ve.Qb&&6>je,ve.jc){var lt,ct=ve;for(lt=0;lt<Mn;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=be(ht,8,ut),dt>>=be(ct.G[1][ct.H[1]+dt],16,ut),dt>>=be(ct.G[2][ct.H[2]+dt],0,ut),be(ct.G[3][ct.H[3]+dt],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=pe,Z.yc=de,V=1;break t}V=0}if(!(c=V)){o.a=3;break e}if(0<y){if(v.ua=1<<y,!T(v.Wa,y)){o.a=1,c=0;break e}}else v.ua=0;var pt=o,mt=h,ft=m,vt=pt.s,gt=vt.xc;if(pt.c=mt,pt.i=ft,vt.md=I(mt,gt),vt.wc=0==gt?-1:(1<<gt)-1,r){o.xb=pa;break e}if(null==(g=i(h*m))){o.a=1,c=0;break e}c=(c=Se(o,g,0,h,m,m,null))&&!f.h;break e}return c?(null!=l?l[0]=g:(t(null==g),t(r)),o.$=0,r||Ae(v)):Ae(v),c}function Pe(e,n){var r=e.c*e.i,a=r+n+16*n;return t(e.c<=n),e.V=i(a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ee(e,n){var r=e.C,a=n-r,i=e.V,s=e.Ba+e.c*r;for(t(n<=e.l.o);0<a;){var o=16<a?16:a,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*r,p=e.Ta,m=e.Ua;we(e,o,i,s),_r(p,m,u,h,d),ke(l,r,r+o,u,h,c),a-=o,i+=o*e.c,r+=o}t(r==n),e.C=e.Ma=n}function Fe(){this.ub=this.yd=this.td=this.Rb=0}function Te(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Re(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function De(){this.Yb=function(){var e=[];return function e(t,n,r){for(var a=r[n],i=0;i<a&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));i++)e(t[i],n+1,r)}(e,0,[3,11]),e}()}function Oe(){this.jb=i(3),this.Wc=o([4,8],De),this.Xc=o([4,17],De)}function Ie(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Me(){this.ld=this.La=this.dd=this.tc=0}function Be(){this.Na=this.la=0}function Ue(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ze(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new Me),this.Y=0,this.ya=Array(new ze),this.aa=0,this.l=new Ge}function Ve(){this.y=i(16),this.f=i(8),this.ea=i(8)}function He(){this.cb=this.a=0,this.sc="",this.m=new x,this.Od=new Fe,this.Kc=new Te,this.ed=new Ie,this.Qa=new Re,this.Ic=this.$c=this.Aa=0,this.D=new qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,x),this.ia=0,this.pb=s(4,Ue),this.Pa=new Oe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ve),this.Hd=0,this.rb=Array(new Be),this.sb=0,this.wa=Array(new Me),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ze),this.L=this.aa=0,this.gd=o([4,2],Me),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function We(e,t){return 0>e?0:e>t?t:e}function Ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ye(){var e=new He;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,na||(na=Xe)),e}function Ke(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function $e(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ke(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,i=n.w,s=n.ha;if(4>s)return Ke(e,7,"Truncated header.");var o=r[i+0]|r[i+1]<<8|r[i+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ke(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ke(e,4,"Frame not displayable.");i+=3,s-=3;var c=e.Kc;if(l.Rb){if(7>s)return Ke(e,7,"cannot parse picture header");if(!$e(r,i,s))return Ke(e,3,"Bad code word");c.c=16383&(r[i+4]<<8|r[i+3]),c.Td=r[i+4]>>6,c.i=16383&(r[i+6]<<8|r[i+5]),c.Ud=r[i+6]>>6,i+=7,s-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,a((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,a(o.Zb,0,0,o.Zb.length),a(o.Lb,0,0,o.Lb)}if(l.ub>s)return Ke(e,7,"bad partition length");m(o=e.m,r,i,l.ub),i+=l.ub,s-=l.ub,l.Rb&&(c.Ld=A(o),c.Kd=A(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=A(o),c.Cb){if(c.Bb=A(o),A(o)){for(c.Fb=A(o),d=0;4>d;++d)c.Zb[d]=A(o)?v(o,7):0;for(d=0;4>d;++d)c.Lb[d]=A(o)?v(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=A(o)?f(o,8):255}else c.Bb=0;if(o.Ka)return Ke(e,3,"cannot parse segment header");if((c=e.ed).zd=A(o),c.Tb=f(o,6),c.wb=f(o,3),c.Pc=A(o),c.Pc&&A(o)){for(u=0;4>u;++u)A(o)&&(c.vd[u]=v(o,6));for(u=0;4>u;++u)A(o)&&(c.od[u]=v(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ke(e,3,"cannot parse filter header");var h=s;if(s=d=i,i=d+h,c=h,e.Xb=(1<<f(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var p=r[s+0]|r[s+1]<<8|r[s+2]<<16;p>c&&(p=c),m(e.Jc[+h],r,d,p),d+=p,c-=p,s+=3}m(e.Jc[+u],r,d,c),r=d<i?0:5}if(0!=r)return Ke(e,r,"cannot parse partitions");for(r=f(d=e.m,7),s=A(d)?v(d,4):0,i=A(d)?v(d,4):0,c=A(d)?v(d,4):0,u=A(d)?v(d,4):0,d=A(d)?v(d,4):0,h=e.Qa,p=0;4>p;++p){if(h.Cb){var g=h.Zb[p];h.Fb||(g+=r)}else{if(0<p){e.pb[p]=e.pb[0];continue}g=r}var y=e.pb[p];y.Sc[0]=ea[We(g+s,127)],y.Sc[1]=ta[We(g+0,127)],y.Eb[0]=2*ea[We(g+i,127)],y.Eb[1]=101581*ta[We(g+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ea[We(g+u,117)],y.Qc[1]=ta[We(g+d,127)],y.lc=g+d}if(!l.Rb)return Ke(e,4,"Not a key frame.");for(A(o),l=e.Pa,r=0;4>r;++r){for(s=0;8>s;++s)for(i=0;3>i;++i)for(c=0;11>c;++c)u=C(o,la[r][s][i][c])?f(o,8):sa[r][s][i][c],l.Wc[r][s].Yb[i][c]=u;for(s=0;17>s;++s)l.Xc[r][s]=l.Wc[r][ca[s]]}return e.kc=A(o),e.kc&&(e.Bd=f(o,8)),e.cb=1}function Xe(e,t,n,r,a,i,s){var o=t[a].Yb[n];for(n=0;16>a;++a){if(!C(e,o[n+0]))return a;for(;!C(e,o[n+1]);)if(o=t[++a].Yb[0],n=0,16==a)return 16;var l=t[a+1].Yb;if(C(e,o[n+2])){var c=e,d=0;if(C(c,(h=o)[(u=n)+3]))if(C(c,h[u+6])){for(o=0,u=2*(d=C(c,h[u+8]))+(h=C(c,h[u+9+d])),d=0,h=ra[u];h[o];++o)d+=d+C(c,h[o]);d+=3+(8<<u)}else C(c,h[u+7])?(d=7+2*C(c,165),d+=C(c,145)):d=5+C(c,159);else d=C(c,h[u+4])?3+C(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=s+aa[a],0>(c=e).b&&S(c);var u,h=c.b,p=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=p,c.Ca|=1,c.I-=(u+1&p)<<h,i[l]=((d^p)-p)*r[(0<a)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,a(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,t,n,r,a){a=e[t+n+32*r]+(a>>3),e[t+n+32*r]=-256&a?0>a?0:255:a}function et(e,t,n,r,a,i){Ze(e,t,0,n,r+a),Ze(e,t,1,n,r+i),Ze(e,t,2,n,r-i),Ze(e,t,3,n,r-a)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var a,s=0,o=i(16);for(a=0;4>a;++a){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);o[s+0]=l+u,o[s+1]=c+d,o[s+2]=c-d,o[s+3]=l-u,s+=4,t++}for(a=s=0;4>a;++a)l=(e=o[s+0]+4)+o[s+8],c=e-o[s+8],d=(35468*o[s+4]>>16)-tt(o[s+12]),Ze(n,r,0,0,l+(u=tt(o[s+4])+(35468*o[s+12]>>16))),Ze(n,r,1,0,c+d),Ze(n,r,2,0,c-d),Ze(n,r,3,0,l-u),s++,r+=32}function rt(e,t,n,r){var a=e[t+0]+4,i=35468*e[t+4]>>16,s=tt(e[t+4]),o=35468*e[t+1]>>16;et(n,r,0,a+s,e=tt(e[t+1]),o),et(n,r,1,a+i,e,o),et(n,r,2,a-i,e,o),et(n,r,3,a-s,e,o)}function at(e,t,n,r,a){nt(e,t,n,r),a&&nt(e,t+16,n,r+4)}function it(e,t,n,r){ir(e,t+0,n,r,1),ir(e,t+32,n,r+128,1)}function st(e,t,n,r){var a;for(e=e[t+0]+4,a=0;4>a;++a)for(t=0;4>t;++t)Ze(n,r,t,a,e)}function ot(e,t,n,r){e[t+0]&&lr(e,t+0,n,r),e[t+16]&&lr(e,t+16,n,r+4),e[t+32]&&lr(e,t+32,n,r+128),e[t+48]&&lr(e,t+48,n,r+128+4)}function lt(e,t,n,r){var a,s=i(16);for(a=0;4>a;++a){var o=e[t+0+a]+e[t+12+a],l=e[t+4+a]+e[t+8+a],c=e[t+4+a]-e[t+8+a],d=e[t+0+a]-e[t+12+a];s[0+a]=o+l,s[8+a]=o-l,s[4+a]=d+c,s[12+a]=d-c}for(a=0;4>a;++a)o=(e=s[0+4*a]+3)+s[3+4*a],l=s[1+4*a]+s[2+4*a],c=s[1+4*a]-s[2+4*a],d=e-s[3+4*a],n[r+0]=o+l>>3,n[r+16]=d+c>>3,n[r+32]=o-l>>3,n[r+48]=d-c>>3,r+=64}function ct(e,t,n){var r,a=t-32,i=Tr,s=255-e[a-1];for(r=0;r<n;++r){var o,l=i,c=s+e[t-1];for(o=0;o<n;++o)e[t+o]=l[c+e[a+o]];t+=32}}function dt(e,t){ct(e,t,4)}function ut(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function pt(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function mt(e,t){var n;for(n=16;0<n;--n)a(e,t,e[t-1],16),t+=32}function ft(e,t,n){var r;for(r=0;16>r;++r)a(t,n+32*r,e,16)}function vt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];ft(r>>5,e,t)}function gt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];ft(r>>4,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];ft(r>>4,e,t)}function bt(e,t){ft(128,e,t)}function xt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,a=t-32;for(a=new Uint8Array([xt(e[a-1],e[a+0],e[a+1]),xt(e[a+0],e[a+1],e[a+2]),xt(e[a+1],e[a+2],e[a+3]),xt(e[a+2],e[a+3],e[a+4])]),n=0;4>n;++n)r(e,t+32*n,a,0,a.length)}function jt(e,t){var n=e[t-1],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96];L(e,t+0,16843009*xt(e[t-1-32],n,r)),L(e,t+32,16843009*xt(n,r,a)),L(e,t+64,16843009*xt(r,a,i)),L(e,t+96,16843009*xt(a,i,i))}function Nt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)a(e,t+32*n,r,4)}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=xt(r,a,e[t-1+96]),e[t+1+96]=e[t+0+64]=xt(n,r,a),e[t+2+96]=e[t+1+64]=e[t+0+32]=xt(i,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=xt(s,i,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=xt(o,s,i),e[t+3+32]=e[t+2+0]=xt(l,o,s),e[t+3+0]=xt(c,l,o)}function _t(e,t){var n=e[t+1-32],r=e[t+2-32],a=e[t+3-32],i=e[t+4-32],s=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=xt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=xt(n,r,a),e[t+2+0]=e[t+1+32]=e[t+0+64]=xt(r,a,i),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=xt(a,i,s),e[t+3+32]=e[t+2+64]=e[t+1+96]=xt(i,s,o),e[t+3+64]=e[t+2+96]=xt(s,o,l),e[t+3+96]=xt(o,l,l)}function St(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=i+s+1>>1,e[t+1+0]=e[t+2+64]=s+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=xt(a,r,n),e[t+0+64]=xt(r,n,i),e[t+0+32]=e[t+1+96]=xt(n,i,s),e[t+1+32]=e[t+2+96]=xt(i,s,o),e[t+2+32]=e[t+3+96]=xt(s,o,l),e[t+3+32]=xt(o,l,c)}function At(e,t){var n=e[t+0-32],r=e[t+1-32],a=e[t+2-32],i=e[t+3-32],s=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+a+1>>1,e[t+2+0]=e[t+1+64]=a+i+1>>1,e[t+3+0]=e[t+2+64]=i+s+1>>1,e[t+0+32]=xt(n,r,a),e[t+1+32]=e[t+0+96]=xt(r,a,i),e[t+2+32]=e[t+1+96]=xt(a,i,s),e[t+3+32]=e[t+2+96]=xt(i,s,o),e[t+3+64]=xt(s,o,l),e[t+3+96]=xt(o,l,c)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+a+1>>1,e[t+2+32]=e[t+0+64]=a+i+1>>1,e[t+1+0]=xt(n,r,a),e[t+3+0]=e[t+1+32]=xt(r,a,i),e[t+3+32]=e[t+1+64]=xt(a,i,i),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=i}function Lt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96],s=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+s+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=a+r+1>>1,e[t+0+96]=i+a+1>>1,e[t+3+0]=xt(o,l,c),e[t+2+0]=xt(s,o,l),e[t+1+0]=e[t+3+32]=xt(n,s,o),e[t+1+32]=e[t+3+64]=xt(r,n,s),e[t+1+64]=e[t+3+96]=xt(a,r,n),e[t+1+96]=xt(i,a,r)}function Pt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Et(e,t){var n;for(n=0;8>n;++n)a(e,t,e[t-1],8),t+=32}function Ft(e,t,n){var r;for(r=0;8>r;++r)a(t,n+32*r,e,8)}function Tt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Ft(r>>4,e,t)}function Rt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Ft(r>>3,e,t)}function Dt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Ft(r>>3,e,t)}function Ot(e,t){Ft(128,e,t)}function It(e,t,n){var r=e[t-n],a=e[t+0],i=3*(a-r)+Er[1020+e[t-2*n]-e[t+n]],s=Fr[112+(i+4>>3)];e[t-n]=Tr[255+r+Fr[112+(i+3>>3)]],e[t+0]=Tr[255+a-s]}function Mt(e,t,n,r){var a=e[t+0],i=e[t+n];return Rr[255+e[t-2*n]-e[t-n]]>r||Rr[255+i-a]>r}function Bt(e,t,n,r){return 4*Rr[255+e[t-n]-e[t+0]]+Rr[255+e[t-2*n]-e[t+n]]<=r}function Ut(e,t,n,r,a){var i=e[t-3*n],s=e[t-2*n],o=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],u=e[t+3*n];return 4*Rr[255+o-l]+Rr[255+s-c]>r?0:Rr[255+e[t-4*n]-i]<=a&&Rr[255+i-s]<=a&&Rr[255+s-o]<=a&&Rr[255+u-d]<=a&&Rr[255+d-c]<=a&&Rr[255+c-l]<=a}function zt(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Bt(e,t+r,n,a)&&It(e,t+r,n)}function qt(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Bt(e,t+r*n,1,a)&&It(e,t+r*n,1)}function Vt(e,t,n,r){var a;for(a=3;0<a;--a)zt(e,t+=4*n,n,r)}function Ht(e,t,n,r){var a;for(a=3;0<a;--a)qt(e,t+=4,n,r)}function Wt(e,t,n,r,a,i,s,o){for(i=2*i+1;0<a--;){if(Ut(e,t,n,i,s))if(Mt(e,t,n,o))It(e,t,n);else{var l=e,c=t,d=n,u=l[c-2*d],h=l[c-d],p=l[c+0],m=l[c+d],f=l[c+2*d],v=27*(y=Er[1020+3*(p-h)+Er[1020+u-m]])+63>>7,g=18*y+63>>7,y=9*y+63>>7;l[c-3*d]=Tr[255+l[c-3*d]+y],l[c-2*d]=Tr[255+u+g],l[c-d]=Tr[255+h+v],l[c+0]=Tr[255+p-v],l[c+d]=Tr[255+m-g],l[c+2*d]=Tr[255+f-y]}t+=r}}function Gt(e,t,n,r,a,i,s,o){for(i=2*i+1;0<a--;){if(Ut(e,t,n,i,s))if(Mt(e,t,n,o))It(e,t,n);else{var l=e,c=t,d=n,u=l[c-d],h=l[c+0],p=l[c+d],m=Fr[112+(4+(f=3*(h-u))>>3)],f=Fr[112+(f+3>>3)],v=m+1>>1;l[c-2*d]=Tr[255+l[c-2*d]+v],l[c-d]=Tr[255+u+f],l[c+0]=Tr[255+h-m],l[c+d]=Tr[255+p-v]}t+=r}}function Yt(e,t,n,r,a,i){Wt(e,t,n,1,16,r,a,i)}function Kt(e,t,n,r,a,i){Wt(e,t,1,n,16,r,a,i)}function $t(e,t,n,r,a,i){var s;for(s=3;0<s;--s)Gt(e,t+=4*n,n,1,16,r,a,i)}function Jt(e,t,n,r,a,i){var s;for(s=3;0<s;--s)Gt(e,t+=4,1,n,16,r,a,i)}function Xt(e,t,n,r,a,i,s,o){Wt(e,t,a,1,8,i,s,o),Wt(n,r,a,1,8,i,s,o)}function Qt(e,t,n,r,a,i,s,o){Wt(e,t,1,a,8,i,s,o),Wt(n,r,1,a,8,i,s,o)}function Zt(e,t,n,r,a,i,s,o){Gt(e,t+4*a,a,1,8,i,s,o),Gt(n,r+4*a,a,1,8,i,s,o)}function en(e,t,n,r,a,i,s,o){Gt(e,t+4,1,a,8,i,s,o),Gt(n,r+4,1,a,8,i,s,o)}function tn(){this.ba=new se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new D,this.vb=new D,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new u}function sn(){this.xb=this.a=0,this.l=new Ge,this.ca=new se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=s(4,rn),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,r,a,i,s){for(e=null==e?0:e[t+0],t=0;t<s;++t)a[i+t]=e+n[r+t]&255,e=a[i+t]}function cn(e,t,n,r,a,i,s){var o;if(null==e)ln(null,null,n,r,a,i,s);else for(o=0;o<s;++o)a[i+o]=e[t+o]+n[r+o]&255}function dn(e,t,n,r,a,i,s){if(null==e)ln(null,null,n,r,a,i,s);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<s;++o)c=d+(l=e[t+o])-c,d=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,a[i+o]=d}}function un(e,n,a,s){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>a||0>=s||a+s>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new on,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=i(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,p=e.mb,m=e.nb,f=u+1,v=h-1,y=c.l;if(t(null!=d&&null!=p&&null!=n),fa[0]=null,fa[1]=ln,fa[2]=cn,fa[3]=dn,c.ca=p,c.tb=m,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(y.put=pe,y.ac=he,y.bc=me,y.ma=c,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,c.$a)e:{t(1==c.$a),n=Ce();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,g(n.m,d,f,v),!Le(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ne(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=i(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Pe(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=v>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:s=l-a}t(null!=e.ga),t(a+s<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(f=e.rc,v=e.Vc,y=e.Fa,u=e.P+1+a*n,h=e.mb,p=e.nb+a*n,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=fa[d.Z]),c=0;c<s;++c)fa[d.Z](f,v,y,u,h,p,n),f=h,v=p,p+=n,u+=n;else for(c=0;c<s;++c)r(h,p,y,u,n),f=h,v=p,p+=n,u+=n;e.rc=f,e.Vc=v}else{if(t(null!=d.mc),n=a+s,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||vn(),d.ic){d=c.V,f=c.Ba,v=c.c;var b=c.i,x=(y=1,u=c.$/v,h=c.$%v,p=c.m,m=c.s,c.$),w=v*b,j=v*n,k=m.wc,S=x<j?xe(m,h,u):null;t(x<=w),t(n<=b),t(Ne(m));t:for(;;){for(;!p.h&&x<j;){if(h&k||(S=xe(m,h,u)),t(null!=S),_(p),256>(b=ye(S.G[0],S.H[0],p)))d[f+x]=b,++x,++h>=v&&(h=0,++u<=n&&!(u%16)&&_e(c,u));else{if(!(280>b)){y=0;break t}b=ve(b-256,p);var A,C=ye(S.G[4],S.H[4],p);if(_(p),!(x>=(C=ge(v,C=ve(C,p)))&&w-x>=b)){y=0;break t}for(A=0;A<b;++A)d[f+x+A]=d[f+x+A-C];for(x+=b,h+=b;h>=v;)h-=v,++u<=n&&!(u%16)&&_e(c,u);x<j&&h&k&&(S=xe(m,h,u))}t(p.h==N(p))}_e(c,u>n?n:u);break t}!y||p.h&&x<w?(y=0,c.a=p.h?5:3):c.$=x,n=y}else n=Se(c,c.V,c.Ba,c.c,c.i,n,Ee);if(!n){s=0;break e}}a+s>=l&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+a*o}function hn(e,t,n,r,a,i){for(;0<a--;){var s,o=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(s=0;s<r;++s){var u=c[d+4*s];255!=u&&(u*=32897,o[l+4*s+0]=o[l+4*s+0]*u>>23,o[l+4*s+1]=o[l+4*s+1]*u>>23,o[l+4*s+2]=o[l+4*s+2]*u>>23)}t+=i}}function pn(e,t,n,r,a){for(;0<r--;){var i;for(i=0;i<n;++i){var s=e[t+2*i+0],o=15&(c=e[t+2*i+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*i+0]=(240&s|s>>4)*l>>16&240|(15&s|s<<4)*l>>16>>4&15,e[t+2*i+1]=240&c|o}t+=a}}function mn(e,t,n,r,a,i,s,o){var l,c,d=255;for(c=0;c<a;++c){for(l=0;l<r;++l){var u=e[t+l];i[s+4*l]=u,d&=u}t+=n,s+=o}return 255!=d}function fn(e,t,n,r,a){var i;for(i=0;i<a;++i)n[r+i]=e[t+i]>>8}function vn(){jr=hn,Nr=pn,kr=mn,_r=fn}function gn(n,r,a){e[n]=function(e,n,i,s,o,l,c,d,u,h,p,m,f,v,g,y,b){var x,w=b-1>>1,j=o[l+0]|c[d+0]<<16,N=u[h+0]|p[m+0]<<16;t(null!=e);var k=3*j+N+131074>>2;for(r(e[n+0],255&k,k>>16,f,v),null!=i&&(k=3*N+j+131074>>2,r(i[s+0],255&k,k>>16,g,y)),x=1;x<=w;++x){var _=o[l+x]|c[d+x]<<16,S=u[h+x]|p[m+x]<<16,A=j+_+N+S+524296,C=A+2*(_+N)>>3;k=C+j>>1,j=(A=A+2*(j+S)>>3)+_>>1,r(e[n+2*x-1],255&k,k>>16,f,v+(2*x-1)*a),r(e[n+2*x-0],255&j,j>>16,f,v+(2*x-0)*a),null!=i&&(k=A+N>>1,j=C+S>>1,r(i[s+2*x-1],255&k,k>>16,g,y+(2*x-1)*a),r(i[s+2*x+0],255&j,j>>16,g,y+(2*x+0)*a)),j=_,N=S}1&b||(k=3*j+N+131074>>2,r(e[n+b-1],255&k,k>>16,f,v+(b-1)*a),null!=i&&(k=3*N+j+131074>>2,r(i[s+b-1],255&k,k>>16,g,y+(b-1)*a)))}}function yn(){va[Dr]=ga,va[Or]=ba,va[Ir]=ya,va[Mr]=xa,va[Br]=wa,va[Ur]=ja,va[zr]=Na,va[qr]=ba,va[Vr]=xa,va[Hr]=wa,va[Wr]=ja}function bn(e){return e&~La?0>e?0:255:e>>Ca}function xn(e,t){return bn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return bn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function jn(e,t){return bn((19077*e>>8)+(33050*t>>8)-17685)}function Nn(e,t,n,r,a){r[a+0]=xn(e,n),r[a+1]=wn(e,t,n),r[a+2]=jn(e,t)}function kn(e,t,n,r,a){r[a+0]=jn(e,t),r[a+1]=wn(e,t,n),r[a+2]=xn(e,n)}function _n(e,t,n,r,a){var i=wn(e,t,n);t=i<<3&224|jn(e,t)>>3,r[a+0]=248&xn(e,n)|i>>5,r[a+1]=t}function Sn(e,t,n,r,a){var i=240&jn(e,t)|15;r[a+0]=240&xn(e,n)|wn(e,t,n)>>4,r[a+1]=i}function An(e,t,n,r,a){r[a+0]=255,Nn(e,t,n,r,a+1)}function Cn(e,t,n,r,a){kn(e,t,n,r,a),r[a+3]=255}function Ln(e,t,n,r,a){Nn(e,t,n,r,a),r[a+3]=255}function We(e,t){return 0>e?0:e>t?t:e}function Pn(t,n,r){e[t]=function(e,t,a,i,s,o,l,c,d){for(var u=c+(-2&d)*r;c!=u;)n(e[t+0],a[i+0],s[o+0],l,c),n(e[t+1],a[i+0],s[o+0],l,c+r),t+=2,++i,++o,c+=2*r;1&d&&n(e[t+0],a[i+0],s[o+0],l,c)}}function En(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Fn(e,t,n,r,a){switch(e>>>30){case 3:ir(t,n,r,a,0);break;case 2:sr(t,n,r,a);break;case 1:lr(t,n,r,a)}}function Tn(e,t){var n,i,s=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,p=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[u+32*n-1]=129,h[p+32*n-1]=129;for(0<s?l[c-1-32]=d[u-1-32]=h[p-1-32]=129:(a(l,c-32-1,127,21),a(d,u-32-1,127,9),a(h,p-32-1,127,9)),i=0;i<e.za;++i){var m=t.ya[t.aa+i];if(0<i){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(d,u+32*n-4,d,u+32*n+4,4),r(h,p+32*n-4,h,p+32*n+4,4)}var f=e.Gd,v=e.Hd+i,g=m.ad,y=m.Hc;if(0<s&&(r(l,c-32,f[v].y,0,16),r(d,u-32,f[v].f,0,8),r(h,p-32,f[v].ea,0,8)),m.Za){var b=l,x=c-32+16;for(0<s&&(i>=e.za-1?a(b,x,f[v].y[15],4):r(b,x,f[v+1].y,0,4)),n=0;4>n;n++)b[x+128+n]=b[x+256+n]=b[x+384+n]=b[x+0+n];for(n=0;16>n;++n,y<<=2)b=l,x=c+Ia[n],ua[m.Ob[n]](b,x),Fn(y,g,16*+n,b,x)}else if(b=En(i,s,m.Ob[0]),da[b](l,c),0!=y)for(n=0;16>n;++n,y<<=2)Fn(y,g,16*+n,l,c+Ia[n]);for(n=m.Gc,b=En(i,s,m.Dd),ha[b](d,u),ha[b](h,p),y=g,b=d,x=u,255&(m=0|n)&&(170&m?or(y,256,b,x):cr(y,256,b,x)),m=h,y=p,255&(n>>=8)&&(170&n?or(g,320,m,y):cr(g,320,m,y)),s<e.Ub-1&&(r(f[v].y,0,l,c+480,16),r(f[v].f,0,d,u+224,8),r(f[v].ea,0,h,p+224,8)),n=8*o*e.B,f=e.sa,v=e.ta+16*i+16*o*e.R,g=e.qa,m=e.ra+8*i+n,y=e.Ha,b=e.Ia+8*i+n,n=0;16>n;++n)r(f,v+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(g,m+n*e.B,d,u+32*n,8),r(y,b+n*e.B,h,p+32*n,8)}}function Rn(e,r,a,i,s,o,l,c,d){var u=[0],h=[0],p=0,m=null!=d?d.kd:0,f=null!=d?d:new nn;if(null==e||12>a)return 7;f.data=e,f.w=r,f.ha=a,r=[r],a=[a],f.gb=[f.gb];e:{var v=r,y=a,b=f.gb;if(t(null!=e),t(null!=y),t(null!=b),b[0]=0,12<=y[0]&&!n(e,v[0],"RIFF")){if(n(e,v[0]+8,"WEBP")){b=3;break e}var x=F(e,v[0]+4);if(12>x||4294967286<x){b=3;break e}if(m&&x>y[0]-8){b=7;break e}b[0]=x,v[0]+=12,y[0]-=12}b=0}if(0!=b)return b;for(x=0<f.gb[0],a=a[0];;){e:{var j=e;y=r,b=a;var N=u,k=h,_=v=[0];if((C=p=[p])[0]=0,8>b[0])b=7;else{if(!n(j,y[0],"VP8X")){if(10!=F(j,y[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var S=F(j,y[0]+8),A=1+E(j,y[0]+12);if(2147483648<=A*(j=1+E(j,y[0]+15))){b=3;break e}null!=_&&(_[0]=S),null!=N&&(N[0]=A),null!=k&&(k[0]=j),y[0]+=18,b[0]-=18,C[0]=1}b=0}}if(p=p[0],v=v[0],0!=b)return b;if(y=!!(2&v),!x&&p)return 3;if(null!=o&&(o[0]=!!(16&v)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=u[0],v=h[0],p&&y&&null==d){b=0;break}if(4>a){b=7;break}if(x&&p||!x&&!p&&!n(e,r[0],"ALPH")){a=[a],f.na=[f.na],f.P=[f.P],f.Sa=[f.Sa];e:{S=e,b=r,x=a;var C=f.gb;N=f.na,k=f.P,_=f.Sa,A=22,t(null!=S),t(null!=x),j=b[0];var L=x[0];for(t(null!=N),t(null!=_),N[0]=null,k[0]=null,_[0]=0;;){if(b[0]=j,x[0]=L,8>L){b=7;break e}var P=F(S,j+4);if(4294967286<P){b=3;break e}var T=8+P+1&-2;if(A+=T,0<C&&A>C){b=3;break e}if(!n(S,j,"VP8 ")||!n(S,j,"VP8L")){b=0;break e}if(L[0]<T){b=7;break e}n(S,j,"ALPH")||(N[0]=S,k[0]=j+8,_[0]=P),j+=T,L-=T}}if(a=a[0],f.na=f.na[0],f.P=f.P[0],f.Sa=f.Sa[0],0!=b)break}a=[a],f.Ja=[f.Ja],f.xa=[f.xa];e:if(C=e,b=r,x=a,N=f.gb[0],k=f.Ja,_=f.xa,S=b[0],j=!n(C,S,"VP8 "),A=!n(C,S,"VP8L"),t(null!=C),t(null!=x),t(null!=k),t(null!=_),8>x[0])b=7;else{if(j||A){if(C=F(C,S+4),12<=N&&C>N-12){b=3;break e}if(m&&C>x[0]-8){b=7;break e}k[0]=C,b[0]+=8,x[0]-=8,_[0]=A}else _[0]=5<=x[0]&&47==C[S+0]&&!(C[S+4]>>5),k[0]=x[0];b=0}if(a=a[0],f.Ja=f.Ja[0],f.xa=f.xa[0],r=r[0],0!=b)break;if(4294967286<f.Ja)return 3;if(null==c||y||(c[0]=f.xa?2:1),l=[l],v=[v],f.xa){if(5>a){b=7;break}c=l,m=v,y=o,null==e||5>a?e=0:5<=a&&47==e[r+0]&&!(e[r+4]>>5)?(x=[0],C=[0],N=[0],g(k=new w,e,r,a),fe(k,x,C,N)?(null!=c&&(c[0]=x[0]),null!=m&&(m[0]=C[0]),null!=y&&(y[0]=N[0]),e=1):e=0):e=0}else{if(10>a){b=7;break}c=v,null==e||10>a||!$e(e,r+3,a-3)?e=0:(m=e[r+0]|e[r+1]<<8|e[r+2]<<16,y=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&m||3<(m>>1&7)||!(m>>4&1)||m>>5>=f.Ja||!y||!e?e=0:(l&&(l[0]=y),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],v=v[0],p&&(u[0]!=l||h[0]!=v))return 3;null!=d&&(d[0]=f,d.offset=r-d.w,t(4294967286>r-d.w),t(d.offset==d.ha-a));break}return 0==b||7==b&&p&&null==d?(null!=o&&(o[0]|=null!=f.na&&0<f.na.length),null!=i&&(i[0]=l),null!=s&&(s[0]=v),0):b}function Dn(e,t,n){var r=t.width,a=t.height,i=0,s=0,o=r,l=a;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,i=e.v,s=e.j,11>n||(i&=-2,s&=-2),0>i||0>s||0>=o||0>=l||i+o>r||s+l>a))return 0;if(t.v=i,t.j=s,t.va=i+o,t.o=s+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!O(o,l,n=[e.ib],i=[e.hb]))return 0;t.ib=n[0],t.hb=i[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*a/4,t.Kb=0),1}function On(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function In(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var a=n.cd,s=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=a||0>=s||o+a>e||l+s>t)return 2;e=a,t=s}if(n.da){if(!O(e,t,a=[n.ib],s=[n.hb]))return 2;e=a[0],t=s[0]}}r.width=e,r.height=t;e:{var c=r.width,d=r.height;if(e=r.S,0>=c||0>=d||!(e>=Dr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=s=a=t=0;var u=(l=c*Ua[e])*d;if(11>e||(s=(d+1)/2*(t=(c+1)/2),12==e&&(o=(a=c)*d)),null==(d=i(u+2*s+o))){e=1;break e}r.sd=d,11>e?((c=r.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=s,c.ea=d,c.W=0+u+s,c.Db=t,c.Ed=s,12==e&&(c.F=d,c.J=0+u+2*s),c.Tc=o,c.lb=a)}if(t=1,a=r.S,s=r.width,o=r.height,a>=Dr&&13>a)if(11>a)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+s<=e.size,t&=l>=s*Ua[a],t&=null!=e.eb;else{e=r.f.kb,l=(s+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),p=Math.abs(e.lb),m=p*(o-1)+s;t&=c*(o-1)+s<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=s&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==a&&(t&=p>=s,t&=m<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=On(r)),e}var Mn=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Un=24,zn=32,qn=8,Vn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return z(z(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return z(e,t[n-1])},e.Predictor7=function(e,t,n){return z(e,t[n+0])},e.Predictor8=function(e,t,n){return z(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return z(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return z(z(e,t[n-1]),z(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=H(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+H(r>>16&255,e>>16&255,t>>16&255)+H(r>>8&255,e>>8&255,t>>8&255)+H(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(q((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|q((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|q((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|q((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(V((e=z(e,t[n+0]))>>24&255,r>>24&255)<<24|V(e>>16&255,r>>16&255)<<16|V(e>>8&255,r>>8&255)<<8|V(255&e,255&r))>>>0};var Hn=e.PredictorAdd0;e.PredictorAdd1=W,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var Wn=e.PredictorAdd2;$("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),$("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Gn,Yn=e.ColorIndexInverseTransform,Kn=e.MapARGB,$n=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Xn=e.VP8LPredictorsAdd=[];Xn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Qn,Zn,er,tr,nr,rr,ar,ir,sr,or,lr,cr,dr,ur,hr,pr,mr,fr,vr,gr,yr,br,xr,wr,jr,Nr,kr,_r,Sr=i(511),Ar=i(2041),Cr=i(225),Lr=i(767),Pr=0,Er=Ar,Fr=Cr,Tr=Lr,Rr=Sr,Dr=0,Or=1,Ir=2,Mr=3,Br=4,Ur=5,zr=6,qr=7,Vr=8,Hr=9,Wr=10,Gr=[2,3,7],Yr=[3,3,11],Kr=[280,256,256,256,40],$r=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zr=8,ea=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ta=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],na=null,ra=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ia=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],sa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],la=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ca=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],da=[],ua=[],ha=[],pa=1,ma=2,fa=[],va=[];gn("UpsampleRgbLinePair",Nn,3),gn("UpsampleBgrLinePair",kn,3),gn("UpsampleRgbaLinePair",Ln,4),gn("UpsampleBgraLinePair",Cn,4),gn("UpsampleArgbLinePair",An,4),gn("UpsampleRgba4444LinePair",Sn,2),gn("UpsampleRgb565LinePair",_n,2);var ga=e.UpsampleRgbLinePair,ya=e.UpsampleBgrLinePair,ba=e.UpsampleRgbaLinePair,xa=e.UpsampleBgraLinePair,wa=e.UpsampleArgbLinePair,ja=e.UpsampleRgba4444LinePair,Na=e.UpsampleRgb565LinePair,ka=16,_a=1<<ka-1,Sa=-227,Aa=482,Ca=6,La=(256<<Ca)-1,Pa=0,Ea=i(256),Fa=i(256),Ta=i(256),Ra=i(256),Da=i(Aa-Sa),Oa=i(Aa-Sa);Pn("YuvToRgbRow",Nn,3),Pn("YuvToBgrRow",kn,3),Pn("YuvToRgbaRow",Ln,4),Pn("YuvToBgraRow",Cn,4),Pn("YuvToArgbRow",An,4),Pn("YuvToRgba4444Row",Sn,2),Pn("YuvToRgb565Row",_n,2);var Ia=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ma=[0,2,8],Ba=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,o,l,c){var d=Or,u=new tn,h=new se;u.ba=h,h.S=d,h.width=[h.width],h.height=[h.height];var p=h.width,m=h.height,f=new oe;if(null==f||null==e)var v=2;else t(null!=f),v=Rn(e,n,o,f.width,f.height,f.Pd,f.Qd,f.format,null);if(0!=v?p=0:(null!=p&&(p[0]=f.width[0]),null!=m&&(m[0]=f.height[0]),p=1),p){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=c&&(c[0]=h.height);e:{if(l=new Ge,(c=new nn).data=e,c.w=n,c.ha=o,c.kd=1,n=[0],t(null!=c),(0==(e=Rn(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=u),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=pe,l.ac=he,l.bc=me,l.ma=u,c.xa){if(null==(e=Ce())){u=1;break e}if(function(e,n){var r=[0],a=[0],i=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,g(e.m,n.data,n.w,n.ha),!fe(e.m,r,a,i)){e.a=3;break t}if(e.xb=ma,n.width=r[0],n.height=a[0],!Le(r[0],a[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=In(l.width,l.height,u.Oa,u.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Dn(c.Oa,o,Mr)){l.a=2;break n}if(!Pe(l,o.width))break n;if(o.da)break n;if((o.da||re(l.ca.S))&&vn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&vn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!T(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Se(l,l.V,l.Ba,l.c,l.i,o.o,je))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ye)){u=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Je(e,l)){if(0==(n=In(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,o=u.Oa,t(null!=(c=e)),null!=o){if(0<(p=0>(p=o.Md)?0:100<p?255:255*p/100)){for(m=f=0;4>m;++m)12>(v=c.pb[m]).lc&&(v.ia=p*Ba[0>v.lc?0:v.lc]>>3),f|=v.ia;f&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return Ke(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=Ma[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var p=h;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),u.dd=p,u.tc=2*h+p,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Ke(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(p=e.za);var m=32*p,f=p+1,v=0<e.L?p*(0<e.Aa?2:1):0,g=(2==e.Aa?2:1)*p;if((u=l+832+(c=3*(16*o+Ma[e.L])/2*m)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=i(u),e.Fc=0,null==e.Ec){o=Ke(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=s(m,Ve),e.Hd=0,e.rb=s(f+1,Be),e.sb=1,e.wa=v?s(v,Me):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=s(g,ze),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(m=Ma[e.L])*e.R,m=m/2*e.B,e.sa=u,e.ta=h+p,e.qa=e.sa,e.ra=e.ta+16*o*e.R+m,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+m,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),Qe(e),a(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Pr){for(o=-255;255>=o;++o)Sr[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Ar[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Cr[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Lr[255+o]=0>o?0:255<o?255:o;Pr=1}ar=lt,ir=at,or=it,lr=st,cr=ot,sr=rt,dr=Yt,ur=Kt,hr=Xt,pr=Qt,mr=$t,fr=Jt,vr=Zt,gr=en,yr=zt,br=qt,xr=Vt,wr=Ht,ua[0]=Nt,ua[1]=dt,ua[2]=wt,ua[3]=jt,ua[4]=kt,ua[5]=St,ua[6]=_t,ua[7]=At,ua[8]=Lt,ua[9]=Ct,da[0]=vt,da[1]=ht,da[2]=pt,da[3]=mt,da[4]=gt,da[5]=yt,da[6]=bt,ha[0]=Tt,ha[1]=ut,ha[2]=Pt,ha[3]=Et,ha[4]=Dt,ha[5]=Rt,ha[6]=Ot,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var s,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(s=0;s<c.za;++s){var d=l,u=c,h=u.Ac,p=u.Bc+4*s,m=u.zc,f=u.ya[u.aa+s];if(u.Qa.Bb?f.$b=C(d,u.Pa.jb[0])?2+C(d,u.Pa.jb[2]):C(d,u.Pa.jb[1]):f.$b=0,u.kc&&(f.Ad=C(d,u.Bd)),f.Za=!C(d,145)+0,f.Za){var v=f.Ob,g=0;for(u=0;4>u;++u){var y,b=m[0+u];for(y=0;4>y;++y){b=oa[h[p+y]][b];for(var x=ia[C(d,b[0])];0<x;)x=ia[2*x+C(d,b[x])];b=-x,h[p+y]=b}r(v,g,h,p,4),g+=4,m[0+u]=b}}else b=C(d,156)?C(d,128)?1:3:C(d,163)?2:0,f.Ob[0]=b,a(h,p,b,4),a(m,0,b,4);f.Dd=C(d,142)?C(d,114)?C(d,183)?1:3:2:0}if(c.m.Ka)return Ke(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],s=l.ya[l.aa+l.ja],p=l.kc?s.Ad:0)d.la=h.la=0,s.Za||(d.Na=h.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var w,j;if(d=h,h=c,p=l.Pa.Xc,m=l.ya[l.aa+l.ja],f=l.pb[m.$b],u=m.ad,v=0,g=l.rb[l.sb-1],b=y=0,a(u,v,0,384),m.Za)var N=0,k=p[3];else{x=i(16);var _=d.Na+g.Na;if(_=na(h,p[1],_,f.Eb,0,x,0),d.Na=g.Na=(0<_)+0,1<_)ar(x,0,u,v);else{var S=x[0]+3>>3;for(x=0;256>x;x+=16)u[v+x]=S}N=1,k=p[0]}var A=15&d.la,L=15&g.la;for(x=0;4>x;++x){var P=1&L;for(S=j=0;4>S;++S)A=A>>1|(P=(_=na(h,k,_=P+(1&A),f.Sc,N,u,v))>N)<<7,j=j<<2|(3<_?3:1<_?2:0!=u[v+0]),v+=16;A>>=4,L=L>>1|P<<7,y=(y<<8|j)>>>0}for(k=A,N=L>>4,w=0;4>w;w+=2){for(j=0,A=d.la>>4+w,L=g.la>>4+w,x=0;2>x;++x){for(P=1&L,S=0;2>S;++S)_=P+(1&A),A=A>>1|(P=0<(_=na(h,p[2],_,f.Qc,0,u,v)))<<3,j=j<<2|(3<_?3:1<_?2:0!=u[v+0]),v+=16;A>>=2,L=L>>1|P<<5}b|=j<<4*w,k|=A<<4<<w,N|=(240&L)<<w}d.la=k,g.la=N,m.Hc=y,m.Gc=b,m.ia=43690&b?0:f.ia,p=!(y|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[s.$b][s.Za],l.wa[l.Y+l.ja].La|=!p),c.Ka)return Ke(e,7,"Premature end-of-file encountered.")}if(Qe(e),l=n,c=1,s=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(s.M=o.M,s.uc=d,Tn(o,s),c=1,s=(j=o.D).Nb,d=(b=Ma[o.L])*o.R,h=b/2*o.B,x=16*s*o.R,S=8*s*o.B,p=o.sa,m=o.ta-d+x,f=o.qa,u=o.ra-h+S,v=o.Ha,g=o.Ia-h+S,L=0==(A=j.M),y=A>=o.Va-1,2==o.Aa&&Tn(o,j),j.uc)for(P=(_=o).D.M,t(_.D.uc),j=_.yb;j<_.Hb;++j){N=j,k=P;var E=(F=(z=_).D).Nb;w=z.R;var F=F.wa[F.Y+N],T=z.sa,R=z.ta+16*E*w+16*N,D=F.dd,O=F.tc;if(0!=O)if(t(3<=O),1==z.L)0<N&&br(T,R,w,O+4),F.La&&wr(T,R,w,O),0<k&&yr(T,R,w,O+4),F.La&&xr(T,R,w,O);else{var I=z.B,M=z.qa,B=z.ra+8*E*I+8*N,U=z.Ha,z=z.Ia+8*E*I+8*N;E=F.ld,0<N&&(ur(T,R,w,O+4,D,E),pr(M,B,U,z,I,O+4,D,E)),F.La&&(fr(T,R,w,O,D,E),gr(M,B,U,z,I,O,D,E)),0<k&&(dr(T,R,w,O+4,D,E),hr(M,B,U,z,I,O+4,D,E)),F.La&&(mr(T,R,w,O,D,E),vr(M,B,U,z,I,O,D,E))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(j=16*A,A=16*(A+1),L?(l.y=o.sa,l.O=o.ta+x,l.f=o.qa,l.N=o.ra+S,l.ea=o.Ha,l.W=o.Ia+S):(j-=b,l.y=p,l.O=m,l.f=f,l.N=u,l.ea=v,l.W=g),y||(A-=b),A>l.o&&(A=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&j<A&&(l.J=un(o,l,j,A-j),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ke(o,3,"Could not decode alpha data.");break t}j<l.j&&(b=l.j-j,j=l.j,t(!(1&b)),l.O+=o.R*b,l.N+=o.B*(b>>1),l.W+=o.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),j<A&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=j-l.j,l.U=l.va-l.v,l.T=A-j,c=l.put(l))}s+1!=o.Ic||y||(r(o.sa,o.ta-d,p,m+16*o.R,d),r(o.qa,o.ra-h,f,u+8*o.B,h),r(o.Ha,o.Ia-h,v,g+8*o.B,h))}if(!c)return Ke(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=u.Oa&&u.Oa.fd&&(n=On(u.ba))}u=n}d=0!=u?null:11>d?h.f.RGBA.eb:h.f.kb.y}else d=null;return d};var Ua=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return e[t+0]|e[t+1]<<8}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var p=[0],m=[0],f=[],v=new l,g=e,y=function(e,t){var n={},r=0,a=!1,i=0,s=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var o=c(e,t),l=h(e,t+=4);t+=4;var p=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(v=n.frames[r]).src_off=a?s:t-8,v.src_size=i+l+8,r++,a&&(a=!1,i=0,s=0);break;case"VP8X":(v=n.header={}).feature_flags=e[t];var m=t+4;v.canvas_width=1+u(e,m),m+=3,v.canvas_height=1+u(e,m),m+=3;break;case"ALPH":a=!0,i=p+8,s=t-8;break;case"ANIM":(v=n.header).bgcolor=h(e,t),m=t+4,v.loop_count=d(e,m),m+=2;break;case"ANMF":var f,v;(v=n.frames[r]={}).offset_x=2*u(e,t),t+=3,v.offset_y=2*u(e,t),t+=3,v.width=1+u(e,t),t+=3,v.height=1+u(e,t),t+=3,v.duration=u(e,t),t+=3,f=e[t++],v.dispose=1&f,v.blend=f>>1&1}"ANMF"!=o&&(t+=p)}return n}}(g,0);y.response=g,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,x=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,p=[b.canvas_height],m=[b.canvas_width];for(var w=0;w<x.length&&0!=x[w].blend;w++);}var j=x[0],N=v.WebPDecodeRGBA(g,j.src_off,j.src_size,m,p);j.rgba=N,j.imgwidth=m[0],j.imgheight=p[0];for(var k=0;k<m[0]*p[0]*4;k++)f[k]=N[k];return this.width=m,this.height=p,this.data=f,this}!function(e){var t,n,r,a,i,s,o,l,c,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new s,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new s,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var a=0;Object.defineProperty(this,"posX",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(e){s=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof d&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var p=null,m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){p=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],a=t[4];t[5];var i=t[6],s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(a)[2];a="px"===s?Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(a);var o=function(e){var t,n,r=[],a=e.trim();if(""===a)return nu;if(a in qd)return[qd[a]];for(;""!==a;){switch(n=null,t=(a=Hd(a)).charAt(0)){case'"':case"'":n=Wd(a.substring(1),t);break;default:n=Gd(a)}if(null===n)return nu;if(r.push(n[0]),""!==(a=Hd(n[1]))&&","!==a.charAt(0))return nu;a=a.replace(/^,/,"")}return r}(i);if(this.fontFaces){var l=function(e,t){if(null===p){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(e.getFontList());p=function(e){for(var t={},n=0;n<e.length;++n){var r=Bd(e[n]),a=r.family,i=r.stretch,s=r.style,o=r.weight;t[a]=t[a]||{},t[a][i]=t[a][i]||{},t[a][i][s]=t[a][i][s]||{},t[a][i][s][o]=r}return t}(n.concat(t))}return p}(this.pdf,this.fontFaces),c=o.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}),d=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},zd,n.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=Bd(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+Vd(i)+"' and default family '"+r+"'.");if(s=function(e,t){if(t[e])return t[e];var n=Od[e],r=n<=Od.normal?-1:1,a=Ud(t,Dd,n,r);if(!a)throw new Error("Could not find a matching font-stretch value for "+e);return a}(i.stretch,s),s=function(e,t){if(t[e])return t[e];for(var n=Rd[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(i.style,s),!(s=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Md[e],r=Ud(t,Id,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Vd(i)+"'.");return s}(l,c);this.pdf.setFont(d.ref.name,d.ref.style)}else{var u="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(u="bold"),"italic"===n&&(u+="italic"),0===u.length&&(u="normal");for(var h="",m={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},f=0;f<o.length;f++){if(void 0!==this.pdf.internal.getFont(o[f],u,{noFallback:!0,disableWarning:!0})){h=o[f];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(o[f],"bold",{noFallback:!0,disableWarning:!0}))h=o[f],u="bold";else if(void 0!==this.pdf.internal.getFont(o[f],"normal",{noFallback:!0,disableWarning:!0})){h=o[f],u="normal";break}}if(""===h)for(var v=0;v<o.length;v++)if(m[o[v]]){h=m[o[v]];break}h=""===h?"Times":h,this.pdf.setFont(h,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,I.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,I.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){x.call(this,"fill",!1)},u.prototype.stroke=function(){x.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw fc.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(e,t)},u.prototype.closePath=function(){var e=new s(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,ta.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new s(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw fc.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw fc.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new s(n,r)),i=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"qct",x1:i.x,y1:i.y,x:a.x,y:a.y}),this.ctx.lastPoint=new s(a.x,a.y)},u.prototype.bezierCurveTo=function(e,t,n,r,a,i){if(isNaN(a)||isNaN(i)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw fc.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new s(a,i)),l=this.ctx.transform.applyToPoint(new s(e,t)),c=this.ctx.transform.applyToPoint(new s(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new s(o.x,o.y)},u.prototype.arc=function(e,t,n,r,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a))throw fc.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(i=Boolean(i),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new s(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new s(0,n)),c=this.ctx.transform.applyToPoint(new s(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(a-r)>=2*Math.PI&&(r=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:a,counterclockwise:i})},u.prototype.arcTo=function(e,t,n,r,a){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw fc.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw fc.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw fc.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw fc.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,a=0;else{var i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==i)t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),a=1;else if(null!==(i=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),a=parseFloat(i[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new xc(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:a,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw fc.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!p.call(this)){var a=R(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;C.call(this,{text:e,x:t,y:n,scale:i,angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw fc.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){r=isNaN(r)?void 0:r;var a=R(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;C.call(this,{text:e,x:t,y:n,scale:i,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw fc.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw fc.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw fc.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw fc.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i))throw fc.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new l(e,t,n,r,a,i);this.ctx.transform=this.ctx.transform.multiply(s)},u.prototype.setTransform=function(e,t,n,r,a,i){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,a=isNaN(a)?0:a,i=isNaN(i)?0:i,this.ctx.transform=new l(e,t,n,r,a,i)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,a,i,s,c,d){var u=this.pdf.getImageProperties(e),h=1,p=1,m=1,g=1;void 0!==r&&void 0!==c&&(m=c/r,g=d/a,h=u.width/r*c/r,p=u.height/a*d/a),void 0===i&&(i=t,s=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,d=a),void 0===r&&void 0===c&&(c=u.width,d=u.height);for(var x,j=this.ctx.transform.decompose(),N=R(j.rotate.shx),k=new l,_=(k=(k=(k=k.multiply(j.translate)).multiply(j.skew)).multiply(j.scale)).applyToRectangle(new o(i-t*m,s-n*g,r*h,a*p)),S=v.call(this,_),A=[],C=0;C<S.length;C+=1)-1===A.indexOf(S[C])&&A.push(S[C]);if(b(A),this.autoPaging)for(var L=A[0],P=A[A.length-1],E=L;E<P+1;E++){this.pdf.setPage(E);var F=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],T=1===E?this.posY+this.margin[0]:this.margin[0],D=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],O=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],I=1===E?0:D+(E-2)*O;if(0!==this.ctx.clip_path.length){var M=this.path;x=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(x,this.posX+this.margin[3],-I+T+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=M}var B=JSON.parse(JSON.stringify(_));B=y([B],this.posX+this.margin[3],-I+T+this.ctx.prevPageLastElemOffset)[0];var U=(E>L||E<P)&&f.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],F,O,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,N),U&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",_.x,_.y,_.w,_.h,null,null,N)};var v=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var a=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+a)/n)+1);break;case"arc":r.push(Math.floor((e.y+a-e.radius)/n)+1),r.push(Math.floor((e.y+a+e.radius)/n)+1);break;case"qct":var i=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((i.y+a)/n)+1),r.push(Math.floor((i.y+i.h+a)/n)+1);break;case"bct":var s=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((s.y+a)/n)+1),r.push(Math.floor((s.y+s.h+a)/n)+1);break;case"rect":r.push(Math.floor((e.y+a)/n)+1),r.push(Math.floor((e.y+e.h+a)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)g.call(this);return r},g=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,a=this.lineWidth,i=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=a,this.lineJoin=i},y=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},b=function(e){return e.sort(function(e,t){return e-t})},x=function(e,t){for(var n,r,a=this.fillStyle,i=this.strokeStyle,s=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],p=0;p<u.length;p++)if(void 0!==u[p].x)for(var m=v.call(this,u[p]),x=0;x<m.length;x+=1)-1===h.indexOf(m[x])&&h.push(m[x]);for(var j=0;j<h.length;j++)for(;this.pdf.internal.getNumberOfPages()<h[j];)g.call(this);if(b(h),this.autoPaging)for(var N=h[0],k=h[h.length-1],_=N;_<k+1;_++){this.pdf.setPage(_),this.fillStyle=a,this.strokeStyle=i,this.lineCap=s,this.lineWidth=l,this.lineJoin=c;var S=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],A=1===_?this.posY+this.margin[0]:this.margin[0],C=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===_?0:C+(_-2)*L;if(0!==this.ctx.clip_path.length){var E=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=E}if(r=JSON.parse(JSON.stringify(d)),this.path=y(r,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),!1===t||0===_){var F=(_>N||_<k)&&f.call(this);F&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],S,L,null).clip().discardPath()),w.call(this,e,t),F&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=o;this.path=d},w=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!p.call(this))){for(var n,r,a=[],i=this.path,s=0;s<i.length;s++){var o=i[s];switch(o.type){case"begin":a.push({begin:!0});break;case"close":a.push({close:!0});break;case"mt":a.push({start:o,deltas:[],abs:[]});break;case"lt":var l=a.length;if(i[s-1]&&!isNaN(i[s-1].x)&&(n=[o.x-i[s-1].x,o.y-i[s-1].y],l>0))for(;l>=0;l--)if(!0!==a[l-1].close&&!0!==a[l-1].begin){a[l-1].deltas.push(n),a[l-1].abs.push(o);break}break;case"bct":n=[o.x1-i[s-1].x,o.y1-i[s-1].y,o.x2-i[s-1].x,o.y2-i[s-1].y,o.x-i[s-1].x,o.y-i[s-1].y],a[a.length-1].deltas.push(n);break;case"qct":var c=i[s-1].x+2/3*(o.x1-i[s-1].x),d=i[s-1].y+2/3*(o.y1-i[s-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),f=o.x,v=o.y;n=[c-i[s-1].x,d-i[s-1].y,u-i[s-1].x,h-i[s-1].y,f-i[s-1].x,v-i[s-1].y],a[a.length-1].deltas.push(n);break;case"arc":a.push({deltas:[],abs:[],arc:!0}),Array.isArray(a[a.length-1].abs)&&a[a.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var g=!1,y=0;y<a.length;y++)if(a[y].arc)for(var b=a[y].abs,x=0;x<b.length;x++){var w=b[x];"arc"===w.type?k.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!g):L.call(this,w.x,w.y),g=!0}else if(!0===a[y].close)this.pdf.internal.out("h"),g=!1;else if(!0!==a[y].begin){var j=a[y].start.x,N=a[y].start.y;P.call(this,a[y].deltas,j,N),g=!0}r&&_.call(this,r),t&&S.call(this)}},j=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},N=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,n,r,a,i,s,o,l){for(var c=F.call(this,n,r,a,i),d=0;d<c.length;d++){var u=c[d];0===d&&(l?A.call(this,u.x1+e,u.y1+t):L.call(this,u.x1+e,u.y1+t)),E.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?S.call(this):_.call(this,s)},_=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},S=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},C=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=j.call(this,e.y),a=N.call(this,r)-n.h,i=this.ctx.transform.applyToPoint(new s(e.x,r)),c=this.ctx.transform.decompose(),d=new l;d=(d=(d=d.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var u,h,p,m=this.ctx.transform.applyToRectangle(new o(e.x,r,n.w,n.h)),g=d.applyToRectangle(new o(e.x,a,n.w,n.h)),x=v.call(this,g),k=[],_=0;_<x.length;_+=1)-1===k.indexOf(x[_])&&k.push(x[_]);if(b(k),this.autoPaging)for(var S=k[0],A=k[k.length-1],C=S;C<A+1;C++){this.pdf.setPage(C);var L=1===C?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],E=this.pdf.internal.pageSize.height-this.margin[2],F=E-this.margin[0],T=this.pdf.internal.pageSize.width-this.margin[1],R=T-this.margin[3],D=1===C?0:P+(C-2)*F;if(0!==this.ctx.clip_path.length){var O=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(u,this.posX+this.margin[3],-1*D+L),w.call(this,"fill",!0),this.path=O}var I=y([JSON.parse(JSON.stringify(g))],this.posX+this.margin[3],-D+L+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale);var M="text"!==this.autoPaging;if(M||I.y+I.h<=E){if(M||I.y>=L&&I.x<=T){var B=M?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||T-I.x)[0],U=y([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-D+L+this.ctx.prevPageLastElemOffset)[0],z=M&&(C>S||C<A)&&f.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],R,F,null).clip().discardPath()),this.pdf.text(B,U.x,U.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),z&&this.pdf.restoreGraphicsState()}}else I.y<E&&(this.ctx.prevPageLastElemOffset+=E-I.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale),this.pdf.text(e.text,i.x+this.posX,i.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)},L=function(e,t,a,i){a=a||0,i=i||0,this.pdf.internal.out(n(e+a)+" "+r(t+i)+" l")},P=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},E=function(e,n,r,s,o,l,c,d){this.pdf.internal.out([t(a(r+e)),t(i(s+n)),t(a(o+e)),t(i(l+n)),t(a(c+e)),t(i(d+n)),"c"].join(" "))},F=function(e,t,n,r){for(var a=2*Math.PI,i=Math.PI/2;t>n;)t-=a;var s=Math.abs(n-t);s<a&&r&&(s=a-s);for(var o=[],l=r?-1:1,c=t;s>1e-5;){var d=c+l*Math.min(s,i);o.push(T.call(this,e,c,d)),s-=Math.abs(d-c),c=d}return o},T=function(e,t,n){var r=(n-t)/2,a=e*Math.cos(r),i=e*Math.sin(r),s=a,o=-i,l=s*s+o*o,c=l+s*a+o*i,d=4/3*(Math.sqrt(2*l*c)-c)/(s*i-o*a),u=s-d*o,h=o+d*s,p=u,m=-h,f=r+t,v=Math.cos(f),g=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*v-h*g,y2:u*g+h*v,x3:p*v-m*g,y3:p*g+m*v,x4:e*Math.cos(n),y4:e*Math.sin(n)}},R=function(e){return 180*e/Math.PI},D=function(e,t,n,r,a,i){var s=e+.5*(n-e),l=t+.5*(r-t),c=a+.5*(n-a),d=i+.5*(r-i),u=Math.min(e,a,s,c),h=Math.max(e,a,s,c),p=Math.min(t,i,l,d),m=Math.max(t,i,l,d);return new o(u,p,h-u,m-p)},O=function(e,t,n,r,a,i,s,l){var c,d,u,h,p,m,f,v,g,y,b,x,w,j,N=n-e,k=r-t,_=a-n,S=i-r,A=s-a,C=l-i;for(d=0;d<41;d++)g=(f=(u=e+(c=d/40)*N)+c*((p=n+c*_)-u))+c*(p+c*(a+c*A-p)-f),y=(v=(h=t+c*k)+c*((m=r+c*S)-h))+c*(m+c*(i+c*C-m)-v),0==d?(b=g,x=y,w=g,j=y):(b=Math.min(b,g),x=Math.min(x,y),w=Math.max(w,g),j=Math.max(j,y));return new o(Math.round(b),Math.round(x),Math.round(w-b),Math.round(j-x))},I=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(Gc.API),function(e){var t=function(e){var t,n,r,a,i,s,o,l,c,d;for(/[^\x00-\xFF]/.test(e),n=[],r=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;a>r;r+=4)0!==(i=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(s=(i=((i=((i=((i=(i-(d=i%85))/85)-(c=i%85))/85)-(l=i%85))/85)-(o=i%85))/85)%85,n.push(s+33,o+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,a,i,s=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],a=0,i=(e+=t="uuuuu"[d](e[o]%5||5))[o];i>a;a+=5)n=52200625*(e[c](a)-33)+614125*(e[c](a+1)-33)+7225*(e[c](a+2)-33)+85*(e[c](a+3)-33)+(e[c](a+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[o]),s.fromCharCode.apply(s,r)},r=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=Ba(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,s){var o=0,l=e||"",c=[];for("string"==typeof(s=s||[])&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=a(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Gc.API),(tu=Gc.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,a=0,i=function(e){var t=e.length,n=[],r=String.fromCharCode;for(a=0;a<t;a+=1)n.push(r(255&e.charCodeAt(a)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(i(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return i(r.responseText)}(e,t,n)}catch(fa){}return r}(e,t,n)},tu.loadImageFile=tu.loadFile,function(e){function t(){return(pc.html2canvas?Promise.resolve(pc.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(pc.DOMPurify?Promise.resolve(pc.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var a=function(e){var t=(0,ta.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},s=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==n&&1===a.nodeType&&"SCRIPT"===a.nodeName||r.appendChild(e(a,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(a(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(r).then(function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var i=0;i<n.length;++i){var s=n[i],o=s.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,s.ref.name,s.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=0==a.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,t.context2d.save(!0),e(this.prop.container,a)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if("object"!==a(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},o.prototype.setMargin=function(e){return this.then(function(){switch(a(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||Gc.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var a=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:o.convert(Object.assign({},r),Promise.prototype),i=n.call(a,e,t);return o.convert(i,r.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw new Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Gc.getPageSize=function(e,t,n){if("object"===(0,ta.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var a,i=(""+n).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(s.hasOwnProperty(i))l=s[i][1]/a,c=s[i][0]/a;else try{l=n[1],c=n[0]}catch(xc){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:a,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Bd):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}(Gc.API),Gc.API.addJS=function(e){return $d=e,this.internal.events.subscribe("postPutResources",function(){Yd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Kd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$d+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Yd&&void 0!==Kd&&this.internal.out("/Names <</JavaScript "+Yd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var i=r[a],s=n.exec(i);if(null!=s){var o=s[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(i)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var a=t.children[r];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var i=this.count=this.count_r({count:0},a);if(i>0&&this.line("/Count "+i),a.options&&a.options.pageNumber){var s=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(Gc.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,a,i,s){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=i||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,o=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),a=e.length,i={width:0,height:0,numcomponents:1},s=4;s<a;s+=2){if(s+=r,-1!==t.indexOf(e.charCodeAt(s+1))){n=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),i={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:n,numcomponents:e.charCodeAt(s+9)};break}r=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return i}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),o.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:s,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(Gc.API),Gc.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=function(e,t){return new uc(e,t).decode()}(e,{checkCrc:!0}),s=i.width,o=i.height,l=i.channels,c=i.palette,d=i.depth;a=c&&1===l?function(e){for(var t=e.width,n=e.height,r=e.data,a=e.palette,i=e.depth,s=!1,o=[],l=[],c=void 0,d=!1,u=0,h=0;h<a.length;h++){var p=qa(a[h],4),m=p[0],f=p[1],v=p[2],g=p[3];o.push(m,f,v),null!=g&&(0===g?(u++,l.length<1&&l.push(h)):g<255&&(d=!0))}if(d||u>1){s=!0,l=void 0;var y=t*n;c=new Uint8Array(y);for(var b=new DataView(r.buffer),x=0;x<y;x++){var w=qa(a[uu(b,x,i)],4)[3];c[x]=w}}else 0===u&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:s?8:void 0,colorBytes:r,alphaBytes:c,needSMask:s,palette:o,mask:l}}(i):2===l||4===l?function(e){for(var t=e.data,n=e.width,r=e.height,a=e.channels,i=e.depth,s=2===a?"DeviceGray":"DeviceRGB",o=a-1,l=n*r,c=o,d=l*c,u=1*l,h=Math.ceil(d*i/8),p=Math.ceil(u*i/8),m=new Uint8Array(h),f=new Uint8Array(p),v=new DataView(t.buffer),g=new DataView(m.buffer),y=new DataView(f.buffer),b=!1,x=0;x<l;x++){for(var w=x*a,j=0;j<c;j++)hu(g,uu(v,w+j,i),x*c+j,i);var N=uu(v,w+c,i);N<(1<<i)-1&&(b=!0),hu(y,N,1*x,i)}return{colorSpace:s,colorsPerPixel:o,sMaskBitsPerComponent:b?i:void 0,colorBytes:m,alphaBytes:f,needSMask:b}}(i):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,n=new Uint8Array(2*t),r=new DataView(n.buffer,n.byteOffset,n.byteLength),a=0;a<t;a++)r.setUint16(2*a,e[a],!1);return n}(t):t,needSMask:!1}}(i);var u,h,p,m=a,f=m.colorSpace,v=m.colorsPerPixel,g=m.sMaskBitsPerComponent,y=m.colorBytes,b=m.alphaBytes,x=m.needSMask,w=m.palette,j=m.mask,N=null;return r!==Gc.API.image_compression.NONE?(N=function(e){var t;switch(e){case Gc.API.image_compression.FAST:t=11;break;case Gc.API.image_compression.MEDIUM:t=13;break;case Gc.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(N," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(s),e=ru(y,Math.ceil(s*v*d/8),v,d,r),x&&(p=ru(b,Math.ceil(s*g/8),1,g,r))):(u=void 0,h=void 0,e=y,x&&(p=b)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:e,index:t,filter:u,decodeParameters:h,transparency:j,palette:w,sMask:p,predictor:N,width:s,height:o,bitsPerComponent:d,sMaskBitsPerComponent:g,colorSpace:f}}},function(e){e.processGIF89A=function(t,n,r,a){var i=new mu(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},d=new vu(100).encode(c,100);return e.processJPEG.call(this,d,n,r,a)},e.processGIF87A=e.processGIF89A}(Gc.API),gu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){fc.log("bit decode error:"+n)}},gu.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}0!==n&&(this.pos+=4-n)}},gu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}0!==t&&(this.pos+=4-t)}},gu.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==e&&(this.pos+=4-e)}},gu.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,d=r*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=c}this.pos+=e}},gu.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},gu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},gu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=r,this.data[o+3]=s}},gu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,a){var i=new gu(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new vu(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(Gc.API),yu.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,a){var i=new yu(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new vu(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(Gc.API),Gc.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var d=r[c],u=r[c+1],h=r[c+2],p=r[c+3];i[o++]=d,i[o++]=u,i[o++]=h,s[l++]=p}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Gc.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jd=Gc.API,Xd=Jd.getCharWidthsArray=function(e,t){var n,r,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=!1!==t.doKerning,h=0,p=e.length,m=0,f=o[0]||l,v=[];for(n=0;n<p;n++)r=e.charCodeAt(n),"function"==typeof a.metadata.widthOfString?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+s*(1e3/i)||0)/1e3):(h=u&&"object"===(0,ta.A)(c[r])&&!isNaN(parseInt(c[r][m],10))?c[r][m]/d:0,v.push((o[r]||f)/l+h)),m=r;return v},Qd=Jd.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Jd.processArabic&&(e=Jd.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,a)/n:Xd.apply(this,arguments).reduce(function(e,t){return e+t},0)},Zd=function(e,t,n,r){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<n;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>r&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},eu=function(e,t,n){n||(n={});var r,a,i,s,o,l,c,d=[],u=[d],h=n.textIndent||0,p=0,m=0,f=e.split(" "),v=Xd.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?f[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),y=[];f.map(function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):y.push(e[0])}),f=y,l=Qd.apply(this,[g,n])}for(i=0,s=f.length;i<s;i++){var b=0;if(r=f[i],l&&"\n"==r[0]&&(r=r.substr(1),b=1),h+p+(m=(a=Xd.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||b){if(m>t){for(o=Zd.apply(this,[r,a,t-(h+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);m=a.slice(r.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[r];u.push(d),h=m+l,p=v}else d.push(r),h+=p+m,p=v}return c=l?function(e,t){return(t?g:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},Jd.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(eu.apply(this,[r[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},a={},i=0;i<16;i++)r[n[i]]=t[i],a[t[i]]=n[i];var s=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,r,i,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=s(c).slice(2)).slice(0,-1)+a[n.slice(-1)]),"number"==typeof t)t<0?(r=s(t).slice(3),i="-"):(r=s(t).slice(2),i=""),r=i+r.slice(0,-1)+a[r.slice(-1)];else{if("object"!==(0,ta.A)(t))throw new Error("Don't know what to do with value type "+(0,ta.A)(t)+".");r=o(t)}l.push(n+r)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,a,i,s={},o=1,l=s,c=[],d="",u="",h=e.length-1,p=1;p<h;p+=1)"'"==(i=e[p])?t?(a=t.join(""),t=void 0):t=[]:t?t.push(i):"{"==i?(c.push([l,a]),l={},a=void 0):"}"==i?((n=c.pop())[0][n[1]]=l,a=void 0,l=n[0]):"-"==i?o=-1:void 0===a?r.hasOwnProperty(i)?(d+=r[i],a=parseInt(d,16)*o,o=1,d=""):d+=i:r.hasOwnProperty(i)?(u+=r[i],l[a]=parseInt(u,16)*o,o=1,a=void 0,u=""):u+=i;return s},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(Gc.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(void 0===i)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(r=!1===i.existsFileInVFS(a.postScriptName)?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(wc(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(a,r)}}])}(Gc),Gc.API.addSvgAsImage=function(e,t,r,a,i,s,o,l){if(isNaN(t)||isNaN(r))throw fc.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw fc.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=i;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(pc.canvg?Promise.resolve(pc.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,a,i,o,l)})},Gc.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},Gc.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,d=0,u=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=o.length;for(u=0;u<p;u+=1)n[o[u]].value=n[o[u]].defaultValue,n[o[u]].explicitSet=!1}if("object"===(0,ta.A)(e))for(a in e)if(i=e[a],h(o,a)&&void 0!==i){if("boolean"===n[a].type&&"boolean"==typeof i)n[a].value=i;else if("name"===n[a].type&&h(n[a].valueSet,i))n[a].value=i;else if("integer"===n[a].type&&Number.isInteger(i))n[a].value=i;else if("array"===n[a].type){for(c=0;c<i.length;c+=1)if(r=!0,1===i[c].length&&"number"==typeof i[c][0])l.push(String(i[c]-1));else if(i[c].length>1){for(d=0;d<i[c].length;d+=1)"number"!=typeof i[c][d]&&(r=!1);!0===r&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[a].value="["+l.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),s=n.length+r.length+a.length+t.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+a+i),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Gc.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,a=["","0","00","000","0000"],i=[""],s=0,o=e.length;s<o;++s){if(n=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(s),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return i.join("");n=n.toString(16),i.push(a[4-n.length],n)}return i.join("")},r=function(e){var t,n,r,a,i,s,o;for(i="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],s=0,o=(n=Object.keys(e).sort(function(e,t){return e-t})).length;s<o;s++)t=n[s],r.length>=100&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+a+">"));return r.length&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),i+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,i=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=i();s({data:c,addLength1:!0,objectId:u}),a("endobj");var h=i();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),a("endobj");var p=i();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+Uc(n.fontName)),a("/FontFile2 "+u+" 0 R"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/Flags "+n.metadata.flags),a("/StemV "+n.metadata.stemV),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a(">>"),a("endobj");var m=i();a("<<"),a("/Type /Font"),a("/BaseFont /"+Uc(n.fontName)),a("/FontDescriptor "+p+" 0 R"),a("/W "+e.API.PDFObject.convert(o)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+n.encoding+")"),a(">>"),a(">>"),a("endobj"),n.objectNumber=i(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+h+" 0 R"),a("/BaseFont /"+Uc(n.fontName)),a("/Encoding /"+n.encoding),a("/DescendantFonts ["+m+" 0 R]"),a(">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,i=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=i();s({data:l,addLength1:!0,objectId:d}),a("endobj");var u=i();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),a("endobj");var h=i();a("<<"),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a("/StemV "+n.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+d+" 0 R"),a("/Flags 96"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/FontName /"+Uc(n.fontName)),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a(">>"),a("endobj"),n.objectNumber=i();for(var p=0;p<n.metadata.hmtx.widths.length;p++)n.metadata.hmtx.widths[p]=parseInt(n.metadata.hmtx.widths[p]*(1e3/n.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Uc(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]);var a=function(e){var t,r=e.text||"",a=e.x,i=e.y,s=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",p=0,m="",f=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:r,x:a,y:i,options:s,mutex:o};for(m=r,u=c,Array.isArray(r)&&(m=r[0]),p=0;p<m.length;p+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[m[p].charCodeAt(0)]),t||m[p].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=m[p]:h+="";var v="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===f?v=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===f&&(v=n(h,d[u])),o.isHex=!0,{text:v,x:a,y:i,options:s,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var i=0;for(i=0;i<t.length;i+=1)Array.isArray(t[i])&&3===t[i].length?n.push([a(Object.assign({},r,{text:t[i][0]})).text,t[i][1],t[i][2]]):n.push(a(Object.assign({},r,{text:t[i]})).text);e.text=n}else e.text=a(Object.assign({},r,{text:t})).text}])}(Gc),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Gc.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,a,i,s,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,g=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,r=p[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":f.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},x=function(e,t,s,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(h="AN");break;case"AL":v=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=s[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":v&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?s[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===s[o-1]){h="EN";break}if(v){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(a&&!i){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var p=e[o],m=p>=1425&&p<=2303||64286===p;if(l=t[d],m&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":s[o-1];break;case"B":v=!1,n=!0,h=g;break;case"S":r=!0,h="N"}return h},w=function(e,t,n){var r=e.split("");return n&&j(r,n,{hiLevel:g}),r.reverse(),t&&t.reverse(),r.join("")},j=function(e,t,a){var i,s,o,l,c,p=-1,m=e.length,f=0,b=[],w=g?u:d,j=[];for(v=!1,n=!1,r=!1,s=0;s<m;s++)j[s]=y(e[s]);for(o=0;o<m;o++){if(c=f,b[o]=x(e,j,b,o),i=240&(f=w[c][h[b[o]]]),f&=15,t[o]=l=w[f][5],i>0)if(16===i){for(s=p;s<o;s++)t[s]=1;p=-1}else p=-1;if(w[f][6])-1===p&&(p=o);else if(p>-1){for(s=p;s<o;s++)t[s]=l;p=-1}"B"===j[o]&&(t[o]=0),a.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=g;for(var a=r-1;a>=0&&"WS"===e[a];a--)t[a]=g}}(j,t,m)},N=function(e,t,r,a,i){if(!(i.hiLevel<e)){if(1===e&&1===g&&!n)return t.reverse(),void(r&&r.reverse());for(var s,o,l,c,d=t.length,u=0;u<d;){if(a[u]>=e){for(l=u+1;l<d&&a[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)s=t[c],t[c]=t[o],t[o]=s,r&&(s=r[c],r[c]=r[o],r[o]=s);u=l}u++}}},k=function(e,t,n){var r=e.split(""),a={hiLevel:g};return n||(n=[]),j(r,n,a),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,a=0;a<e.length;a++)1===t[a]&&(r=m.indexOf(e[a]))>=0&&(e[a]=m[r+1])}(r,n,a),N(2,r,t,n,a),N(1,r,t,n,a),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===i&&(i=b(e)),void 0===o&&(o=b(e))}(e,t),a||!s||o)if(a&&s&&i^o)g=i?1:0,e=w(e,t,n);else if(!a&&s&&o)g=i?1:0,e=k(e,t,n),e=w(e,t);else if(!a||i||s||o){if(a&&!s&&i^o)e=w(e,t),i?(g=0,e=k(e,t,n)):(g=1,e=k(e,t,n),e=w(e,t));else if(a&&i&&!s&&o)g=1,e=k(e,t,n),e=w(e,t);else if(!a&&!s&&i^o){var r=l;i?(g=1,e=k(e,t,n),g=0,l=!1,e=k(e,t,n),l=r):(g=0,e=k(e,t,n),e=w(e,t),g=1,l=!1,e=k(e,t,n),l=r,e=w(e,t))}}else g=0,e=k(e,t,n);else g=i?1:0,e=k(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,s=e.isOutputVisual,i=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var a=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var i=0;for(a=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?a.push([n.doBidiReorder(t[i][0]),t[i][1],t[i][2]]):a.push([n.doBidiReorder(t[i])]);e.text=a}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(Gc),Gc.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new xu(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Bu(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new wu(this.contents),this.head=new ku(this),this.name=new Eu(this),this.cmap=new Su(this),this.toUnicode={},this.hhea=new Au(this),this.maxp=new Fu(this),this.hmtx=new Tu(this),this.post=new Lu(this),this.os2=new Cu(this),this.loca=new Mu(this),this.glyf=new Du(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,a;for(a=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],a.push(Math.round(e*this.scaleFactor));return a}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(a=this.familyClass)||2===a||3===a||4===a||5===a||7===a,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,a,i,s;for(i=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)r=e.charCodeAt(a),i+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return i*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var bu,xu=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,a,i,s,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^i)+256*(255^s)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*a+65536*i+256*s+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)t=e[n],a.push(this.writeByte(t));return a},e}(),wu=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,a,i,s,o,l,c,d,u,h,p,m;for(m in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),i=Math.floor(d/o),c=16*h-d,(r=new xu).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(i),r.writeShort(c),a=16*h,l=r.pos+a,s=null,p=[],t)for(u=t[m],r.writeString(m),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),p=p.concat(u),"head"===m&&(s=l),l+=u.length;l%4;)p.push(0),l++;return r.write(p),n=2981146554-e(r.data),r.pos=s+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,a;for(e=Ru.call(e);e.length%4;)e.push(0);for(r=new xu(e),n=0,t=0,a=e.length;t<a;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),ju={}.hasOwnProperty,Nu=function(e,t){for(var n in t)ju.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};bu=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var ku=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nu(e,bu),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new xu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),_u=function(){function e(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,m,f,v,g,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,a=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,m=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,s=function(){var t,n;for(n=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)n.push(e.readUInt16());return n}(),o=v=0,y=a.length;v<y;o=++v)for(f=a[o],n=g=p=m[o];p<=f?g<=f:g>=f;n=p<=f?++g:--g)0===c[o]?i=n+l[o]:0!==(i=s[c[o]/2+(n-p)-(u-o)]||0)&&(i+=l[o]),this.codeMap[n]=65535&i}e.pos=d}return e.encode=function(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,m,f,v,g,y,b,x,w,j,N,k,_,S,A,C,L,P,E,F,T,R,D,O,I,M,B,U,z,q,V,H,W,G,Y;switch(L=new xu,i=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(m=0,f=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),g={0:0},a={},P=0,R=i.length;P<R;P++)null==g[H=e[r=i[P]]]&&(g[H]=++m),a[r]={old:e[r],new:g[e[r]]},f[r]=g[e[r]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(f),{charMap:a,subtable:L.data,maxGlyphID:m+1};case"unicode":for(A=[],d=[],y=0,g={},n={},v=l=null,E=0,D=i.length;E<D;E++)null==g[x=e[r=i[E]]]&&(g[x]=++y),n[r]={old:x,new:g[x]},s=g[x]-r,null!=v&&s===l||(v&&d.push(v),A.push(r),l=s),v=r;for(v&&d.push(v),d.push(65535),A.push(65535),_=2*(k=A.length),N=2*Math.pow(Math.log(k)/Math.LN2,2),u=Math.log(N/2)/Math.LN2,j=2*k-N,o=[],w=[],h=[],p=F=0,O=A.length;F<O;p=++F){if(S=A[p],c=d[p],65535===S){o.push(0),w.push(0);break}if(S-(C=n[S].new)>=32768)for(o.push(0),w.push(2*(h.length+k-p)),r=T=S;S<=c?T<=c:T>=c;r=S<=c?++T:--T)h.push(n[r].new);else o.push(C-S),w.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*k+2*h.length),L.writeUInt16(0),L.writeUInt16(_),L.writeUInt16(N),L.writeUInt16(u),L.writeUInt16(j),q=0,I=d.length;q<I;q++)r=d[q],L.writeUInt16(r);for(L.writeUInt16(0),V=0,M=A.length;V<M;V++)r=A[V],L.writeUInt16(r);for(W=0,B=o.length;W<B;W++)s=o[W],L.writeUInt16(s);for(G=0,U=w.length;G<U;G++)b=w[G],L.writeUInt16(b);for(Y=0,z=h.length;Y<z;Y++)m=h[Y],L.writeUInt16(m);return{charMap:n,subtable:L.data,maxGlyphID:y+1}}},e}(),Su=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nu(e,bu),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new _u(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=_u.encode(e,t),(r=new xu).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),Au=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nu(e,bu),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),Cu=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nu(e,bu),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Lu=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nu(e,bu),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],a=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;a=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),Pu=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Eu=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nu(e,bu),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,a,i,s,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(o={},a=c=0,d=n.length;c<d;a=++c)r=n[a],e.pos=r.offset,l=e.readString(r.length),i=new Pu(l,r),null==o[u=r.nameID]&&(o[u]=[]),o[r.nameID].push(i);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(wc){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),Fu=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nu(e,bu),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Tu=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nu(e,bu),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,a,i,s,o;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,a;for(a=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)a.push(e.readInt16());return a}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)a=n[e],r.push(a.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],t=i=0;0<=r?i<r:i>r;t=0<=r?++i:--i)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Ru=[].slice,Du=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nu(e,bu),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,a,i,s,o,l,c,d;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),0===(r=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,i=(s=new xu(t.read(r))).readShort(),l=s.readShort(),d=s.readShort(),o=s.readShort(),c=s.readShort(),this.cache[e]=-1===i?new Iu(s,l,d,o,c):new Ou(s,i,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,a,i,s,o;for(i=[],a=[],s=0,o=t.length;s<o;s++)r=e[t[s]],a.push(i.length),r&&(i=i.concat(r.encode(n)));return a.push(i.length),{table:i,offsets:a}},e}(),Ou=function(){function e(e,t,n,r,a,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Iu=function(){function e(e,t,n,r,a){var i,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;s=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&s;)i.pos+=1&s?4:2,128&s?i.pos+=8:64&s?i.pos+=4:8&s&&(i.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new xu(Ru.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Mu=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nu(e,bu),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,a=0,i=0;i<n.length;++i)if(n[i]=r,a<t.length&&t[a]==i){++a,n[i]=r;var s=this.offsets[i],o=this.offsets[i+1]-s;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),Bu=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,a;for(t in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,a,i,s,o;for(r={},i=0,s=e.length;i<s;i++)r[a=e[i]]=this.font.glyf.glyphFor(a);for(a in t=[],r)(null!=(n=r[a])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in o=this.glyphsFor(t))n=o[a],r[a]=n;return r},e.prototype.encode=function(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,m,f,v;for(r in n=Su.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),h={0:0},v=n.charMap)h[(o=v[r]).old]=o.new;for(p in u=n.maxGlyphID,i)p in h||(h[p]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),d=Object.keys(c).sort(function(e,t){return e-t}),m=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)s=d[e],n.push(c[s]);return n}(),a=this.font.glyf.encode(i,m,h),l=this.font.loca.encode(a.offsets,m),f={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();function Uu(e,t,n,r,a){r=r||{};var i=a.internal.scaleFactor,s=a.internal.getFontSize()/i,o=s*(a.getLineHeightFactor?a.getLineHeightFactor():1.15),l="",c=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c=(l="string"===typeof e?e.split(/\r\n|\r|\n/g):e).length||1),n+=s*(2-1.15),"middle"===r.valign?n-=c/2*o:"bottom"===r.valign&&(n-=c*o),"center"===r.halign||"right"===r.halign){var d=s;if("center"===r.halign&&(d*=.5),l&&c>=1){for(var u=0;u<l.length;u++)a.text(l[u],t-a.getStringUnitWidth(l[u])*d,n),n+=o;return a}t-=a.getStringUnitWidth(e)*d}return"justify"===r.halign?a.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(e,t,n),a}Gc.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,a,i,s;if(Array.isArray(n))return"["+function(){var e,a,i;for(i=[],e=0,a=n.length;e<a;e++)r=n[e],i.push(t.convert(r));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(a in i=["<<"],n)s=n[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join("\n")}return""+n},t}();var zu={},qu=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:zu=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"===typeof e?[e,e,e]:"string"===typeof e?[e]:null},e.prototype.applyStyles=function(t,n){var r,a,i;void 0===n&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var d=e.unifyColor(t.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),(d=e.unifyColor(t.textColor))&&(a=this.jsPDFDocument).setTextColor.apply(a,d),(d=e.unifyColor(t.lineColor))&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),"number"===typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},e.prototype.rect=function(e,t,n,r,a){return this.jsPDFDocument.rect(e,t,n,r,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return zu||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Vu=function(e,t){return Vu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Vu(e,t)};function Hu(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Vu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}"function"===typeof SuppressedError&&SuppressedError;var Wu=function(e){function t(t){var n=e.call(this)||this;return n._element=t,n}return Hu(t,e),t}(Array);function Gu(e,t,n){n.applyStyles(t,!0);var r=(Array.isArray(e)?e:[e]).map(function(e){return n.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0);return r}function Yu(e,t,n,r){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=Ku(a,!1);s&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,s)}function Ku(e,t){var n=e>0,r=t||0===t;return n&&r?"DF":n?"S":r?"F":null}function $u(e,t){var n,r,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"===typeof e?("number"===typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"===typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(n=e.left)&&void 0!==n?n:t,top:null!==(r=e.top)&&void 0!==r?r:t,right:null!==(a=e.right)&&void 0!==a?a:t,bottom:null!==(i=e.bottom)&&void 0!==i?i:t}):("number"!==typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}function Ju(e,t){var n=$u(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function Xu(e,t,n,r,a){var i={},s=96/72,o=Qu(t,function(e){return a.getComputedStyle(e).backgroundColor});null!=o&&(i.fillColor=o);var l=Qu(t,function(e){return a.getComputedStyle(e).color});null!=l&&(i.textColor=l);var c=function(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=n.map(function(e){return parseInt(e||"0")/r}),s=$u(i,0);a>s.top&&(s.top=a);a>s.bottom&&(s.bottom=a);return s}(r,n);c&&(i.cellPadding=c);var d="borderTopColor",u=s*n,h=r.borderTopWidth;if(r.borderBottomWidth===h&&r.borderRightWidth===h&&r.borderLeftWidth===h){var p=(parseFloat(h)||0)/u;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/u,right:(parseFloat(r.borderRightWidth)||0)/u,bottom:(parseFloat(r.borderBottomWidth)||0)/u,left:(parseFloat(r.borderLeftWidth)||0)/u},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var m=Qu(t,function(e){return a.getComputedStyle(e)[d]});null!=m&&(i.lineColor=m);var f=["left","right","center","justify"];-1!==f.indexOf(r.textAlign)&&(i.halign=r.textAlign),-1!==(f=["middle","bottom","top"]).indexOf(r.verticalAlign)&&(i.valign=r.verticalAlign);var v=parseInt(r.fontSize||"");isNaN(v)||(i.fontSize=v/s);var g=function(e){var t="";("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold");"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic");return t}(r);g&&(i.fontStyle=g);var y=(r.fontFamily||"").toLowerCase();return-1!==e.indexOf(y)&&(i.font=y),i}function Qu(e,t){var n=Zu(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Zu(e,t){var n=t(e);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==e.parentElement?null:Zu(e.parentElement,t):n}function eh(e,t,n,r,a){var i,s,o;void 0===r&&(r=!1),void 0===a&&(a=!1),o="string"===typeof t?n.document.querySelector(t):t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),d=[],u=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:d,body:u,foot:h};for(var p=0;p<o.rows.length;p++){var m=o.rows[p],f=null===(s=null===(i=null===m||void 0===m?void 0:m.parentElement)||void 0===i?void 0:i.tagName)||void 0===s?void 0:s.toLowerCase(),v=th(l,c,n,m,r,a);v&&("thead"===f?d.push(v):"tfoot"===f?h.push(v):u.push(v))}return{head:d,body:u,foot:h}}function th(e,t,n,r,a,i){for(var s=new Wu(r),o=0;o<r.cells.length;o++){var l=r.cells[o],c=n.getComputedStyle(l);if(a||"none"!==c.display){var d=void 0;i&&(d=Xu(e,l,t,c,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:nh(l)})}}var u=n.getComputedStyle(r);if(s.length>0&&(a||"none"!==u.display))return s}function nh(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join("\n"),t.innerText||t.textContent||""}function rh(e,t,n,r,a){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function ah(e,t){var n=new qu(e),r=n.getDocumentOptions(),a=n.getGlobalOptions();!function(e,t,n){for(var r=0,a=[e,t,n];r<a.length;r++){var i=a[r];i&&"object"!==typeof i&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&"number"!==typeof i.startY&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}(a,r,t);var i,s=rh({},a,r,t);"undefined"!==typeof window&&(i=window);var o=function(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(a){if("columnStyles"===a){var i=e[a],s=t[a],o=n[a];r.columnStyles=rh({},i,s,o)}else{var l=[e,t,n].map(function(e){return e[a]||{}});r[a]=rh({},l[0],l[1],l[2])}},i=0,s=Object.keys(r);i<s.length;i++){a(s[i])}return r}(a,r,t),l=function(e,t,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,i=[e,t,n];a<i.length;a++){var s=i[a];s.didParseCell&&r.didParseCell.push(s.didParseCell),s.willDrawCell&&r.willDrawCell.push(s.willDrawCell),s.didDrawCell&&r.didDrawCell.push(s.didDrawCell),s.willDrawPage&&r.willDrawPage.push(s.willDrawPage),s.didDrawPage&&r.didDrawPage.push(s.didDrawPage)}return r}(a,r,t),c=function(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,m,f,v=$u(t.margin,40/e.scaleFactor()),g=null!==(n=function(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),a=e.pageNumber(),i=!1;if(n&&n.startPageNumber){i=n.startPageNumber+n.pageNumber-1===a}if("number"===typeof t)return t;if((null==t||!1===t)&&i&&null!=(null===n||void 0===n?void 0:n.finalY))return n.finalY+20/r;return null}(e,t.startY))&&void 0!==n?n:v.top;m=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(r=t.showFoot)&&void 0!==r?r:"everyPage";f=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(a=t.showHead)&&void 0!==a?a:"everyPage";var y=null!==(i=t.useCss)&&void 0!==i&&i,b=t.theme||(y?"plain":"striped"),x=!!t.horizontalPageBreak,w=null!==(s=t.horizontalPageBreakRepeat)&&void 0!==s?s:null;return{includeHiddenHtml:null!==(o=t.includeHiddenHtml)&&void 0!==o&&o,useCss:y,theme:b,startY:g,margin:v,pageBreak:null!==(l=t.pageBreak)&&void 0!==l?l:"auto",rowPageBreak:null!==(c=t.rowPageBreak)&&void 0!==c?c:"auto",tableWidth:null!==(d=t.tableWidth)&&void 0!==d?d:"auto",showHead:f,showFoot:m,tableLineWidth:null!==(u=t.tableLineWidth)&&void 0!==u?u:0,tableLineColor:null!==(h=t.tableLineColor)&&void 0!==h?h:200,horizontalPageBreak:x,horizontalPageBreakRepeat:w,horizontalPageBreakBehaviour:null!==(p=t.horizontalPageBreakBehaviour)&&void 0!==p?p:"afterAllRows"}}(n,s),d=function(e,t,n){var r=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(n){var o=eh(e,t.html,n,s,t.useCss)||{};r=o.head||r,a=o.body||r,i=o.foot||r}else console.error("Cannot parse html in non browser environment")}var l=t.columns||function(e,t,n){var r=e[0]||t[0]||n[0]||[],a=[];return Object.keys(r).filter(function(e){return"_element"!==e}).forEach(function(e){var t,n=1;"object"!==typeof(t=Array.isArray(r)?r[parseInt(e)]:r[e])||Array.isArray(t)||(n=(null===t||void 0===t?void 0:t.colSpan)||1);for(var i=0;i<n;i++){var s={dataKey:Array.isArray(r)?a.length:e+(i>0?"_".concat(i):"")};a.push(s)}}),a}(r,a,i);return{columns:l,head:r,body:a,foot:i}}(n,s,i);return{id:t.tableId,content:d,hooks:l,styles:o,settings:c}}var ih,sh=function(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()},oh=function(e){function t(t,n,r,a,i,s){var o=e.call(this,t,n,s)||this;return o.cell=r,o.row=a,o.column=i,o.section=a.section,o}return Hu(t,e),t}(sh),lh=function(){function e(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,n,r,a,i){for(var s=0,o=t;s<o.length;s++){var l=!1===(0,o[s])(new oh(e,this,n,r,a,i));if(n.text=Array.isArray(n.text)?n.text:[n.text],l)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++){(0,r[n])(new sh(e,this,t))}},e.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++){(0,r[n])(new sh(e,this,t))}},e.prototype.getWidth=function(e){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}(),ch=function(){function e(e,t,n,r,a){void 0===a&&(a=!1),this.height=0,this.raw=e,e instanceof Wu&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=r,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,n){var r;return Math.max(e,(null===(r=t.cells[n.index])||void 0===r?void 0:r.height)||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var n=t.cells[e.index];return!!n&&n.rowSpan>1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(e,r){var a=n.cells[r.index];if(!a)return 0;var i=t.getLineHeight(a.styles.fontSize),s=a.padding("vertical")+i;return s>e?s:e},0)},e}(),dh=function(){function e(e,t,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var a=e;null==e||"object"!==typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=null!==(r=e.content)&&void 0!==r?r:e,e._element&&(this.raw=e._element));var i=null!=a?""+a:"";this.text=i.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");t=this.x+r/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=$u(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}(),uh=function(){function e(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,r=e.allRows();n<r.length;n++){var a=r[n].cells[this.index];a&&"number"===typeof a.styles.cellWidth&&(t=Math.max(t,a.styles.cellWidth))}return t},e}();function hh(e,t){!function(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,a=Ju(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var d=t.hooks.didParseCell;t.callCellHooks(e,d,c,i,l,null);var u=c.padding("horizontal");c.contentWidth=Gu(c.text,c.styles,e)+u;var h=Gu(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),"number"===typeof c.styles.cellWidth)c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if("wrap"===c.styles.cellWidth||!0===r)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/n;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(e){for(var n=0,r=t.columns;n<r.length;n++){var a=r[n],i=e.cells[a.index];if(i&&1===i.colSpan)a.wrappedWidth=Math.max(a.wrappedWidth,i.wrappedWidth),a.minWidth=Math.max(a.minWidth,i.minWidth),a.minReadableWidth=Math.max(a.minReadableWidth,i.minReadableWidth);else{var s=t.styles.columnStyles[a.dataKey]||t.styles.columnStyles[a.index]||{},o=s.cellWidth||s.minCellWidth;o&&"number"===typeof o&&(a.minWidth=o,a.wrappedWidth=o)}i&&(i.colSpan>1&&!a.minWidth&&(a.minWidth=i.minWidth),i.colSpan>1&&!a.wrappedWidth&&(a.wrappedWidth=i.minWidth))}})}(e,t);var n=[],r=0;t.columns.forEach(function(e){var a=e.getMaxCustomCellWidth(t);a?e.width=a:(e.width=e.wrappedWidth,n.push(e)),r+=e.width});var a=t.getWidth(e.pageSize().width)-r;a&&(a=ph(n,a,function(e){return Math.max(e.minReadableWidth,e.minWidth)})),a&&(a=ph(n,a,function(e){return e.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),function(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if((s-=1)>1&&e.columns[o+1])i+=l.width,delete r.cells[l.index];else if(a){var c=a;delete r.cells[l.index],a=null,c.width=l.width+i}else{if(!(c=r.cells[l.index]))continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}(t),function(e,t){for(var n={count:0,height:0},r=0,a=e.allRows();r<a.length;r++){for(var i=a[r],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if("linebreak"===c.styles.overflow)c.text=t.splitTextToSize(c.text,d+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if("ellipsize"===c.styles.overflow)c.text=mh(c.text,d,c.styles,t,"...");else if("hidden"===c.styles.overflow)c.text=mh(c.text,d,c.styles,t,"");else if("function"===typeof c.styles.overflow){var u=c.styles.overflow(c.text,d);c.text="string"===typeof u?[u]:u}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<h*c.rowSpan?n={height:h,count:c.rowSpan}:n&&n.count>0&&n.height>h&&(h=n.height),h>i.height&&(i.height=h)}}n.count--}}(t,e),function(e){for(var t={},n=1,r=e.allRows(),a=0;a<r.length;a++)for(var i=r[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(n>1)n--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,n=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=i.cells[l.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var u=r.length-a,h=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:h,row:i}}}}}(t)}function ph(e,t,n){for(var r=t,a=e.reduce(function(e,t){return e+t.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=r*(s.wrappedWidth/a),l=s.width+o,c=n(s),d=l<c?c:l;t-=d-s.width,s.width=d}if(t=Math.round(1e10*t)/1e10){var u=e.filter(function(e){return!(t<0)||e.width>n(e)});u.length&&(t=ph(u,t,n))}return t}function mh(e,t,n,r,a){return e.map(function(e){return function(e,t,n,r,a){var i=1e4*r.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Gu(e,n,r))return e;for(;t<Gu(e+a,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}(e,t,n,r,a)})}function fh(e,t){var n=new qu(e),r=function(e,t){var n=e.content,r=function(e){return e.map(function(e,t){var n,r;return r="object"===typeof e&&null!==(n=e.dataKey)&&void 0!==n?n:t,new uh(r,e,t)})}(n.columns);if(0===n.head.length){(a=gh(r,"head"))&&n.head.push(a)}if(0===n.foot.length){var a;(a=gh(r,"foot"))&&n.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:r,head:vh("head",n.head,r,s,i,t),body:vh("body",n.body,r,s,i,t),foot:vh("foot",n.foot,r,s,i,t)}}(t,n.scaleFactor()),a=new lh(t,r);return hh(n,a),n.applyStyles(n.userStyles),a}function vh(e,t,n,r,a,i){var s={};return t.map(function(t,o){for(var l=0,c={},d=0,u=0,h=0,p=n;h<p.length;h++){var m=p[h];if(null==s[m.index]||0===s[m.index].left)if(0===u){var f=void 0,v={};"object"!==typeof(f=Array.isArray(t)?t[m.index-d-l]:t[m.dataKey])||Array.isArray(f)||(v=(null===f||void 0===f?void 0:f.styles)||{});var g=yh(e,m,o,a,r,i,v),y=new dh(f,g,e);c[m.dataKey]=y,c[m.index]=y,u=y.colSpan-1,s[m.index]={left:y.rowSpan-1,times:u}}else u--,d++;else s[m.index].left--,u=s[m.index].times,l++}return new ch(t,o,e,c)})}function gh(e,t){var n={};return e.forEach(function(e){if(null!=e.raw){var r=function(e,t){if("head"===e){if("object"===typeof t)return t.header||null;if("string"===typeof t||"number"===typeof t)return t}else if("foot"===e&&"object"===typeof t)return t.footer;return null}(t,e.raw);null!=r&&(n[e.dataKey]=r)}}),Object.keys(n).length>0?n:null}function yh(e,t,n,r,a,i,s){var o,l={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[r];"head"===e?o=a.headStyles:"body"===e?o=a.bodyStyles:"foot"===e&&(o=a.footStyles);var c=rh({},l.table,l[e],a.styles,o),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},u="body"===e?d:{},h="body"===e&&n%2===0?rh({},l.alternateRow,a.alternateRowStyles):{},p=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}(i),m=rh({},p,c,h,u);return rh(m,s)}function bh(e,t,n){var r;void 0===n&&(n={});var a=Ju(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:"string"!==typeof t.settings.horizontalPageBreakRepeat&&"number"!==typeof t.settings.horizontalPageBreakRepeat||(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(e){var n=t.columns.find(function(t){return t.dataKey===e||t.index===e});n&&!i.has(n.index)&&(i.set(n.index,!0),s.push(n.index),o.push(t.columns[n.index]),a-=n.wrappedWidth)});for(var c=!0,d=null!==(r=null===n||void 0===n?void 0:n.start)&&void 0!==r?r:0;d<t.columns.length;)if(i.has(d))d++;else{var u=t.columns[d].wrappedWidth;if(!(c||a>=u))break;c=!1,s.push(d),o.push(t.columns[d]),a-=u,d++}return{colIndexes:s,columns:o,lastIndex:d-1}}function xh(e,t){var n=t.settings,r=n.startY,a=n.margin,i={x:a.left,y:r},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=r+a.bottom+s;"avoid"===n.pageBreak&&(o+=t.body.reduce(function(e,t){return e+t.height},0));var l=new qu(e);("always"===n.pageBreak||null!=n.startY&&o>l.pageSize().height)&&(Ph(l),i.y=a.top),t.callWillDrawPageHooks(l,i);var c=rh({},i);t.startPageNumber=l.pageNumber(),n.horizontalPageBreak?function(e,t,n,r){var a=function(e,t){for(var n=[],r=0;r<t.columns.length;r++){var a=bh(e,t,{start:r});a.columns.length&&(n.push(a),r=a.lastIndex)}return n}(e,t),i=t.settings;if("afterAllRows"===i.horizontalPageBreakBehaviour)a.forEach(function(a,i){e.applyStyles(e.userStyles),i>0?Lh(e,t,n,r,a.columns,!0):wh(e,t,r,a.columns),function(e,t,n,r,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;_h(e,t,i,o,n,r,a)})}(e,t,n,r,a.columns),Nh(e,t,r,a.columns)});else for(var s=-1,o=a[0],l=function(){var i=s;if(o){e.applyStyles(e.userStyles);var l=o.columns;s>=0?Lh(e,t,n,r,l,!0):wh(e,t,r,l),i=jh(e,t,s+1,r,l),Nh(e,t,r,l)}var c=i-s;a.slice(1).forEach(function(a){e.applyStyles(e.userStyles),Lh(e,t,n,r,a.columns,!0),jh(e,t,s+1,r,a.columns,c),Nh(e,t,r,a.columns)}),s=i};s<t.body.length-1;)l()}(l,t,c,i):(l.applyStyles(l.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||t.head.forEach(function(e){return Sh(l,t,e,i,t.columns)}),l.applyStyles(l.userStyles),t.body.forEach(function(e,n){var r=n===t.body.length-1;_h(l,t,e,r,c,i,t.columns)}),l.applyStyles(l.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||t.foot.forEach(function(e){return Sh(l,t,e,i,t.columns)})),Yu(l,t,c,i),t.callEndPageHooks(l,i),t.finalY=i.y,e.lastAutoTable=t,l.applyStyles(l.userStyles)}function wh(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),"firstPage"!==a.showHead&&"everyPage"!==a.showHead||t.head.forEach(function(a){return Sh(e,t,a,n,r)})}function jh(e,t,n,r,a,i){e.applyStyles(e.userStyles),i=null!==i&&void 0!==i?i:t.body.length;var s=Math.min(n+i,t.body.length),o=-1;return t.body.slice(n,s).forEach(function(i,s){var l=n+s===t.body.length-1,c=Ch(e,t,l,r);i.canEntireRowFit(c,a)&&(Sh(e,t,i,r,a),o=n+s)}),o}function Nh(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),"lastPage"!==a.showFoot&&"everyPage"!==a.showFoot||t.foot.forEach(function(a){return Sh(e,t,a,n,r)})}function kh(e,t,n){var r=n.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/r);return Math.max(0,i)}function _h(e,t,n,r,a,i,s){var o=Ch(e,t,r,i);if(n.canEntireRowFit(o,s))Sh(e,t,n,i,s);else if(function(e,t,n,r){var a=e.pageSize().height,i=r.settings.margin,s=a-(i.top+i.bottom);"body"===t.section&&(s-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var o=t.getMinimumRowHeight(r.columns,e),l=o<n;if(o>s)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=t.hasRowSpan(r.columns);return t.getMaxCellHeight(r.columns)>s?(c&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==r.settings.rowPageBreak}(e,n,o,t)){var l=function(e,t,n,r){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=n.columns;s<o.length;s++){var l=o[s];if(v=e.cells[l.index]){Array.isArray(v.text)||(v.text=[v.text]),(f=rh(f=new dh(v.raw,v.styles,v.section),v)).text=[];var c=kh(v,t,r);v.text.length>c&&(f.text=v.text.splice(c,v.text.length));var d=r.scaleFactor(),u=r.getLineHeightFactor();v.contentHeight=v.getContentHeight(d,u),v.contentHeight>=t&&(v.contentHeight=t,f.styles.minCellHeight-=t),v.contentHeight>e.height&&(e.height=v.contentHeight),f.contentHeight=f.getContentHeight(d,u),f.contentHeight>i&&(i=f.contentHeight),a[l.index]=f}}var h=new ch(e.raw,-1,e.section,a,!0);h.height=i;for(var p=0,m=n.columns;p<m.length;p++){var f,v;l=m[p],(f=h.cells[l.index])&&(f.height=h.height),(v=e.cells[l.index])&&(v.height=e.height)}return h}(n,o,t,e);Sh(e,t,n,i,s),Lh(e,t,a,i,s),_h(e,t,l,r,a,i,s)}else Lh(e,t,a,i,s),_h(e,t,n,r,a,i,s)}function Sh(e,t,n,r,a){r.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=n.cells[o.index];if(l)if(e.applyStyles(l.styles),l.x=r.x,l.y=r.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,l,n,o,r)){Ah(e,l,r);var c=l.getTextPos();Uu(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,o,r),r.x+=o.width}else r.x+=o.width;else r.x+=o.width}r.y+=n.height}function Ah(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"===typeof r.lineWidth){var a=Ku(r.lineWidth,r.fillColor);a&&e.rect(t.x,n.y,t.width,t.height,a)}else"object"===typeof r.lineWidth&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),function(e,t,n,r){var a,i,s,o;r.top&&(a=n.x,i=n.y,s=n.x+t.width,o=n.y,r.right&&(s+=.5*r.right),r.left&&(a-=.5*r.left),l(r.top,a,i,s,o));r.bottom&&(a=n.x,i=n.y+t.height,s=n.x+t.width,o=n.y+t.height,r.right&&(s+=.5*r.right),r.left&&(a-=.5*r.left),l(r.bottom,a,i,s,o));r.left&&(a=n.x,i=n.y,s=n.x,o=n.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,a,i,s,o));r.right&&(a=n.x+t.width,i=n.y,s=n.x+t.width,o=n.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,a,i,s,o));function l(t,n,r,a,i){e.getDocument().setLineWidth(t),e.getDocument().line(n,r,a,i,"S")}}(e,t,n,r.lineWidth))}function Ch(e,t,n,r){var a=t.settings.margin.bottom,i=t.settings.showFoot;return("everyPage"===i||"lastPage"===i&&n)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-a}function Lh(e,t,n,r,a,i){void 0===a&&(a=[]),void 0===i&&(i=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||i||t.foot.forEach(function(n){return Sh(e,t,n,r,a)}),t.callEndPageHooks(e,r);var s=t.settings.margin;Yu(e,t,n,r),Ph(e),t.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,t.callWillDrawPageHooks(e,r),"everyPage"===t.settings.showHead&&(t.head.forEach(function(n){return Sh(e,t,n,r,a)}),e.applyStyles(e.userStyles))}function Ph(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}function Eh(e,t){xh(e,fh(e,ah(e,t)))}try{if("undefined"!==typeof window&&window){var Fh=window,Th=Fh.jsPDF||(null===(ih=Fh.jspdf)||void 0===ih?void 0:ih.jsPDF);Th&&function(e){e.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xh(this,fh(this,ah(this,e[0]))),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(e,t,n,r){Uu(e,t,n,r,this)},e.API.autoTableSetDefaults=function(e){return qu.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){qu.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var n;if(void 0===t&&(t=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=eh(new qu(this),e,window,t,!1),a=r.head,i=r.body,s=(null===(n=a[0])||void 0===n?void 0:n.map(function(e){return e.content}))||[];return{columns:s,rows:i,data:i}}}(Th)}}catch(a_){console.error("Could not apply autoTable plugin",a_)}const Rh="http://localhost:5000".replace(/\/$/,""),Dh=["moderate_feedback","cc_view_feedback","cc_respond_feedback","cc_manage_returns","manage_feedback","feedback_moderation"],Oh="admin-reviews-report-cache",Ih=e=>{if(!e)return"";const t=e.replace(/\\/g,"/");if(/^https?:\/\//i.test(t))return t;const n=t.startsWith("/")?t:"/".concat(t);return"".concat(Rh).concat(n)};function Mh(e){let{review:t,onReply:n,onVisibilityChange:r,onDeleteReview:a,onDeleteReply:s,onUpdateReply:o,onTogglePin:l,busyReviewId:c,busyReplyKey:d}=e;const{user:u,token:h}=Ae(),p=te(),[m,f]=(0,i.useState)(!1),[v,g]=(0,i.useState)(""),[y,b]=(0,i.useState)([]),[x,w]=(0,i.useState)(!1),[j,N]=(0,i.useState)(""),[k,_]=(0,i.useState)(null),[S,A]=(0,i.useState)(""),[C,L]=(0,i.useState)([]),[P,E]=(0,i.useState)([]),[F,T]=(0,i.useState)(!1),[R,D]=(0,i.useState)(""),O=c===t._id,I=!!t.isPinned,M=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=()=>{_(null),A(""),L([]),E([]),T(!1),D("")},U=e=>{const t=Array.from(e.target.files);if(0===t.length)return;if(P.length+C.length+t.length>3)return void D("You can upload a maximum of 3 images");const n=t.filter(e=>e.type.startsWith("image/")?!(e.size>5242880)||(D("Each image must be less than 5MB"),!1):(D("Only image files are allowed"),!1));L(e=>[...e,...n]),D("")},z=e=>{e.target.closest("button")||e.target.closest("input")||e.target.closest("textarea")||e.target.closest("form")||e.target.closest("a")||e.target.closest(".review-image")||t.targetId&&"Product"===t.targetType&&p("/product/".concat(t.targetId,"/reviews"))};return(0,_e.jsxs)("div",{className:"admin-review-card ".concat("hidden"===t.status?"hidden-review":""," ").concat(I?"pinned-review":""),onClick:z,style:{cursor:t.targetId?"pointer":"default"},role:t.targetId?"button":void 0,tabIndex:t.targetId?0:void 0,onKeyDown:t.targetId?e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),z(e))}:void 0,children:[(0,_e.jsxs)("div",{className:"review-header",children:[(0,_e.jsxs)("div",{className:"reviewer-info",children:[(0,_e.jsx)("h3",{children:t.userName||"Anonymous User"}),(0,_e.jsxs)("p",{className:"review-meta",children:[M(t.createdAt)," \u2022 Product: ",t.targetName,t.targetId&&"Product"===t.targetType&&(0,_e.jsx)("span",{className:"click-hint",children:" \u2022 Click to view all reviews \u2192"})]})]}),(0,_e.jsxs)("div",{className:"review-rating",children:[(0,_e.jsx)(Jr,{value:t.rating,readOnly:!0}),(0,_e.jsxs)("span",{className:"rating-number",children:[t.rating,"/5"]}),I&&(0,_e.jsx)("span",{className:"pin-badge","aria-label":"Pinned review",children:"\ud83d\udccc Pinned"})]})]}),t.title&&(0,_e.jsx)("h4",{className:"review-title",children:t.title}),(0,_e.jsx)("p",{className:"review-comment",children:t.comment}),t.images&&t.images.length>0&&(0,_e.jsx)("div",{className:"review-images",children:t.images.map((e,n)=>(0,_e.jsx)("img",{src:Ih(e),alt:"".concat(t.userName||"Customer"," attachment ").concat(n+1),className:"review-image",onClick:()=>window.open(Ih(e),"_blank")},n))}),t.replies&&t.replies.length>0&&(0,_e.jsxs)("div",{className:"existing-replies",children:[(0,_e.jsx)("h5",{children:"Previous Responses:"}),t.replies.map((e,n)=>{var r,a,i;return(0,_e.jsxs)("div",{className:"admin-reply",children:[(0,_e.jsxs)("div",{className:"reply-header",children:[(0,_e.jsx)("span",{className:"admin-name",children:e.adminName||"Admin"}),(0,_e.jsx)("span",{className:"reply-date",children:M(e.createdAt)}),(null===(r=e.admin)||void 0===r||null===(a=r.toString)||void 0===a?void 0:a.call(r))===(null===u||void 0===u||null===(i=u._id)||void 0===i?void 0:i.toString())&&(0,_e.jsxs)("div",{className:"reply-actions",children:[(0,_e.jsx)("button",{type:"button",className:"reply-edit",onClick:()=>k===e._id?B():(e=>{_(e._id),A(e.message||""),E(Array.isArray(e.images)?e.images:[]),L([]),D("")})(e),disabled:d&&d.startsWith("".concat(t._id,":").concat(e._id))||F,children:k===e._id?"Cancel edit":"Edit"}),(0,_e.jsx)("button",{type:"button",className:"reply-delete",onClick:()=>null===s||void 0===s?void 0:s(t._id,e._id),disabled:d&&d.startsWith("".concat(t._id,":").concat(e._id)),children:d==="".concat(t._id,":").concat(e._id)?"Removing\u2026":"Delete"})]})]}),k===e._id?(0,_e.jsxs)("form",{className:"reply-edit-form",onSubmit:n=>(async(e,n)=>{if(e.preventDefault(),S.trim()){T(!0),D("");try{await(null===o||void 0===o?void 0:o(t._id,n,S,P,C)),B()}catch(a_){var r,a;const t=(null===a_||void 0===a_||null===(r=a_.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to update reply";D(t)}finally{T(!1)}}else D("Reply message is required")})(n,e._id),children:[(0,_e.jsx)("textarea",{value:S,onChange:e=>A(e.target.value),placeholder:"Update your response...",rows:4,maxLength:2e3,required:!0}),(0,_e.jsxs)("small",{children:[S.length,"/2000 characters"]}),(0,_e.jsxs)("div",{className:"form-group",children:[(0,_e.jsx)("label",{htmlFor:"edit-reply-images-".concat(e._id),children:"Attachments"}),P.length>0&&(0,_e.jsx)("div",{className:"image-previews existing-images",children:P.map(e=>(0,_e.jsxs)("div",{className:"image-preview",children:[(0,_e.jsx)("img",{src:Ih(e),alt:"Existing attachment"}),(0,_e.jsx)("button",{type:"button",onClick:()=>(e=>{E(t=>t.filter(t=>t!==e))})(e),className:"remove-image","aria-label":"Remove existing attachment",children:"\xd7"})]},e))}),C.length>0&&(0,_e.jsx)("div",{className:"image-previews",children:C.map((e,t)=>(0,_e.jsxs)("div",{className:"image-preview",children:[(0,_e.jsx)("img",{src:URL.createObjectURL(e),alt:"Selected attachment ".concat(t+1)}),(0,_e.jsx)("button",{type:"button",onClick:()=>(e=>{L(t=>t.filter((t,n)=>n!==e))})(t),className:"remove-image","aria-label":"Remove selected attachment",children:"\xd7"})]},t))}),(0,_e.jsx)("input",{id:"edit-reply-images-".concat(e._id),type:"file",multiple:!0,accept:"image/*",onChange:U,disabled:P.length+C.length>=3}),(0,_e.jsx)("small",{children:"You can keep or upload up to 3 images (max 5MB each)"})]}),R&&(0,_e.jsx)("div",{className:"error-message",children:(0,_e.jsx)("p",{children:R})}),(0,_e.jsxs)("div",{className:"form-actions",children:[(0,_e.jsx)("button",{type:"button",onClick:B,className:"btn-cancel",disabled:F||d&&d.startsWith("".concat(t._id,":").concat(e._id)),children:"Cancel"}),(0,_e.jsx)("button",{type:"submit",className:"btn-submit",disabled:F||d&&d.startsWith("".concat(t._id,":").concat(e._id))||!S.trim(),children:d==="".concat(t._id,":").concat(e._id,":edit")||F?"Saving\u2026":"Save changes"})]})]}):(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("p",{className:"reply-message",children:e.message}),(e.editedAt||e.updatedAt&&e.updatedAt!==e.createdAt)&&(0,_e.jsxs)("span",{className:"reply-edited",children:["Edited ",M(e.editedAt||e.updatedAt)]}),e.images&&e.images.length>0&&(0,_e.jsx)("div",{className:"reply-images",children:e.images.map((e,t)=>(0,_e.jsx)("img",{src:Ih(e),alt:"Admin reply attachment ".concat(t+1),className:"reply-image",onClick:()=>window.open(Ih(e),"_blank")},t))})]})]},e._id||n)})]}),(0,_e.jsxs)("div",{className:"admin-actions",children:[(0,_e.jsx)("button",{onClick:()=>f(!m),className:"btn-reply",disabled:x,children:m?"Cancel Reply":"Reply to Review"}),(0,_e.jsx)("button",{onClick:()=>(async e=>{try{const n={Authorization:"Bearer ".concat(h),"x-user-id":u._id,"x-user-role":u.role,"x-user-name":u.name};await Rr.post("".concat(Rh,"/api/reviews/").concat(t._id,"/visibility"),{action:e},{headers:n}),r(t._id,"hide"===e?"hidden":"public")}catch(n_){var n,a;N((null===n_||void 0===n_||null===(n=n_.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to update visibility")}})("public"===t.status?"hide":"unhide"),className:"btn-visibility ".concat("hidden"===t.status?"btn-unhide":"btn-hide"),disabled:x||O,children:"hidden"===t.status?"Show Review":"Hide Review"}),(0,_e.jsx)("button",{onClick:()=>null===l||void 0===l?void 0:l(t),className:"btn-pin ".concat(I?"active":""),disabled:x||O,children:I?"Unpin review":"Pin to top"}),(0,_e.jsx)("button",{onClick:()=>null===a||void 0===a?void 0:a(t._id),className:"btn-delete",disabled:x||O,children:O?"Working\u2026":"Delete review"})]}),m&&(0,_e.jsxs)("div",{className:"reply-form",children:[(0,_e.jsx)("h5",{children:"Reply to this review:"}),(0,_e.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v.trim()){w(!0),N("");try{const e={Authorization:"Bearer ".concat(h),"x-user-id":u._id,"x-user-role":u.role,"x-user-name":u.name},r=new FormData;r.append("message",v),y.forEach(e=>{r.append("images",e)}),await Rr.post("".concat(Rh,"/api/reviews/").concat(t._id,"/replies"),r,{headers:e}),n(t._id),g(""),b([]),f(!1)}catch(e){var r,a;N((null===e||void 0===e||null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to submit reply")}finally{w(!1)}}else N("Reply message is required")},children:[(0,_e.jsx)("textarea",{value:v,onChange:e=>g(e.target.value),placeholder:"Write your response...",rows:4,maxLength:2e3,required:!0}),(0,_e.jsxs)("small",{children:[v.length,"/2000 characters"]}),(0,_e.jsxs)("div",{className:"form-group",children:[(0,_e.jsx)("label",{htmlFor:"reply-images",children:"Add Images (Optional)"}),(0,_e.jsx)("input",{id:"reply-images",type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files);if(t.length+y.length>3)return void N("You can upload a maximum of 3 images");const n=t.filter(e=>e.type.startsWith("image/")?!(e.size>5242880)||(N("Each image must be less than 5MB"),!1):(N("Only image files are allowed"),!1));b(e=>[...e,...n]),N("")},disabled:y.length>=3}),(0,_e.jsx)("small",{children:"You can upload up to 3 images (max 5MB each)"}),y.length>0&&(0,_e.jsx)("div",{className:"image-previews",children:y.map((e,t)=>(0,_e.jsxs)("div",{className:"image-preview",children:[(0,_e.jsx)("img",{src:URL.createObjectURL(e),alt:"Selected attachment ".concat(t+1)}),(0,_e.jsx)("button",{type:"button",onClick:()=>(e=>{b(t=>t.filter((t,n)=>n!==e))})(t),className:"remove-image",children:"\xd7"})]},t))})]}),j&&(0,_e.jsx)("div",{className:"error-message",children:(0,_e.jsx)("p",{children:j})}),(0,_e.jsxs)("div",{className:"form-actions",children:[(0,_e.jsx)("button",{type:"button",onClick:()=>{f(!1),g(""),b([]),N("")},className:"btn-cancel",disabled:x,children:"Cancel"}),(0,_e.jsx)("button",{type:"submit",className:"btn-submit",disabled:x||!v.trim(),children:x?"Sending...":"Send Reply"})]})]})]})]})}function Bh(){const{user:e,token:t}=Ae(),[n,r]=(0,i.useState)([]),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(1),[u,h]=(0,i.useState)(1),[p,m]=(0,i.useState)("all"),[f,v]=(0,i.useState)(""),[g,y]=(0,i.useState)(""),[b,x]=(0,i.useState)(null),[w,j]=(0,i.useState)(null),[N,k]=(0,i.useState)(""),[_,S]=(0,i.useState)(""),[A,C]=(0,i.useState)(!1),[L,P]=(0,i.useState)(""),[E,F]=(0,i.useState)(null),T=(0,i.useRef)(p);(0,i.useEffect)(()=>{if("undefined"!==typeof window)try{const e=window.localStorage.getItem(Oh);if(!e)return;const t=JSON.parse(e);if(null===t||void 0===t||!t.report)return void window.localStorage.removeItem(Oh);if(console.log("\ud83d\udce6 Restoring cached report from storage"),F(t.report),P(""),t.filters&&(t.filters.from&&k(t.filters.from),t.filters.to&&S(t.filters.to),t.filters.status)){const e=String(t.filters.status);e&&e!==T.current&&(T.current=e,m(e))}}catch(e){console.error("\u26a0\ufe0f Failed to restore report cache:",e),window.localStorage.removeItem(Oh)}},[]);const R=(0,i.useMemo)(()=>String((null===e||void 0===e?void 0:e.role)||"").toLowerCase(),[null===e||void 0===e?void 0:e.role]),D=(0,i.useMemo)(()=>new Set(((null===e||void 0===e?void 0:e.permissions)||[]).map(e=>String(e||"").toLowerCase())),[null===e||void 0===e?void 0:e.permissions]),O=(0,i.useMemo)(()=>!(null===e||void 0===e||!e._id)&&("admin"===R||(!(!R.includes("care")&&!R.includes("support"))||(!(!R.includes("feedback")&&"feedback manager"!==R)||("customer care manager"===R||Dh.some(e=>D.has(e.toLowerCase())))))),[null===e||void 0===e?void 0:e._id,R,D]);(0,i.useEffect)(()=>{const e=setTimeout(()=>y(f.trim()),300);return()=>clearTimeout(e)},[f]),(0,i.useEffect)(()=>{L&&P("")},[N,_]),(0,i.useEffect)(()=>{T.current!==p&&(console.log("\ud83d\udd04 Status filter changed from",T.current,"to",p,"- clearing report"),F(null),P(""),"undefined"!==typeof window&&window.localStorage.removeItem(Oh),T.current=p)},[p]);const I=(0,i.useCallback)(e=>{if(!e)return"\u2014";try{return new Date(e).toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"})}catch(a_){return String(e)}},[]),M=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:140;if(!e)return"\u2014";const n=String(e).trim();return n.length<=t?n:"".concat(n.slice(0,t-1),"\u2026")},[]),B=(0,i.useMemo)(()=>{if(null===E||void 0===E||!E.range)return"entire history";const e=E.range.from?new Date(E.range.from):null,t=E.range.to?new Date(E.range.to):null,n=e?e.toLocaleDateString("en-US",{dateStyle:"medium"}):"start",r=t?t.toLocaleDateString("en-US",{dateStyle:"medium"}):"today";return"".concat(n," \u2192 ").concat(r)},[null===E||void 0===E?void 0:E.range]),U=(0,i.useMemo)(()=>!!E&&Number(E.totalMatched||0)>Number(E.dataCount||0),[E]),z=(0,i.useCallback)(e=>[...e].sort((e,t)=>{const n=e.isPinned?1:0,r=t.isPinned?1:0;if(n!==r)return r-n;const a=e.isPinned&&e.pinnedAt?new Date(e.pinnedAt):new Date(e.createdAt);return(t.isPinned&&t.pinnedAt?new Date(t.pinnedAt):new Date(t.createdAt))-a}),[]),q=(0,i.useCallback)(async()=>{try{s(!0),l("");const n={Authorization:"Bearer ".concat(t),"x-user-id":e._id,"x-user-role":e.role,"x-user-name":e.name},a=new URLSearchParams({page:c.toString(),limit:"10"});"all"!==p&&a.append("status",p),g&&a.append("q",g);const i=await Rr.get("".concat(Rh,"/api/reviews?").concat(a.toString()),{headers:n});r(z(i.data.data||[])),h(i.data.pages||1)}catch(n_){var n,a;l((null===n_||void 0===n_||null===(n=n_.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to load reviews"),r([])}finally{s(!1)}},[t,e,c,p,g,z]);(0,i.useEffect)(()=>{if(!O)return l("Access denied. Feedback moderation privileges required."),void s(!1);l(""),q()},[e,O,q]);const V=()=>{q()},H=()=>({Authorization:"Bearer ".concat(t),"x-user-id":e._id,"x-user-role":e.role,"x-user-name":e.name}),W=()=>{if(null!==E&&void 0!==E&&E.data&&0!==E.data.length)try{var e,t;console.log("\ud83d\udcca Starting CSV export with",E.data.length,"rows");const n=e=>{if(null===e||void 0===e)return"";let t=String(e).replace(/\r?\n|\r/g," ").trim();return t.includes('"')&&(t=t.replace(/"/g,'""')),(t.includes(",")||t.includes(";"))&&(t='"'.concat(t,'"')),t},r=[["Review ID","Review #","Created At","Target Type","Target Name","Target Identifier","Status","Rating","Reviewer Name","Reviewer ID","Title","Comment","Reply Count","Pinned"],...E.data.map(e=>{var t,n,r;return[e.id||"",null!==(t=e.reviewNo)&&void 0!==t?t:"",e.createdAt||"",e.targetType||"",e.targetName||"",e.targetId||e.targetKey||"",e.status||"",null!==(n=e.rating)&&void 0!==n?n:"",e.userName||"",e.userId||"",e.title||"",e.comment||"",null!==(r=e.replyCount)&&void 0!==r?r:0,e.isPinned?"Yes":"No"]})].map(e=>e.map(n).join(",")).join("\r\n"),a=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=window.URL.createObjectURL(a),s=null!==E&&void 0!==E&&null!==(e=E.range)&&void 0!==e&&e.from?E.range.from.slice(0,10):"start",o=null!==E&&void 0!==E&&null!==(t=E.range)&&void 0!==t&&t.to?E.range.to.slice(0,10):"today",l="review-report-".concat(s,"-").concat(o,".csv");console.log("\ud83d\udcbe Downloading CSV file:",l);const c=document.createElement("a");c.href=i,c.setAttribute("download",l),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(i),console.log("\u2705 CSV export completed successfully")}catch(a_){console.error("\u274c CSV export failed:",a_);const t=(null===a_||void 0===a_?void 0:a_.message)||"Failed to export report data.";P(t)}else P("No report data to export. Generate a report first.")},G=()=>{if(console.log("\ud83d\udcc4 exportReportPdf called"),console.log("\ud83d\udcc4 Report state:",E),null===E||void 0===E||!E.data||0===E.data.length)return console.error("\u274c No report or report.data"),void P("No report data to export. Generate a report first.");try{var e,t,n,r,a,i,s,o,l,c,d;console.log("\ud83d\udcc4 Starting PDF export with",E.data.length,"rows"),console.log("\ud83d\udcc4 jsPDF available:",typeof Gc);const p=new Gc("landscape","pt","a4");console.log("\ud83d\udcc4 jsPDF instance created"),p.setFontSize(18),p.setFont(void 0,"bold"),p.text("Review & Feedback Report",40,40),console.log("\ud83d\udcc4 Title added"),p.setFontSize(11),p.setFont(void 0,"normal"),p.text("Report Period: ".concat(B),40,60),p.text("Generated: ".concat((new Date).toLocaleString("en-US")),40,75),console.log("\ud83d\udcc4 Date range added");let m=95;p.setFontSize(12),p.setFont(void 0,"bold"),p.text("Summary",40,m),m+=20,p.setFontSize(10),p.setFont(void 0,"normal");["Total Reviews: ".concat(E.totalMatched||0),"Average Rating: ".concat(null!=E.averageRating?E.averageRating.toFixed(2):"\u2014"),"Rating Range: ".concat(null!==(e=E.minRating)&&void 0!==e?e:"\u2014"," \u2013 ").concat(null!==(t=E.maxRating)&&void 0!==t?t:"\u2014"),"Public: ".concat(null!==(n=null===(r=E.statusBreakdown)||void 0===r?void 0:r.public)&&void 0!==n?n:0," | Hidden: ").concat(null!==(a=null===(i=E.statusBreakdown)||void 0===i?void 0:i.hidden)&&void 0!==a?a:0," | Deleted: ").concat(null!==(s=null===(o=E.statusBreakdown)||void 0===o?void 0:o.deleted)&&void 0!==s?s:0)].forEach(e=>{p.text(e,40,m),m+=15}),console.log("\ud83d\udcc4 Summary metrics added"),m+=10,p.setFontSize(12),p.setFont(void 0,"bold"),p.text("Rating Distribution",40,m),m+=20,p.setFontSize(10),p.setFont(void 0,"normal");for(let e=5;e>=1;e--){var u,h;p.text("\u2605 ".concat(e,": ").concat(null!==(u=null===(h=E.ratingDistribution)||void 0===h?void 0:h[e])&&void 0!==u?u:0),40,m),m+=15}console.log("\ud83d\udcc4 Rating distribution added"),null!==(l=E.topTargets)&&void 0!==l&&l.length&&(m+=10,p.setFontSize(12),p.setFont(void 0,"bold"),p.text("Most Reviewed Items",40,m),m+=20,p.setFontSize(10),p.setFont(void 0,"normal"),E.topTargets.slice(0,5).forEach((e,t)=>{var n,r;const a="".concat(t+1,". ").concat(e.targetName||"Unnamed"," (").concat(e.count," reviews, avg ").concat(null!==(n=null===(r=e.averageRating)||void 0===r?void 0:r.toFixed(2))&&void 0!==n?n:"\u2014",")");p.text(a,40,m),m+=15}),console.log("\ud83d\udcc4 Top targets added")),console.log("\ud83d\udcc4 Adding new page for table"),p.addPage(),p.setFontSize(14),p.setFont(void 0,"bold"),p.text("Detailed Review List",40,40);const f=E.data.map(e=>[e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US"):"\u2014",(e.userName||"Anonymous").substring(0,20),null!=e.rating?"".concat(e.rating,"/5"):"\u2014",(e.status||"unknown").substring(0,10),(e.targetName||"\u2014").substring(0,30),(e.title||"\u2014").substring(0,30),(e.comment||"\u2014").substring(0,60)]);console.log("\ud83d\udcc4 Table data prepared:",f.length,"rows"),console.log("\ud83d\udcc4 Calling autoTable..."),console.log("\ud83d\udcc4 autoTable type:",typeof Eh),Eh(p,{startY:60,head:[["Date","Reviewer","Rating","Status","Product","Title","Comment"]],body:f,styles:{fontSize:8,cellPadding:4},headStyles:{fillColor:[66,139,202],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:40,right:40}}),console.log("\ud83d\udcc4 autoTable completed");const v=null!==E&&void 0!==E&&null!==(c=E.range)&&void 0!==c&&c.from?E.range.from.slice(0,10):"start",g=null!==E&&void 0!==E&&null!==(d=E.range)&&void 0!==d&&d.to?E.range.to.slice(0,10):"today",y="review-report-".concat(v,"-").concat(g,".pdf");console.log("\ud83d\udcbe Downloading PDF file:",y),console.log("\ud83d\udcbe doc.save type:",typeof p.save),p.save(y),console.log("\u2705 PDF export completed successfully")}catch(a_){console.error("\u274c PDF export failed:",a_),console.error("\u274c Error name:",a_.name),console.error("\u274c Error message:",a_.message),console.error("\u274c Error stack:",a_.stack);const t=(null===a_||void 0===a_?void 0:a_.message)||"Failed to export PDF report.";P(t)}},Y=async e=>{if(window.confirm("Delete this review?")){x(e),l("");try{await Rr.delete("".concat(Rh,"/api/reviews/").concat(e),{headers:H()}),r(t=>z(t.filter(t=>t._id!==e)))}catch(n_){var t,n;l((null===n_||void 0===n_||null===(t=n_.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to delete review")}finally{x(null)}}},K=async(e,t)=>{if(!window.confirm("Delete this reply?"))return;const n="".concat(e,":").concat(t);j(n),l("");try{await Rr.delete("".concat(Rh,"/api/reviews/").concat(e,"/replies/").concat(t),{headers:H()}),r(n=>z(n.map(n=>{if(n._id!==e)return n;const r=(n.replies||[]).filter(e=>e._id!==t);return ke(ke({},n),{},{replies:r,replyCount:r.length})})))}catch(n_){var a,i;l((null===n_||void 0===n_||null===(a=n_.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Failed to delete reply")}finally{j(null)}},$=async(e,t,n,a,i)=>{const s="".concat(e,":").concat(t,":edit");j(s),l("");try{var o;const s=H(),l=new FormData;l.append("message",n),l.append("retainImages",JSON.stringify(a)),(i||[]).forEach(e=>{l.append("images",e)});const c=await Rr.patch("".concat(Rh,"/api/reviews/").concat(e,"/replies/").concat(t),l,{headers:s}),d=(null===(o=c.data)||void 0===o?void 0:o.review)||c.data;d&&d._id?r(t=>z(t.map(t=>t._id===e?d:t))):await q()}catch(n_){var c,d;throw l((null===n_||void 0===n_||null===(c=n_.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message)||"Failed to update reply"),n_}finally{j(null)}},J=async e=>{x(e._id),l("");try{const t=e.isPinned?"unpin":"pin",n=(await Rr.post("".concat(Rh,"/api/reviews/").concat(e._id,"/pin"),{action:t},{headers:H()})).data;r(t=>z(t.map(t=>t._id===e._id?ke(ke({},t),n):t)))}catch(n_){var t,n;l((null===n_||void 0===n_||null===(t=n_.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to update pin")}finally{x(null)}},X=(e,t)=>{r(n=>z(n.map(n=>n._id===e?ke(ke({},n),{},{status:t,isPinned:"hidden"!==t&&n.isPinned}):n)))};return O?a?(0,_e.jsx)("div",{className:"admin-reviews-container",children:(0,_e.jsx)("div",{className:"loading",children:"Loading reviews..."})}):(0,_e.jsxs)("div",{className:"admin-reviews-container",children:[(0,_e.jsxs)("div",{className:"admin-reviews-header",children:[(0,_e.jsx)("h1",{children:"Customer Reviews Management"}),(0,_e.jsx)("p",{children:"Manage customer reviews, reply to feedback, and moderate content"})]}),(0,_e.jsxs)("div",{className:"reviews-controls",children:[(0,_e.jsxs)("div",{className:"filter-section",children:[(0,_e.jsx)("label",{htmlFor:"status-filter",children:"Filter by status"}),(0,_e.jsxs)("select",{id:"status-filter",value:p,onChange:e=>{m(e.target.value),d(1)},className:"status-filter",children:[(0,_e.jsx)("option",{value:"all",children:"All reviews"}),(0,_e.jsx)("option",{value:"public",children:"Public reviews"}),(0,_e.jsx)("option",{value:"hidden",children:"Hidden reviews"})]})]}),(0,_e.jsxs)("div",{className:"search-section",children:[(0,_e.jsx)("label",{htmlFor:"review-search",children:"Search"}),(0,_e.jsxs)("div",{className:"search-input",children:[(0,_e.jsx)("span",{"aria-hidden":"true",children:"\ud83d\udd0d"}),(0,_e.jsx)("input",{id:"review-search",type:"search",placeholder:"Search by name, review ID, or text\u2026",value:f,onChange:e=>{v(e.target.value),d(1)}})]})]}),(0,_e.jsxs)("div",{className:"report-controls",children:[(0,_e.jsx)("label",{htmlFor:"report-from",children:"Date range"}),(0,_e.jsxs)("div",{className:"report-range-inputs",children:[(0,_e.jsx)("input",{id:"report-from",type:"date",value:N,max:_||void 0,onChange:e=>k(e.target.value)}),(0,_e.jsx)("span",{children:"to"}),(0,_e.jsx)("input",{id:"report-to",type:"date",value:_,min:N||void 0,onChange:e=>S(e.target.value)})]}),(0,_e.jsxs)("div",{className:"report-actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn-report",onClick:async()=>{if(O){if(N&&_){if(new Date(N)>new Date(_))return void P("Start date cannot be later than the end date.")}try{var e,t;C(!0),P("");const n=new URLSearchParams;N&&n.append("from",N),_&&n.append("to",_),n.append("status",p),console.log("\ud83d\udd0d Generating report with params:",n.toString()),console.log("\ud83d\udce1 API URL:","".concat(Rh,"/api/reviews/report"));const r=await Rr.get("".concat(Rh,"/api/reviews/report?").concat(n.toString()),{headers:H()});if(console.log("\u2705 Report generated successfully:",r.data),console.log("\ud83d\udcca Report has",(null===(e=r.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)||0,"reviews"),console.log("\ud83d\udce6 Setting report state..."),F(r.data),console.log("\u2705 Report state set successfully"),"undefined"!==typeof window){const e={report:r.data,filters:{from:N||"",to:_||"",status:p},savedAt:(new Date).toISOString()};window.localStorage.setItem(Oh,JSON.stringify(e)),console.log("\ud83d\udcbe Report cached to localStorage")}}catch(a_){var n,r;console.error("\u274c Report generation failed:",a_),console.error("Error response:",null===a_||void 0===a_?void 0:a_.response);const t=(null===a_||void 0===a_||null===(n=a_.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||(null===a_||void 0===a_?void 0:a_.message)||"Failed to generate report.";P(t),F(null),"undefined"!==typeof window&&window.localStorage.removeItem(Oh)}finally{C(!1)}}else P("Access denied. Feedback moderation privileges required.")},disabled:A,children:A?"Generating\u2026":"Generate report"}),E&&(0,_e.jsx)("button",{type:"button",className:"btn-report-secondary",onClick:()=>{console.log("\ud83d\uddd1\ufe0f Clearing report"),F(null),P(""),"undefined"!==typeof window&&window.localStorage.removeItem(Oh)},disabled:A,children:"Clear"}),((e,t)=>{const n=(null===E||void 0===E||null===(e=E.data)||void 0===e?void 0:e.length)>0;return console.log("\ud83d\udd0d Export buttons check:",{reportExists:!!E,hasData:n,dataLength:null===E||void 0===E||null===(t=E.data)||void 0===t?void 0:t.length,reportKeys:E?Object.keys(E):[]}),n?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("button",{type:"button",className:"btn-report-export",onClick:W,disabled:A,children:"Export CSV"}),(0,_e.jsx)("button",{type:"button",className:"btn-report-export-pdf",onClick:G,disabled:A,children:"Export PDF"})]}):null})()]}),L&&(0,_e.jsx)("p",{className:"report-error",role:"alert",children:L})]})]}),A&&(0,_e.jsx)("div",{className:"report-loading",role:"status",children:"Generating report\u2026"}),((e,t,n,r,a,i,s,o,l,c,d,u,h,p,m,f,v,g)=>{const y=E&&!A;return console.log("\ud83d\uddbc\ufe0f Report summary check:",{report:!!E,reportLoading:A,shouldShowReport:y,totalMatched:null===E||void 0===E?void 0:E.totalMatched,dataCount:null===E||void 0===E?void 0:E.dataCount}),y?(0,_e.jsxs)("section",{className:"report-summary-section","aria-live":"polite",children:[(0,_e.jsx)("div",{className:"report-summary-header",children:(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h2",{children:"Review & feedback report"}),(0,_e.jsxs)("p",{children:["Showing ",E.totalMatched||0," review",1===(E.totalMatched||0)?"":"s"," for ",B,"."]}),U&&(0,_e.jsxs)("p",{className:"report-note",children:["Showing the most recent ",E.dataCount," entries. Refine the date range to view the remaining results."]})]})}),(0,_e.jsxs)("div",{className:"report-card-grid",children:[(0,_e.jsxs)("article",{className:"report-card",children:[(0,_e.jsx)("span",{className:"report-card-label",children:"Total reviews"}),(0,_e.jsx)("strong",{className:"report-card-value",children:E.totalMatched||0}),(0,_e.jsxs)("span",{className:"report-card-sub",children:["Data rows returned: ",E.dataCount]})]}),(0,_e.jsxs)("article",{className:"report-card",children:[(0,_e.jsx)("span",{className:"report-card-label",children:"Average rating"}),(0,_e.jsx)("strong",{className:"report-card-value",children:null!=E.averageRating?"".concat(E.averageRating.toFixed(2)):"\u2014"}),(0,_e.jsxs)("span",{className:"report-card-sub",children:["Range ",null!=E.minRating?E.minRating:"\u2014"," \u2013 ",null!=E.maxRating?E.maxRating:"\u2014"]})]}),(0,_e.jsxs)("article",{className:"report-card",children:[(0,_e.jsx)("span",{className:"report-card-label",children:"Status breakdown"}),(0,_e.jsxs)("ul",{className:"report-card-list",children:[(0,_e.jsxs)("li",{children:["Public: ",null!==(e=null===(t=E.statusBreakdown)||void 0===t?void 0:t.public)&&void 0!==e?e:0]}),(0,_e.jsxs)("li",{children:["Hidden: ",null!==(n=null===(r=E.statusBreakdown)||void 0===r?void 0:r.hidden)&&void 0!==n?n:0]}),(0,_e.jsxs)("li",{children:["Deleted: ",null!==(a=null===(i=E.statusBreakdown)||void 0===i?void 0:i.deleted)&&void 0!==a?a:0]})]})]}),(0,_e.jsxs)("article",{className:"report-card",children:[(0,_e.jsx)("span",{className:"report-card-label",children:"Rating mix"}),(0,_e.jsxs)("ul",{className:"report-card-list",children:[(0,_e.jsxs)("li",{children:["\u2b50 5: ",null!==(s=null===(o=E.ratingDistribution)||void 0===o?void 0:o[5])&&void 0!==s?s:0]}),(0,_e.jsxs)("li",{children:["\u2b50 4: ",null!==(l=null===(c=E.ratingDistribution)||void 0===c?void 0:c[4])&&void 0!==l?l:0]}),(0,_e.jsxs)("li",{children:["\u2b50 3: ",null!==(d=null===(u=E.ratingDistribution)||void 0===u?void 0:u[3])&&void 0!==d?d:0]}),(0,_e.jsxs)("li",{children:["\u2b50 2: ",null!==(h=null===(p=E.ratingDistribution)||void 0===p?void 0:p[2])&&void 0!==h?h:0]}),(0,_e.jsxs)("li",{children:["\u2b50 1: ",null!==(m=null===(f=E.ratingDistribution)||void 0===f?void 0:f[1])&&void 0!==m?m:0]})]})]})]}),null!==(v=E.topTargets)&&void 0!==v&&v.length?(0,_e.jsxs)("div",{className:"report-top-targets",children:[(0,_e.jsx)("h3",{children:"Most-reviewed items"}),(0,_e.jsx)("ul",{children:E.topTargets.map((e,t)=>{const n="".concat(e.targetType||"item","-").concat(e.targetId||e.targetKey||t);return(0,_e.jsxs)("li",{children:[(0,_e.jsx)("div",{className:"target-name",children:e.targetName||"Unnamed target"}),(0,_e.jsxs)("div",{className:"target-meta",children:[e.targetType||"Target"," \u2022 ",e.count," review",1===e.count?"":"s",null!=e.averageRating&&(0,_e.jsxs)("span",{children:[" \u2022 Avg ",e.averageRating.toFixed(2)]})]})]},n)})})]}):null,(0,_e.jsx)("div",{className:"report-table",role:"region","aria-live":"polite",children:(0,_e.jsxs)("table",{children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{scope:"col",children:"Created"}),(0,_e.jsx)("th",{scope:"col",children:"Reviewer"}),(0,_e.jsx)("th",{scope:"col",children:"Rating"}),(0,_e.jsx)("th",{scope:"col",children:"Status"}),(0,_e.jsx)("th",{scope:"col",children:"Target"}),(0,_e.jsx)("th",{scope:"col",children:"Title"}),(0,_e.jsx)("th",{scope:"col",children:"Comment"})]})}),(0,_e.jsx)("tbody",{children:null!==(g=E.data)&&void 0!==g&&g.length?E.data.map(e=>(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:I(e.createdAt)}),(0,_e.jsxs)("td",{children:[(0,_e.jsx)("div",{className:"report-cell-main",children:e.userName||"Anonymous"}),(0,_e.jsx)("div",{className:"report-cell-sub",children:e.userId||"\u2014"})]}),(0,_e.jsx)("td",{children:null!=e.rating?"".concat(e.rating,"/5"):"\u2014"}),(0,_e.jsx)("td",{children:(0,_e.jsx)("span",{className:"report-status report-status-".concat(e.status||"unknown"),children:e.status||"unknown"})}),(0,_e.jsxs)("td",{children:[(0,_e.jsx)("div",{className:"report-cell-main",children:e.targetName||"\u2014"}),(0,_e.jsxs)("div",{className:"report-cell-sub",children:[e.targetType||"\u2014",(e.targetId||e.targetKey)&&(0,_e.jsxs)("span",{children:[" ","\u2022 ",e.targetId||e.targetKey]})]})]}),(0,_e.jsx)("td",{children:e.title||"\u2014"}),(0,_e.jsx)("td",{children:M(e.comment)})]},e.id)):(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:"7",className:"report-empty",children:"No reviews found for the selected date range."})})})]})})]}):null})(),o&&(0,_e.jsxs)("div",{className:"error-message",children:[(0,_e.jsx)("p",{children:o}),(0,_e.jsx)("button",{onClick:q,className:"btn-retry",children:"Try Again"})]}),0===n.length&&!o&&(0,_e.jsxs)("div",{className:"no-reviews",children:[(0,_e.jsx)("h3",{children:"No Reviews Found"}),(0,_e.jsx)("p",{children:"There are no reviews matching your current filter."})]}),(0,_e.jsx)("div",{className:"reviews-list",children:n.map(e=>(0,_e.jsx)(Mh,{review:e,onReply:V,onVisibilityChange:X,onDeleteReview:Y,onDeleteReply:K,onUpdateReply:$,onTogglePin:J,busyReviewId:b,busyReplyKey:w},e._id))}),u>1&&(0,_e.jsxs)("div",{className:"pagination",children:[(0,_e.jsx)("button",{onClick:()=>d(e=>Math.max(e-1,1)),disabled:1===c,className:"pagination-btn",children:"Previous"}),(0,_e.jsxs)("span",{className:"pagination-info",children:["Page ",c," of ",u]}),(0,_e.jsx)("button",{onClick:()=>d(e=>Math.min(e+1,u)),disabled:c===u,className:"pagination-btn",children:"Next"})]})]}):(0,_e.jsx)("div",{className:"admin-reviews-container",children:(0,_e.jsxs)("div",{className:"access-denied",children:[(0,_e.jsx)("h2",{children:"Access Denied"}),(0,_e.jsx)("p",{children:"You need feedback moderation privileges to access this page."})]})})}const Uh=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},zh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var qh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vh=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Hh=(0,i.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c}=e,d=ea(e,Vh);return(0,i.createElement)("svg",ke(ke(ke({ref:t},qh),{},{width:r,height:r,stroke:n,strokeWidth:s?24*Number(a)/Number(r):a,className:zh("lucide",o)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),Wh=["className"],Gh=(e,t)=>{const n=(0,i.forwardRef)((n,r)=>{let{className:a}=n,s=ea(n,Wh);return(0,i.createElement)(Hh,ke({ref:r,iconNode:t,className:zh("lucide-".concat((o=Uh(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},s));var o});return n.displayName=Uh(e),n},Yh=Gh("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Kh=Gh("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),$h=Gh("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Jh=Gh("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Xh=Gh("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Qh=Gh("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Zh=Gh("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ep=Gh("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),tp=Gh("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),np="http://localhost:5000".replace(/\/$/,""),rp={"review-submitted":Yh,"review-replied":Kh,"review-restored":$h,"review-deleted":Jh,payment:Xh,"payment-online":Xh,"payment-status":Xh,"payment-supplier":Xh,"payment-supplier-approved":Qh,"payment-supplier-declined":Zh,"payment-supplier-pending":ep,"refund-request":$h,"refund-update":Kh,"refund-status":$h,"refund-reply":Kh},ap=e=>{if(!e)return"";const t=e instanceof Date?e:new Date(e),n=Date.now()-t.getTime();if(Number.isNaN(n))return"";const r=Math.floor(Math.abs(n)/1e3);if(r<45)return"just now";const a=Math.floor(r/60);if(a<60)return"".concat(a," minute").concat(1===a?"":"s"," ago");const i=Math.floor(a/60);if(i<24)return"".concat(i," hour").concat(1===i?"":"s"," ago");const s=Math.floor(i/24);return s<7?"".concat(s," day").concat(1===s?"":"s"," ago"):t.toLocaleString()};function ip(e){let{scope:t="user",feed:n="",types:r}=e;const{token:a,user:s}=Ae(),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!0),[u,h]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),[f,v]=(0,i.useState)(!1),g=(0,i.useMemo)(()=>Array.isArray(r)?r.map(e=>"string"===typeof e?e.trim().toLowerCase():"").filter(Boolean).join(","):"",[r]),y=(0,i.useMemo)(()=>{const e={"Content-Type":"application/json"};return a&&(e.Authorization="Bearer ".concat(a)),null!==s&&void 0!==s&&s._id&&(e["x-user-id"]=s._id),null!==s&&void 0!==s&&s.name&&(e["x-user-name"]=s.name),null!==s&&void 0!==s&&s.role&&(e["x-user-role"]=s.role),e},[a,s]),b=(0,i.useCallback)(async()=>{if(!a||null===s||void 0===s||!s._id)return l([]),void d(!1);d(!0),h("");try{const e=new URLSearchParams;e.set("limit","100"),n&&e.set("scope",n),g&&e.set("types",g);const t=await fetch("".concat(np,"/api/notifications?").concat(e.toString()),{headers:y}),r=await t.json().catch(()=>({}));if(!t.ok)throw new Error((null===r||void 0===r?void 0:r.message)||"Failed to load notifications");l(Array.isArray(null===r||void 0===r?void 0:r.data)?r.data:[])}catch(e){h(e.message||"Unable to load notifications"),l([])}finally{d(!1)}},[y,a,null===s||void 0===s?void 0:s._id,n,g]);(0,i.useEffect)(()=>{b()},[b]);const x=(0,i.useMemo)(()=>o.filter(e=>"read"!==e.status).length,[o]),w=(0,i.useCallback)((e,t)=>{l(n=>n.map(n=>n._id===e?ke(ke({},n),t):n))},[]),j=(0,i.useCallback)(async e=>{m(e);try{const t=await fetch("".concat(np,"/api/notifications/").concat(e,"/read"),{method:"PATCH",headers:y});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error((null===e||void 0===e?void 0:e.message)||"Failed to update notification")}w(e,{status:"read",readAt:(new Date).toISOString()})}catch(t){h(t.message||"Failed to mark notification as read")}finally{m("")}},[y,w]),N=(0,i.useCallback)(async e=>{m(e);try{const t=await fetch("".concat(np,"/api/notifications/").concat(e),{method:"DELETE",headers:y});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error((null===e||void 0===e?void 0:e.message)||"Failed to remove notification")}l(t=>t.filter(t=>t._id!==e))}catch(t){h(t.message||"Failed to remove notification")}finally{m("")}},[y]),k=(0,i.useCallback)(async()=>{if(x){v(!0),h("");try{const e=await fetch("".concat(np,"/api/notifications/read-all"),{method:"PATCH",headers:y});if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error((null===t||void 0===t?void 0:t.message)||"Failed to mark all as read")}l(e=>e.map(e=>ke(ke({},e),{},{status:"read",readAt:(new Date).toISOString()})))}catch(e){h(e.message||"Failed to mark all as read")}finally{v(!1)}}},[y,x]);return a&&null!==s&&void 0!==s&&s._id?(0,_e.jsxs)("div",{className:"notifications-panel ".concat(t),children:[(0,_e.jsxs)("header",{className:"notifications-header",children:[(0,_e.jsxs)("div",{className:"header-left",children:[(0,_e.jsx)(tp,{size:20}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h2",{children:"Notifications"}),(0,_e.jsx)("p",{children:x?"".concat(x," unread"):"All caught up"})]})]}),(0,_e.jsxs)("div",{className:"header-actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:b,disabled:c,children:"Refresh"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-primary",onClick:k,disabled:f||0===x,children:f?"Marking...":"Mark all read"})]})]}),u&&(0,_e.jsx)("div",{className:"notifications-error",children:(0,_e.jsx)("p",{children:u})}),c?(0,_e.jsxs)("div",{className:"notifications-loading",children:[(0,_e.jsx)("div",{className:"spinner"}),(0,_e.jsx)("p",{children:"Loading notifications\u2026"})]}):0===o.length?(0,_e.jsx)("div",{className:"notifications-empty",children:(0,_e.jsx)("p",{children:"No notifications yet."})}):(0,_e.jsx)("ul",{className:"notifications-list",children:o.map(e=>{const t=String(e.type||"").toLowerCase(),n=rp[t]||(t.startsWith("payment")?Xh:tp),r="read"===e.status;return(0,_e.jsxs)("li",{className:"notification-item ".concat(r?"read":"unread"),children:[(0,_e.jsxs)("button",{className:"notification-content",onClick:()=>r?void 0:j(e._id),disabled:p===e._id,children:[(0,_e.jsx)("span",{className:"notification-icon",children:(0,_e.jsx)(n,{size:20})}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{children:e.title}),(0,_e.jsx)("p",{children:e.message}),(0,_e.jsx)("span",{className:"timestamp",children:ap(e.createdAt)})]})]}),(0,_e.jsxs)("div",{className:"notification-actions",children:[!r&&(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>j(e._id),disabled:p===e._id,children:"Mark read"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>N(e._id),disabled:p===e._id,"aria-label":"Remove notification",children:(0,_e.jsx)(Jh,{size:18})})]})]},e._id)})})]}):(0,_e.jsx)("div",{className:"notifications-panel",children:(0,_e.jsx)("div",{className:"notifications-empty",children:(0,_e.jsx)("p",{children:"Log in to see notifications."})})})}const sp="http://localhost:5000".replace(/\/$/,""),op=["moderate_feedback","cc_view_feedback","cc_respond_feedback","cc_manage_returns"],lp=e=>{if(!e)return"";const t=e.replace(/\\/g,"/");if(/^https?:\/\//i.test(t))return t;const n=t.startsWith("/")?t:"/".concat(t);return"".concat(sp).concat(n)},cp=e=>e?new Date(e).toLocaleString():"";function dp(){const{user:e,token:t}=Ae(),[n,r]=(0,i.useState)([]),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(null),u=(0,i.useMemo)(()=>String((null===e||void 0===e?void 0:e.role)||"").toLowerCase(),[null===e||void 0===e?void 0:e.role]),h=(0,i.useMemo)(()=>new Set(((null===e||void 0===e?void 0:e.permissions)||[]).map(e=>String(e||"").toLowerCase())),[null===e||void 0===e?void 0:e.permissions]),p=(0,i.useMemo)(()=>!(null===e||void 0===e||!e._id)&&("admin"===u||(!(!u.includes("care")&&!u.includes("support"))||op.some(e=>h.has(e)))),[null===e||void 0===e?void 0:e._id,u,h]),m=(0,i.useMemo)(()=>{if(null===e||void 0===e||!e._id||!p)return null;const n={"x-user-id":e._id,"x-user-role":e.role||"admin","x-user-name":e.name||"Admin"};return t&&(n.Authorization="Bearer ".concat(t)),n},[e,t,p]),f=(0,i.useCallback)(async()=>{if(m){s(!0),l("");try{const{data:e}=await Rr.get("".concat(sp,"/api/reviews/recycle-bin"),{headers:m});r(Array.isArray(null===e||void 0===e?void 0:e.data)?e.data:[])}catch(n){var e,t;const a=(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message||"Failed to load recycle bin";l(a),r([])}finally{s(!1)}}},[m]);(0,i.useEffect)(()=>{if(!p)return s(!1),r([]),void l("Access denied. Feedback moderation privileges required.");f()},[f,p]);const v=(0,i.useCallback)(async e=>{if(m){d(e);try{await Rr.post("".concat(sp,"/api/reviews/").concat(e,"/restore"),{},{headers:m}),r(t=>t.filter(t=>t._id!==e))}catch(a){var t,n;const e=(null===a||void 0===a||null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||a.message||"Failed to restore review";l(e)}finally{d(null)}}},[m]),g=(0,i.useCallback)(async e=>{if(m&&window.confirm("Permanently delete this review? This can\u2019t be undone.")){d(e);try{await Rr.delete("".concat(sp,"/api/reviews/").concat(e,"/purge"),{headers:m}),r(t=>t.filter(t=>t._id!==e))}catch(a){var t,n;const e=(null===a||void 0===a||null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||a.message||"Failed to remove review";l(e)}finally{d(null)}}},[m]);return m?(0,_e.jsxs)("div",{className:"space-y-4",children:[(0,_e.jsxs)("div",{className:"card recycle-header",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"text-xl font-black",children:"Deleted Reviews"}),(0,_e.jsx)("p",{className:"text-sm text-muted",children:"Restore or permanently remove feedback that was deleted by customers or admins."})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:f,disabled:a,children:"Refresh"})]}),o&&(0,_e.jsx)("div",{className:"card error-banner",children:(0,_e.jsx)("p",{children:o})}),a?(0,_e.jsxs)("div",{className:"card loading-state",children:[(0,_e.jsx)("div",{className:"spinner"}),(0,_e.jsx)("p",{children:"Loading deleted reviews\u2026"})]}):0===n.length?(0,_e.jsx)("div",{className:"card empty-state",children:(0,_e.jsx)("p",{children:"No reviews in the recycle bin."})}):(0,_e.jsx)("div",{className:"recycle-grid",children:n.map(e=>{var t;return(0,_e.jsxs)("article",{className:"admin-review-card recycle-item",children:[(0,_e.jsxs)("header",{className:"review-header",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{children:e.userName||"Customer"}),(0,_e.jsxs)("p",{className:"review-meta",children:["Review #",e.reviewNo||"\u2014"," \u2022 ",cp(e.createdAt)]})]}),(0,_e.jsxs)("div",{className:"review-rating",children:[(0,_e.jsx)(Jr,{value:e.rating,readOnly:!0}),(0,_e.jsxs)("span",{className:"rating-number",children:[e.rating,"/5"]})]})]}),(0,_e.jsxs)("div",{className:"recycle-product",children:[(0,_e.jsx)("span",{className:"meta-label",children:"Product"}),(0,_e.jsx)("span",{className:"meta-value",children:e.targetName||e.targetKey||"Unknown"})]}),e.title&&(0,_e.jsx)("h4",{className:"review-title",children:e.title}),e.comment&&(0,_e.jsx)("p",{className:"review-comment",children:e.comment}),(null===(t=e.images)||void 0===t?void 0:t.length)>0&&(0,_e.jsx)("div",{className:"review-images",children:e.images.map((t,n)=>(0,_e.jsx)("img",{src:lp(t),alt:"".concat(e.userName||"Customer"," attachment ").concat(n+1),onClick:()=>window.open(lp(t),"_blank")},n))}),(0,_e.jsxs)("div",{className:"recycle-meta",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("span",{className:"meta-label",children:"Deleted at"}),(0,_e.jsx)("span",{className:"meta-value",children:cp(e.deletedAt)})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("span",{className:"meta-label",children:"Deleted by"}),(0,_e.jsx)("span",{className:"meta-value",children:e.deletedByName||"Unknown"})]})]}),(0,_e.jsxs)("footer",{className:"recycle-actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>v(e._id),disabled:c===e._id,children:c===e._id?"Restoring\u2026":"Restore"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>g(e._id),disabled:c===e._id,children:c===e._id?"Removing\u2026":"Delete forever"})]})]},e._id)})})]}):(0,_e.jsx)("div",{className:"card",children:(0,_e.jsx)("p",{children:"You need feedback moderation privileges to manage deleted reviews."})})}const up=Gh("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),hp="http://localhost:5000".replace(/\/$/,""),pp="".concat(hp,"/api"),mp=["images","image","imageUrl","media","attachments","photos"],fp=["images","image","imageUrl","media","attachments","photos"],vp=e=>{if(!e)return"";const t=e.replace(/\\/g,"/");if(/^https?:\/\//i.test(t))return t;const n=t.startsWith("/")?t:"/".concat(t);return"".concat(hp).concat(n)},gp=e=>{if(!e)return[];const t=e=>e?"string"===typeof e?e:"object"===typeof e?Array.isArray(e)?e.map(t).filter(Boolean):e.url||e.path||e.src||e.href||null:String(e):null;if(Array.isArray(e))return e.flatMap(e=>t(e)).filter(Boolean);if("string"===typeof e){try{const n=JSON.parse(e);if(Array.isArray(n))return n.flatMap(e=>t(e)).filter(Boolean)}catch(Dc){}return[e]}if("object"===typeof e){const n=t(e);if(Array.isArray(n))return n.filter(Boolean);if(n)return[n]}return[]},yp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mp;if(!e)return[];for(const n of t){const t=gp(e[n]);if(t.length)return t}return[]},bp=e=>{if(!e)return e;const t=yp(e,fp);return ke(ke({},e),{},{displayImages:t})},xp=e=>{if(!e)return e;const t=yp(e,mp);return ke(ke({},e),{},{displayImages:t,replies:Array.isArray(e.replies)?e.replies.map(bp):[]})};function wp(e){let{item:t,onDeleted:n,onUpdated:r}=e;const a=te(),{user:s,token:o}=Ae(),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(""),h=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),p=Array.isArray(t.displayImages)?t.displayImages:yp(t,mp);return(0,_e.jsxs)("div",{className:"review-item-card",children:[(0,_e.jsxs)("div",{className:"review-header",children:[(0,_e.jsxs)("div",{className:"product-info",children:[(0,_e.jsx)("h3",{className:"product-name",children:t.targetName||t.targetKey}),(0,_e.jsxs)("p",{className:"product-id",children:["Product ID: ",t.targetKey||t.targetId]}),(0,_e.jsxs)("p",{className:"review-date",children:["Reviewed on ",h(t.createdAt)]})]}),(0,_e.jsxs)("div",{className:"review-rating",children:[(0,_e.jsx)(Jr,{value:t.rating,readOnly:!0}),(0,_e.jsxs)("span",{className:"rating-number",children:[t.rating,"/5"]})]})]}),t.title&&(0,_e.jsx)("h4",{className:"review-title",children:t.title}),(0,_e.jsx)("p",{className:"review-comment",children:t.comment}),p.length>0&&(0,_e.jsx)("div",{className:"review-images",children:p.map((e,n)=>{const r=vp(e);return(0,_e.jsx)("img",{src:r,alt:"Attachment ".concat(n+1," for ").concat(t.targetName||"this review"),className:"review-image",onClick:()=>window.open(r,"_blank"),onError:e=>{e.currentTarget.onerror=null,e.currentTarget.style.display="none"}},n)})}),t.replies&&t.replies.length>0&&(0,_e.jsxs)("div",{className:"admin-replies",children:[(0,_e.jsx)("h5",{children:"Store Response:"}),t.replies.map((e,t)=>{const n=Array.isArray(e.displayImages)?e.displayImages:yp(e,fp);return(0,_e.jsxs)("div",{className:"admin-reply",children:[(0,_e.jsxs)("div",{className:"reply-header",children:[(0,_e.jsx)("span",{className:"admin-name",children:e.adminName||"Store Admin"}),(0,_e.jsx)("span",{className:"reply-date",children:h(e.createdAt)})]}),(0,_e.jsx)("p",{className:"reply-message",children:e.message}),n.length>0&&(0,_e.jsx)("div",{className:"reply-images",children:n.map((e,t)=>{const n=vp(e);return(0,_e.jsx)("img",{src:n,alt:"Store response attachment ".concat(t+1),className:"reply-image",onClick:()=>window.open(n,"_blank"),onError:e=>{e.currentTarget.onerror=null,e.currentTarget.style.display="none"}},t)})})]},e._id||t)})]}),d&&(0,_e.jsx)("div",{className:"error-message",children:(0,_e.jsx)("p",{children:d})}),(0,_e.jsxs)("div",{className:"review-actions",children:[(0,_e.jsx)("button",{onClick:()=>{a("/product/".concat(t.targetId||t.targetKey))},className:"btn-view-product",disabled:l,children:"View Product"}),(0,_e.jsx)("button",{onClick:()=>{a("/add-review?rid=".concat(t._id))},className:"btn-edit",disabled:l,children:"Edit Review"}),(0,_e.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this review?")){c(!0),u("");try{const e={Authorization:"Bearer ".concat(o),"x-user-id":s._id,"x-user-role":s.role,"x-user-name":s.name};await Rr.delete("".concat(pp,"/reviews/").concat(t._id),{headers:e}),null===n||void 0===n||n(t._id)}catch(n_){var e,r;u((null===n_||void 0===n_||null===(e=n_.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||n_.message||"Failed to delete review")}finally{c(!1)}}},className:"btn-delete",disabled:l,children:l?"Deleting...":"Delete"})]})]})}function jp(e){let{embedded:t=!1}=e;const{user:n,token:r}=Ae(),a=te(),[s,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0),[d,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(1),[m,f]=(0,i.useState)(1),[v,g]=(0,i.useState)(!1),y=(0,i.useCallback)(async()=>{try{c(!0),u("");const e={Authorization:"Bearer ".concat(r),"x-user-id":n._id,"x-user-role":n.role,"x-user-name":n.name},t=await Rr.get("".concat(pp,"/reviews?mine=true&page=").concat(h,"&limit=10"),{headers:e});o((t.data.data||[]).map(xp)),f(t.data.pages||1)}catch(n_){var e,t;u((null===n_||void 0===n_||null===(e=n_.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n_.message||"Failed to load reviews"),o([])}finally{c(!1)}},[r,n,h]);(0,i.useEffect)(()=>{n?y():a("/login")},[n,a,y]);const b=(0,i.useMemo)(()=>s.reduce((e,t)=>e+(Array.isArray(t.replies)?t.replies.length:0),0),[s]),x=["my-reviews-container",t?"my-reviews-container--embedded":"my-reviews-container--standalone"].filter(Boolean).join(" "),w="my-reviews-header ".concat(t?"my-reviews-header--embedded":"my-reviews-header--standalone"),j=t?"My feedback":"My Reviews",N=e=>{o(t=>t.filter(t=>t._id!==e))},k=e=>{const t=xp(e);o(e=>e.map(e=>e._id===t._id?t:e))};return n?l?(0,_e.jsx)("div",{className:x,children:(0,_e.jsx)("div",{className:"loading",children:"Loading your reviews..."})}):(0,_e.jsxs)("div",{className:x,children:[(0,_e.jsxs)("div",{className:w,children:[(0,_e.jsxs)("div",{className:"my-reviews-heading",children:[(0,_e.jsx)("h1",{children:j}),(0,_e.jsx)("p",{children:"Keep track of what you've shared and how the store responds."})]}),(0,_e.jsxs)("div",{className:"my-reviews-actions",children:[(0,_e.jsxs)("button",{type:"button",className:"my-reviews-action-button ".concat(v?"is-active":""),onClick:()=>g(e=>!e),children:[(0,_e.jsx)(tp,{size:16}),(0,_e.jsxs)("span",{children:[v?"Hide reply notifications":"Reply notifications",b>0&&!v&&(0,_e.jsx)("span",{className:"my-reviews-action-badge",children:b})]})]}),!t&&(0,_e.jsxs)("button",{type:"button",className:"my-reviews-action-button my-reviews-action-button--primary",onClick:()=>a("/add-review"),children:[(0,_e.jsx)(up,{size:16}),(0,_e.jsx)("span",{children:"Write a review"})]})]})]}),v&&(0,_e.jsx)("div",{className:"my-reviews-notifications",children:(0,_e.jsx)(ip,{types:["review-replied"]})}),d&&(0,_e.jsxs)("div",{className:"error-message",children:[(0,_e.jsx)("p",{children:d}),(0,_e.jsx)("button",{onClick:y,className:"btn-retry",children:"Try Again"})]}),0===s.length&&!d&&(0,_e.jsxs)("div",{className:"no-reviews",children:[(0,_e.jsx)("h3",{children:"No Reviews Yet"}),(0,_e.jsx)("p",{children:"You haven't written any reviews yet. Start by purchasing and reviewing products!"}),(0,_e.jsx)("button",{onClick:()=>a("/customer-products"),className:"btn-browse",children:"Browse Products"})]}),(0,_e.jsx)("div",{className:"reviews-list",children:s.map(e=>(0,_e.jsx)(wp,{item:e,onDeleted:N,onUpdated:k},e._id))}),m>1&&(0,_e.jsxs)("div",{className:"pagination",children:[(0,_e.jsx)("button",{onClick:()=>p(e=>Math.max(e-1,1)),disabled:1===h,className:"pagination-btn",children:"Previous"}),(0,_e.jsxs)("span",{className:"pagination-info",children:["Page ",h," of ",m]}),(0,_e.jsx)("button",{onClick:()=>p(e=>Math.min(e+1,m)),disabled:h===m,className:"pagination-btn",children:"Next"})]})]}):(0,_e.jsx)("div",{className:x,children:(0,_e.jsxs)("div",{className:"auth-required",children:[(0,_e.jsx)("h2",{children:"Authentication Required"}),(0,_e.jsx)("p",{children:"Please log in to view your reviews."}),(0,_e.jsx)("button",{onClick:()=>a("/login"),className:"btn-login",children:"Go to Login"})]})})}const Np="http://localhost:5000".replace(/\/$/,""),kp=["all","pending","processing","accepted","declined"],_p={pending:"badge badge-amber",processing:"badge badge-blue",accepted:"badge badge-green",declined:"badge badge-red"},Sp=function(){return String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},Ap=e=>{var t,n;return"staff"===(null===e||void 0===e?void 0:e.authorType)?(null===e||void 0===e||null===(t=e.author)||void 0===t?void 0:t.name)||"Team":(null===e||void 0===e||null===(n=e.author)||void 0===n?void 0:n.name)||"Customer"},Cp=function(){return[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]].sort((e,t)=>new Date((null===t||void 0===t?void 0:t.createdAt)||0)-new Date((null===e||void 0===e?void 0:e.createdAt)||0))};function Lp(){var e,t,n,r,a,s;const{token:o,user:l}=Ae(),[c,d]=(0,i.useState)(!0),[u,h]=(0,i.useState)(""),[p,m]=(0,i.useState)([]),[f,v]=(0,i.useState)(null),[g,y]=(0,i.useState)(""),[b,x]=(0,i.useState)(!1),[w,j]=(0,i.useState)({status:"pending",search:""}),N=(0,i.useRef)(!1),k=(0,i.useMemo)(()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if("admin"===String((null===e||void 0===e?void 0:e.role)||"").toLowerCase())return!0;const n=Array.isArray(null===e||void 0===e?void 0:e.permissions)?e.permissions:[],r=new Set(n.map(e=>String(e||"").toLowerCase()));return t.some(e=>r.has(String(e||"").toLowerCase()))}(l,["refund_manage_requests","cc_manage_returns","moderate_feedback"]),[l]),_=(0,i.useMemo)(()=>p.find(e=>(null===e||void 0===e?void 0:e._id)===f)||null,[p,f]),S=(0,i.useMemo)(()=>{var e;const t=null===(e=w.search)||void 0===e?void 0:e.trim();return"all"!==w.status||Boolean(t)},[w]),A=(0,i.useMemo)(()=>c?"Loading refund requests\u2026":p.length?1===p.length?"Showing 1 refund request":"Showing ".concat(p.length," refund requests"):S?"No requests match the current filters":"No refund requests found",[S,c,p.length]),C=async e=>{try{d(!0),h("");const t=(e=>{const t=new URLSearchParams,n=e||w,r=n.status,a=n.search;return r&&"all"!==r&&t.set("status",r),a&&t.set("search",a.trim()),t.toString()})(e),n=await fetch("".concat(Np,"/api/refunds").concat(t?"?".concat(t):""),{headers:{"Content-Type":"application/json",Authorization:o?"Bearer ".concat(o):void 0}});if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error((null===e||void 0===e?void 0:e.message)||"Failed to load refund requests")}const r=await n.json(),a=Array.isArray(null===r||void 0===r?void 0:r.data)?r.data:[];m(a),a.length?v(e=>e&&a.some(t=>t._id===e)?e:a[0]._id):v(null)}catch(t){h((null===t||void 0===t?void 0:t.message)||"Unable to load refund requests"),m([])}finally{d(!1)}};(0,i.useEffect)(()=>{if(!o)return h("Unauthorized"),void d(!1);N.current?N.current=!1:C()},[o,w.status]);const L=async e=>{let{status:t,message:n}=e;if(_)if(k||!t)if(n||t){x(!0);try{const e={};n&&(e.message=n),t&&(e.status=t);const r=await fetch("".concat(Np,"/api/refunds/").concat(_._id,"/reply"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:o?"Bearer ".concat(o):void 0},body:JSON.stringify(e)}),a=await r.json().catch(()=>({}));if(!r.ok)throw new Error((null===a||void 0===a?void 0:a.message)||"Action failed");m(e=>e.map(e=>e._id===a._id?a:e)),v(a._id),y("")}catch(r){alert((null===r||void 0===r?void 0:r.message)||"Failed to update refund request")}finally{x(!1)}}else alert("Add a message or pick an action.");else alert("You do not have permission to change refund status.")},P=_?Dr(((null===(e=_.item)||void 0===e?void 0:e.price)||0)*((null===(t=_.item)||void 0===t?void 0:t.quantity)||1)):null,E=(null===_||void 0===_||null===(n=_.item)||void 0===n?void 0:n.quantity)||1;return(0,_e.jsxs)("section",{className:"admin-refunds stack-lg",children:[(0,_e.jsxs)("header",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Refunds & returns"}),(0,_e.jsx)("p",{className:"muted-text",children:"Review customer refund requests, collaborate with the team, and keep customers informed."})]}),(0,_e.jsxs)("div",{className:"card stack-md admin-refunds__panel",children:[(0,_e.jsxs)("form",{className:"refunds-toolbar admin-refunds__toolbar",onSubmit:e=>{e.preventDefault(),C()},children:[(0,_e.jsxs)("div",{className:"refunds-toolbar__group",children:[(0,_e.jsx)("label",{className:"refunds-detail__label",htmlFor:"refund-status-filter",children:"Filter by status"}),(0,_e.jsx)("select",{id:"refund-status-filter",value:w.status,onChange:e=>j(t=>ke(ke({},t),{},{status:e.target.value})),children:kp.map(e=>(0,_e.jsx)("option",{value:e,children:Sp(e)},e))})]}),(0,_e.jsxs)("div",{className:"refunds-toolbar__search",children:[(0,_e.jsx)("label",{className:"refunds-detail__label",htmlFor:"refund-search",children:"Search"}),(0,_e.jsxs)("div",{className:"refunds-toolbar__search-row",children:[(0,_e.jsx)("input",{id:"refund-search",type:"search",placeholder:"Search by product, reason, or note",value:w.search,onChange:e=>j(t=>ke(ke({},t),{},{search:e.target.value}))}),(0,_e.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:c&&!p.length,children:c&&S?"Searching":"Search"})]})]}),(0,_e.jsxs)("div",{className:"refunds-toolbar__actions",children:[S&&(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>{if(!S)return;const e={status:"all",search:""};N.current=!0,j(e),C(e)},disabled:c,children:"Clear filters"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>C(),disabled:c,children:c?"Refreshing":"Refresh"})]})]}),(0,_e.jsxs)("div",{className:"admin-refunds__summary",children:[(0,_e.jsxs)("div",{className:"admin-refunds__summary-text",children:[(0,_e.jsx)("span",{className:"admin-refunds__summary-count",children:A}),(0,_e.jsx)("span",{className:"admin-refunds__summary-meta",children:"all"===w.status?"All statuses included":"Filtered by ".concat(Sp(w.status)," status")})]}),(0,_e.jsxs)("div",{className:"admin-refunds__summary-tags",children:[(0,_e.jsx)("span",{className:"admin-refunds__chip admin-refunds__chip--status",children:"all"===w.status?"All statuses":Sp(w.status)}),w.search?(0,_e.jsxs)("span",{className:"admin-refunds__chip admin-refunds__chip--search",title:"Active search term",children:["\u201c",w.search.trim(),"\u201d"]}):null]})]}),u&&(0,_e.jsx)("div",{className:"status-banner status-banner--error",children:u}),c?(0,_e.jsx)("p",{children:"Loading refund requests\u2026"}):0===p.length?(0,_e.jsx)("div",{className:"orders-empty-state",children:"No refund requests match your filters."}):(0,_e.jsxs)("div",{className:"refunds-layout admin-refunds__grid",children:[(0,_e.jsxs)("aside",{className:"refunds-list admin-refunds__list",children:[(0,_e.jsxs)("header",{className:"admin-refunds__list-header",children:[(0,_e.jsx)("span",{className:"admin-refunds__list-title",children:"Refund requests"}),(0,_e.jsx)("span",{className:"admin-refunds__list-count",children:p.length})]}),(0,_e.jsx)("div",{className:"admin-refunds__list-scroll",children:p.map(e=>{var t,n,r,a,i;const s=String(e.status||"pending").toLowerCase(),o=_p[s]||"badge",l=Dr(((null===(t=e.item)||void 0===t?void 0:t.price)||0)*((null===(n=e.item)||void 0===n?void 0:n.quantity)||1)),c=e.createdAt?new Date(e.createdAt).toLocaleString():"";return(0,_e.jsxs)("button",{type:"button",onClick:()=>v(e._id),className:"refunds-list__item ".concat(e._id===f?"is-active":""),children:[(0,_e.jsxs)("div",{className:"refunds-list__head",children:[(0,_e.jsx)("span",{className:o,children:Sp(s)}),(0,_e.jsx)("span",{className:"refunds-list__date",children:c})]}),(0,_e.jsx)("div",{className:"refunds-list__title",children:null===(r=e.item)||void 0===r?void 0:r.productName}),(0,_e.jsxs)("div",{className:"refunds-list__meta",children:["Qty ",(null===(a=e.item)||void 0===a?void 0:a.quantity)||1," \xb7 ",l]}),(0,_e.jsxs)("div",{className:"refunds-list__meta refunds-list__meta--customer",children:["Customer: ",(null===(i=e.user)||void 0===i?void 0:i.name)||"Unknown"]}),e.reason&&(0,_e.jsx)("div",{className:"refunds-list__reason",title:e.reason,children:e.reason})]},e._id)})})]}),(0,_e.jsx)("article",{className:"refunds-detail admin-refunds__detail stack-md",children:_?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("header",{className:"stack-xs",children:[(0,_e.jsx)("h3",{children:null===(r=_.item)||void 0===r?void 0:r.productName}),(0,_e.jsxs)("div",{className:"refunds-detail__status",children:[(0,_e.jsx)("span",{className:"refunds-detail__label",children:"Status"}),(0,_e.jsx)("span",{className:"refund-status-badge refund-status-badge--".concat(_.status),children:Sp(_.status)})]}),(0,_e.jsxs)("div",{className:"refunds-detail__summary",children:[(0,_e.jsx)("span",{children:"Requested"}),(0,_e.jsx)("span",{children:_.createdAt?new Date(_.createdAt).toLocaleString():""})]}),(0,_e.jsxs)("div",{className:"refunds-detail__summary",children:[(0,_e.jsx)("span",{children:"Customer"}),(0,_e.jsx)("span",{children:(null===(a=_.user)||void 0===a?void 0:a.name)||"Unknown"})]}),(0,_e.jsxs)("div",{className:"refunds-detail__summary",children:[(0,_e.jsx)("span",{children:"Order"}),(0,_e.jsx)("span",{children:(null===(s=_.order)||void 0===s?void 0:s._id)||_.order})]}),(0,_e.jsxs)("div",{className:"admin-refunds__pill-row",children:[(0,_e.jsxs)("div",{className:"admin-refunds__pill",children:[(0,_e.jsx)("span",{children:"Amount"}),(0,_e.jsx)("strong",{children:P})]}),(0,_e.jsxs)("div",{className:"admin-refunds__pill",children:[(0,_e.jsx)("span",{children:"Quantity"}),(0,_e.jsx)("strong",{children:E})]})]})]}),(0,_e.jsxs)("section",{className:"stack-sm",children:[(0,_e.jsx)("span",{className:"refunds-detail__label",children:"Reason"}),(0,_e.jsx)("p",{children:_.reason})]}),_.message&&(0,_e.jsxs)("section",{className:"stack-sm",children:[(0,_e.jsx)("span",{className:"refunds-detail__label",children:"Customer message"}),(0,_e.jsx)("p",{children:_.message})]}),Array.isArray(_.history)&&_.history.length>0&&(0,_e.jsxs)("section",{className:"stack-sm",children:[(0,_e.jsx)("span",{className:"refunds-detail__label",children:"Timeline"}),(0,_e.jsx)("ul",{className:"refund-thread__list",children:Cp(_.history).map((e,t)=>(0,_e.jsxs)("li",{children:[(0,_e.jsxs)("div",{className:"refund-thread__meta",children:[(0,_e.jsx)("strong",{children:Sp(e.status)}),(0,_e.jsx)("span",{children:e.createdAt?new Date(e.createdAt).toLocaleString():""})]}),e.note&&(0,_e.jsx)("p",{children:e.note})]},"".concat(e.createdAt||t,"-").concat(t)))})]}),Array.isArray(_.messages)&&_.messages.length>0&&(0,_e.jsxs)("section",{className:"stack-sm",children:[(0,_e.jsx)("span",{className:"refunds-detail__label",children:"Conversation"}),(0,_e.jsx)("div",{className:"refund-thread",children:(0,_e.jsx)("ul",{className:"refund-thread__list",children:_.messages.map((e,t)=>(0,_e.jsxs)("li",{children:[(0,_e.jsxs)("div",{className:"refund-thread__meta",children:[(0,_e.jsx)("strong",{children:Ap(e)}),(0,_e.jsx)("span",{children:e.createdAt?new Date(e.createdAt).toLocaleString():""})]}),(0,_e.jsx)("p",{children:e.message})]},"".concat(e.createdAt||t,"-").concat(t)))})})]}),(0,_e.jsxs)("section",{className:"stack-sm",children:[(0,_e.jsx)("label",{className:"refunds-detail__label",htmlFor:"refund-reply-admin",children:"Add a reply"}),(0,_e.jsx)("textarea",{id:"refund-reply-admin",rows:3,value:g,onChange:e=>y(e.target.value),placeholder:"Share updates or instructions for the customer",disabled:b}),(0,_e.jsxs)("div",{className:"refund-form__actions",style:{justifyContent:"space-between"},children:[(0,_e.jsx)("div",{className:"stack-xs",style:{flexDirection:"row",display:"flex",gap:8},children:k&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>L({status:"processing",message:g.trim()||void 0}),disabled:b,children:"Mark processing"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>L({status:"accepted",message:g.trim()||void 0}),disabled:b,children:"Accept refund"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>L({status:"declined",message:g.trim()||void 0}),disabled:b,children:"Decline refund"})]})}),(0,_e.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>L({message:g.trim()}),disabled:b||!g.trim(),children:b?"Sending":"Send reply"})]})]})]}):(0,_e.jsx)("div",{className:"orders-empty-state",children:"Select a refund request to review the details."})})]})]})]})}const Pp=function(e){let{onCheckout:t,embedded:n=!1}=e;const{cartItems:r,removeFromCart:a,updateQuantity:s}=(0,i.useContext)(Oe),[o,l]=(0,i.useState)([]),c=te(),d=(0,i.useMemo)(()=>r.filter(e=>o.includes(e.productId)).reduce((e,t)=>e+t.price*t.quantity,0),[r,o]);return(0,_e.jsxs)("div",{className:"cart-page".concat(n?" cart-page--embedded":""),children:[(0,_e.jsx)("h2",{children:n?"Cart":"Shopping Cart"}),0===r.length?(0,_e.jsx)("p",{children:"Your cart is empty"}):(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("div",{className:"select-all",children:[(0,_e.jsx)("input",{type:"checkbox",checked:o.length===r.length&&r.length>0,onChange:()=>{o.length===r.length?l([]):l(r.map(e=>e.productId))}}),(0,_e.jsx)("label",{children:"Select All"})]}),r.map(e=>(0,_e.jsxs)("div",{className:"cart-item",children:[(0,_e.jsx)("input",{type:"checkbox",checked:o.includes(e.productId),onChange:()=>(e=>{o.includes(e)?l(o.filter(t=>t!==e)):l([...o,e])})(e.productId)}),(0,_e.jsx)("img",{src:e.img,alt:e.name}),(0,_e.jsxs)("div",{className:"item-details",children:[(0,_e.jsx)("h3",{children:e.name}),(0,_e.jsxs)("p",{children:["Unit Price: ",Dr(e.price)]}),(0,_e.jsxs)("div",{className:"quantity",children:[(0,_e.jsx)("button",{onClick:()=>(e=>{const t=r.find(t=>t.productId===e);t.quantity>1&&s(e,t.quantity-1)})(e.productId),children:"-"}),(0,_e.jsx)("input",{type:"number",value:e.quantity,onChange:t=>((e,t)=>{const n=parseInt(t)||1;s(e,n)})(e.productId,t.target.value),min:"1"}),(0,_e.jsx)("button",{onClick:()=>(e=>{const t=r.find(t=>t.productId===e);s(e,t.quantity+1)})(e.productId),children:"+"})]}),(0,_e.jsxs)("p",{children:["Total: ",Dr(e.price*e.quantity)]}),(0,_e.jsx)("button",{className:"remove",onClick:()=>a(e.productId),children:"Remove"})]})]},e.productId))]}),r.length>0&&(0,_e.jsxs)("div",{className:"cart-summary",children:[(0,_e.jsxs)("p",{children:["Subtotal (selected): ",Dr(d)]}),(0,_e.jsxs)("h3",{children:["Grand Total: ",Dr(d)]}),(0,_e.jsxs)("button",{className:"Checkout",disabled:0===o.length,onClick:()=>{const e=r.filter(e=>o.includes(e.productId));0!==e.length&&(t?t(e):c("/Checkout",{state:{selectedItems:e}}))},children:["Proceed to Checkout (",o.length,")"]})]})]})},Ep="http://localhost:5000".replace(/\/$/,""),Fp=()=>{try{return localStorage.getItem("token")||sessionStorage.getItem("token")}catch(e){try{return sessionStorage.getItem("token")}catch(t){return null}}},Tp=["Received a damaged or defective product","Received the wrong item","Product quality was not as expected","Item arrived late","Accidental or duplicate purchase","Other"],Rp=e=>{let{children:t}=e;const[n]=(0,i.useState)(()=>{if("undefined"===typeof document)return null;const e=document.createElement("div");return e.className="refund-modal-root",e});return(0,i.useEffect)(()=>{if(!n||"undefined"===typeof document)return;const e=document.body.style.overflow;return document.body.appendChild(n),document.body.style.overflow="hidden",()=>{document.body.style.overflow=e,n.parentNode&&n.parentNode.removeChild(n)}},[n]),n?(0,$e.createPortal)(t,n):null},Dp=function(){return String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())};const Op=function(e){var t;let{initialOrders:n=null,embedded:r=!1,onOrdersChange:a,allowReceipts:s=!1}=e;const[o,l]=(0,i.useState)(()=>n||[]),[c,d]=(0,i.useState)(()=>n||[]),[u,h]=(0,i.useState)(()=>!n),[p,m]=(0,i.useState)(null),f=te(),[v,g]=(0,i.useState)(""),[y,b]=(0,i.useState)(!1),[x,w]=(0,i.useState)(""),[j,N]=(0,i.useState)("asc"),[k,_]=(0,i.useState)([]),[S,A]=(0,i.useState)(null),[C,L]=(0,i.useState)({reason:"",message:""}),[P,E]=(0,i.useState)(!1),[F,T]=(0,i.useState)({type:"",message:""}),[R,D]=(0,i.useState)(""),[O,I]=(0,i.useState)(!1),M=(0,i.useMemo)(()=>k.filter(e=>"accepted"===String((null===e||void 0===e?void 0:e.status)||"").toLowerCase()).sort((e,t)=>{var n,r;return new Date((null===t||void 0===t||null===(n=t.decision)||void 0===n?void 0:n.decidedAt)||(null===t||void 0===t?void 0:t.updatedAt)||(null===t||void 0===t?void 0:t.createdAt)||0)-new Date((null===e||void 0===e||null===(r=e.decision)||void 0===r?void 0:r.decidedAt)||(null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.createdAt)||0)}),[k]);(0,i.useEffect)(()=>{let e=!0;const t=Fp();return n?(l(n),d(n),h(!1)):(h(!0),(async()=>{try{if(!t)throw new Error("You must login first");const n=await fetch("".concat(Ep,"/api/orders"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to fetch orders")}const r=(await n.json()).orders||[];if(!e)return;l(r),d(r),m(null),null===a||void 0===a||a(r)}catch(n){if(!e)return;m(n.message)}finally{e&&h(!1)}})()),()=>{e=!1}},[n,a]),(0,i.useEffect)(()=>{(async()=>{try{const e=Fp();if(!e)return;const t=await fetch("".concat(Ep,"/api/refunds/mine"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error((null===e||void 0===e?void 0:e.message)||"Failed to load refund requests")}const n=await t.json(),r=Array.isArray(null===n||void 0===n?void 0:n.data)?n.data:[];_(r)}catch(e){console.warn("Failed to load refunds",(null===e||void 0===e?void 0:e.message)||e)}})()},[]);const B=(e,t)=>{if(!e||!t)return null;const n=String(e),r=String(t),a=k.filter(e=>{var t,a,i,s;const o=(null===e||void 0===e||null===(t=e.order)||void 0===t?void 0:t._id)||(null===e||void 0===e?void 0:e.order),l=(null===e||void 0===e||null===(a=e.item)||void 0===a||null===(i=a.productId)||void 0===i?void 0:i._id)||(null===e||void 0===e||null===(s=e.item)||void 0===s?void 0:s.productId);return String(o)===n&&String(l)===r});return a.length?a.sort((e,t)=>new Date((null===t||void 0===t?void 0:t.createdAt)||0)-new Date((null===e||void 0===e?void 0:e.createdAt)||0))[0]:null},U=()=>T({type:"",message:""}),z=()=>{A(null),L({reason:"",message:""}),E(!1),D(""),I(!1),U()},q=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||(null!==e&&void 0!==e&&e._id&&null!==t&&void 0!==t&&t.productId?B(e._id,t.productId):null);A({order:e,item:t,existing:n}),L({reason:"",message:""}),D(""),I(!1),U()},V=(e,t)=>{L(n=>ke(ke({},n),{},{[e]:t}))},H=e=>{e&&"undefined"!==typeof window&&window.open(e,"_blank","noopener,noreferrer")};return u?(0,_e.jsx)("p",{children:"Loading orders..."}):p?(0,_e.jsxs)("p",{style:{color:"red"},children:["Error: ",p]}):(0,_e.jsxs)("div",{className:"orders-container".concat(r?" orders-container--embedded":""),children:[(0,_e.jsxs)("header",{className:"orders-header",children:[(0,_e.jsx)("h3",{className:"heading-sm",children:"Order history"}),(0,_e.jsx)("p",{className:"muted-text",children:"Review purchases, track fulfilment, and leave feedback."})]}),(0,_e.jsxs)("div",{className:"orders-toolbar",children:[(0,_e.jsxs)("div",{className:"search-bar",children:[(0,_e.jsx)("input",{type:"text",placeholder:"Search orders",value:v,onChange:e=>g(e.target.value)}),(0,_e.jsx)("button",{type:"button",onClick:()=>{const e=c.filter(e=>Object.values(e).some(e=>null!=e&&e.toString().toLowerCase().includes(v.toLowerCase())));l(e),b(0===e.length)},children:"Search"})]}),(0,_e.jsxs)("div",{className:"sort-dropdown",children:[(0,_e.jsx)("label",{htmlFor:"sort",children:"Sort by"}),(0,_e.jsxs)("select",{id:"sort",value:x,onChange:e=>(e=>{if(!e)return;w(e);let t=[...o];const n="asc"===j?1:-1;t.sort((t,r)=>"string"===typeof t[e]?t[e].localeCompare(r[e])*n:"number"===typeof t[e]?(t[e]-r[e])*n:0),l(t),N("asc"===j?"desc":"asc")})(e.target.value),children:[(0,_e.jsx)("option",{value:"",children:"Select"}),(0,_e.jsx)("option",{value:"totalAmount",children:"Total amount"}),(0,_e.jsx)("option",{value:"status",children:"Status"}),(0,_e.jsx)("option",{value:"contact",children:"Contact"})]})]})]}),y&&(0,_e.jsx)("div",{className:"orders-empty-state",children:"No orders matched your search."}),(0,_e.jsx)("div",{className:"orders-list",children:o.length>0?o.map((e,t)=>{var n,r,i;const o=function(){const e=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase();return e.includes("deliver")?"delivered":e.includes("cancel")?"cancelled":e.includes("confirm")?"confirmed":e.includes("processing")?"processing":"pending"}(e.status),c=String((null===e||void 0===e?void 0:e._id)||"").slice(-6)||"\u2026",u=null!==e&&void 0!==e&&e.createdAt?new Date(e.createdAt).toLocaleString():"Date unavailable",h=Array.isArray(e.items)?e.items:[],p=h.filter(t=>{const n=B(e._id,t.productId);return"accepted"===String((null===n||void 0===n?void 0:n.status)||"").toLowerCase()}),m=h.filter(t=>{const n=B(e._id,t.productId);return"accepted"!==String((null===n||void 0===n?void 0:n.status)||"").toLowerCase()}),v=Dr(e.totalAmount),g="cancelled"!==o&&"Canceled"!==(e.status||""),y=null===e||void 0===e||null===(n=e.paymentInfo)||void 0===n?void 0:n.paymentStatus,b=y?Dp(y):null,x="paid"===String(y||"").toLowerCase(),w=null===e||void 0===e||null===(r=e.paymentInfo)||void 0===r?void 0:r.receiptUrl,j=null===e||void 0===e||null===(i=e.paymentInfo)||void 0===i?void 0:i.slipUrl,N=x&&w||j,k=s&&Boolean(N),_=(null===e||void 0===e?void 0:e.paymentMethod)||"-";return(0,_e.jsxs)("article",{className:"order-card order-card--".concat(o),children:[(0,_e.jsxs)("header",{className:"order-card__header",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("div",{className:"order-card__title",children:["Order #",c]}),(0,_e.jsxs)("div",{className:"order-card__meta",children:["Placed ",u]})]}),(0,_e.jsx)("div",{className:"order-card__status order-card__status--".concat(o),children:e.status||"Pending"})]}),(0,_e.jsxs)("div",{className:"order-card__body",children:[(0,_e.jsxs)("div",{className:"order-card__column",children:[(0,_e.jsx)("span",{className:"order-card__label",children:"Contact"}),(0,_e.jsx)("span",{className:"order-card__value",children:e.contact||"Not provided"})]}),(0,_e.jsxs)("div",{className:"order-card__column",children:[(0,_e.jsx)("span",{className:"order-card__label",children:"Payment"}),(0,_e.jsxs)("span",{className:"order-card__value",children:[_,b&&(0,_e.jsxs)("span",{className:"order-card__subvalue",children:["\u2022 ",b]})]})]}),(0,_e.jsxs)("div",{className:"order-card__total",children:[(0,_e.jsx)("span",{className:"order-card__label",children:"Total"}),(0,_e.jsx)("span",{className:"order-card__total-value",children:v})]})]}),(0,_e.jsx)("div",{className:"order-card__items",children:m.length?m.map((t,n)=>{const r=t.productName||"Unnamed product",a=t.productId,i="string"===typeof a&&24===a.length,s=B(e._id,a),o=null===s||void 0===s?void 0:s.status,l=o?Dp(o):null;return(0,_e.jsxs)("div",{className:"order-item",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"order-item__name",children:r}),(0,_e.jsxs)("div",{className:"order-item__meta",children:["Qty ",t.quantity," \xb7 ",Dr(t.price)]})]}),(0,_e.jsxs)("div",{className:"order-item__buttons",children:[l&&(0,_e.jsx)("span",{className:"refund-status-badge refund-status-badge--".concat(o),title:"Refund status: ".concat(l),children:l}),(0,_e.jsx)("button",{type:"button",className:"order-item__refund",onClick:()=>q(e,t),children:s?"View refund":"Request refund"}),k&&(0,_e.jsx)("button",{type:"button",className:"order-item__receipt",onClick:()=>H(N),children:x?"Download receipt":"View payment slip"}),(0,_e.jsx)("button",{type:"button",className:"order-item__review",onClick:()=>((e,t)=>{e&&24===e.length?f("/add-review?productId=".concat(e,"&productName=").concat(encodeURIComponent(t))):alert("\u26a0\ufe0f Invalid productId, cannot review this item.")})(a,r),disabled:!i,children:"Leave review"})]})]},a||n)}):p.length?(0,_e.jsx)("div",{className:"orders-empty-state",children:"All items in this order have approved refunds. You can manage them in the refunded items section below."}):(0,_e.jsx)("div",{className:"orders-empty-state",children:"No items recorded for this order."})}),(0,_e.jsx)("footer",{className:"order-card__footer",children:(0,_e.jsxs)("div",{className:"order-card__actions",children:[x&&(0,_e.jsx)("button",{type:"button",className:"order-card__action order-card__action--receipt",onClick:()=>{var t;(t=e._id)&&f("/receipt/".concat(t))},children:"\ud83d\udcc4 Generate Receipt"}),k&&(0,_e.jsx)("button",{type:"button",className:"order-card__action order-card__action--receipt",onClick:()=>H(N),children:x?"Download receipt":"View payment slip"}),!k&&s&&!x&&(0,_e.jsx)("span",{className:"order-card__note",children:"Receipts or payment slips will appear once your payment is processed."}),g?(0,_e.jsx)("button",{type:"button",className:"order-card__action order-card__action--cancel",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to cancel this order?"))try{const t=Fp(),n=await fetch("".concat(Ep,"/api/orders/cancel/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({cancelReason:"Customer requested"})});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to cancel order")}alert("Order cancelled successfully!"),l(t=>t.filter(t=>t._id!==e)),d(t=>t.filter(t=>t._id!==e)),null===a||void 0===a||a(t=>(t||[]).filter(t=>t._id!==e))}catch(t){alert(t.message)}})(e._id),children:"Cancel order"}):(0,_e.jsx)("span",{className:"order-card__note",children:"This order can no longer be cancelled."})]})})]},(null===e||void 0===e?void 0:e._id)||"".concat(c,"-").concat(t))}):!y&&(0,_e.jsx)("div",{className:"orders-empty-state",children:"No orders yet. Add items to your cart and complete checkout to see them here."})}),M.length>0&&(0,_e.jsxs)("section",{className:"refunded-items card",children:[(0,_e.jsxs)("header",{className:"refunded-items__header",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h4",{className:"heading-sm",children:"Refunded items"}),(0,_e.jsx)("p",{className:"muted-text",children:"Items with approved refunds move here so you can revisit the details anytime."})]}),(0,_e.jsx)("span",{className:"refunded-items__count","aria-label":"Approved refunds count",children:M.length})]}),(0,_e.jsx)("div",{className:"refunded-items__list",children:M.map(e=>{var t,n,r,a,i,s;const o=Dr(((null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.price)||0)*((null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.quantity)||1)),l=(null===e||void 0===e||null===(r=e.decision)||void 0===r?void 0:r.decidedAt)||(null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.createdAt),d=l?new Date(l).toLocaleString():"",u=(null===e||void 0===e||null===(a=e.order)||void 0===a?void 0:a._id)||(null===e||void 0===e?void 0:e.order),h=u?String(u).slice(-6):null;return(0,_e.jsxs)("article",{className:"refunded-item",children:[(0,_e.jsxs)("div",{className:"refunded-item__info",children:[(0,_e.jsx)("div",{className:"refunded-item__name",children:(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.productName)||"Refunded item"}),(0,_e.jsxs)("div",{className:"refunded-item__meta",children:[(0,_e.jsxs)("span",{children:["Qty ",(null===e||void 0===e||null===(s=e.item)||void 0===s?void 0:s.quantity)||1]}),(0,_e.jsx)("span",{"aria-hidden":"true",children:"\u2022"}),(0,_e.jsx)("span",{children:o}),h&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("span",{"aria-hidden":"true",children:"\u2022"}),(0,_e.jsxs)("span",{children:["Order #",h]})]})]}),d&&(0,_e.jsxs)("div",{className:"refunded-item__date",children:["Approved ",d]})]}),(0,_e.jsx)("div",{className:"refunded-item__actions",children:(0,_e.jsx)("button",{type:"button",className:"order-item__refund",onClick:()=>(e=>{var t,n,r,a,i;if(!e)return;const s=(null===e||void 0===e||null===(t=e.order)||void 0===t?void 0:t._id)||(null===e||void 0===e?void 0:e.order),o=(c||[]).find(e=>String((null===e||void 0===e?void 0:e._id)||"")===String(s||"")),l={productId:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.productId,productName:null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.productName,quantity:null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.quantity,price:null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.price};q(o||{_id:s},l,e)})(e),children:"View refund"})})]},e._id)})})]}),S?(0,_e.jsx)(Rp,{children:(0,_e.jsxs)("div",{className:"refund-modal",role:"dialog","aria-modal":"true",children:[(0,_e.jsx)("div",{className:"refund-modal__backdrop",onClick:P?void 0:z,"aria-hidden":"true"}),(0,_e.jsxs)("div",{className:"refund-modal__content card",children:[(0,_e.jsxs)("div",{className:"refund-modal__header",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h4",{children:"Refund request"}),(0,_e.jsx)("p",{className:"muted-text",children:(null===(t=S.item)||void 0===t?void 0:t.productName)||"Selected item"})]}),(0,_e.jsx)("button",{type:"button",className:"refund-modal__close",onClick:z,disabled:P,"aria-label":"Close refund dialog",children:"\xd7"})]}),F.message&&(0,_e.jsx)("div",{className:"refund-alert refund-alert--".concat(F.type||"info"),children:F.message}),S.existing&&(0,_e.jsxs)("section",{className:"refund-modal__existing stack-sm",children:[(0,_e.jsxs)("div",{className:"refund-existing__status",children:[(0,_e.jsx)("span",{className:"refund-existing__label",children:"Current status"}),(0,_e.jsx)("span",{className:"refund-status-badge refund-status-badge--".concat(S.existing.status),children:Dp(S.existing.status)})]}),(0,_e.jsxs)("div",{className:"refund-existing__reason",children:[(0,_e.jsx)("span",{className:"refund-existing__label",children:"Reason provided"}),(0,_e.jsx)("p",{children:S.existing.reason})]}),S.existing.message&&(0,_e.jsxs)("div",{className:"refund-existing__reason",children:[(0,_e.jsx)("span",{className:"refund-existing__label",children:"Customer note"}),(0,_e.jsx)("p",{children:S.existing.message})]}),Array.isArray(S.existing.messages)&&S.existing.messages.length>0&&(0,_e.jsxs)("div",{className:"refund-thread",children:[(0,_e.jsx)("span",{className:"refund-existing__label",children:"Conversation"}),(0,_e.jsx)("ul",{className:"refund-thread__list",children:S.existing.messages.map((e,t)=>(0,_e.jsxs)("li",{children:[(0,_e.jsxs)("div",{className:"refund-thread__meta",children:[(0,_e.jsx)("strong",{children:"staff"===e.authorType?"Team":"You"}),(0,_e.jsx)("span",{children:e.createdAt?new Date(e.createdAt).toLocaleString():""})]}),(0,_e.jsx)("p",{children:e.message})]},"".concat(e.createdAt||t,"-").concat(t)))})]})]}),S.existing&&"declined"!==S.existing.status&&(0,_e.jsxs)("form",{className:"refund-form stack-md",onSubmit:async e=>{var t;null===e||void 0===e||e.preventDefault();const n=null===S||void 0===S||null===(t=S.existing)||void 0===t?void 0:t._id;if(!n)return;const r=R.trim();if(r){I(!0);try{const e=Fp();if(!e)throw new Error("You must be logged in to send a message");const t=await fetch("".concat(Ep,"/api/refunds/").concat(n,"/reply"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({message:r})}),a=await t.json().catch(()=>({}));if(!t.ok)throw new Error((null===a||void 0===a?void 0:a.message)||"Failed to send message");_(e=>e.map(e=>e._id===a._id?a:e)),A(e=>e?ke(ke({},e),{},{existing:a}):e),D(""),T({type:"success",message:"Message sent successfully."})}catch(a){T({type:"error",message:(null===a||void 0===a?void 0:a.message)||"Failed to send message."})}finally{I(!1)}}else T({type:"error",message:"Please enter a message before sending."})},children:[(0,_e.jsxs)("div",{className:"form-field",children:[(0,_e.jsx)("label",{htmlFor:"refund-reply-message",children:"Send a message to our team"}),(0,_e.jsx)("textarea",{id:"refund-reply-message",rows:3,value:R,onChange:e=>D(e.target.value),placeholder:"Share updates or answer any questions from our team.",disabled:O})]}),(0,_e.jsxs)("div",{className:"refund-form__actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:z,disabled:O,children:"Close"}),(0,_e.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:O,children:O?"Sending...":"Send message"})]})]}),(!S.existing||"declined"===S.existing.status)&&(0,_e.jsxs)("form",{className:"refund-form stack-md",onSubmit:async e=>{if(e.preventDefault(),!S)return;const{order:t,item:n,existing:r}=S;if(null===t||void 0===t||!t._id||null===n||void 0===n||!n.productId)return;if(r&&"declined"!==r.status)return void T({type:"info",message:"This item already has an active refund request."});const a=C.reason.trim();if(a){E(!0),T({type:"",message:""});try{const e=Fp();if(!e)throw new Error("You must be logged in to request a refund");const r=await fetch("".concat(Ep,"/api/refunds"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({orderId:t._id,productId:n.productId,reason:a,message:C.message.trim()})}),i=await r.json().catch(()=>({}));if(!r.ok)throw new Error((null===i||void 0===i?void 0:i.message)||"Failed to submit refund request");_(e=>[i,...e]),A({order:t,item:n,existing:i}),E(!1),L({reason:"",message:""}),T({type:"success",message:"Refund request submitted successfully."})}catch(i){E(!1),T({type:"error",message:(null===i||void 0===i?void 0:i.message)||"Failed to submit refund request."})}}else T({type:"error",message:"Please select a reason."})},children:[(0,_e.jsxs)("div",{className:"form-field",children:[(0,_e.jsx)("label",{htmlFor:"refund-reason",children:"Reason for refund"}),(0,_e.jsxs)("select",{id:"refund-reason",value:C.reason,onChange:e=>V("reason",e.target.value),disabled:P,required:!0,children:[(0,_e.jsx)("option",{value:"",children:"Select a reason"}),Tp.map(e=>(0,_e.jsx)("option",{value:e,children:e},e))]})]}),(0,_e.jsxs)("div",{className:"form-field",children:[(0,_e.jsx)("label",{htmlFor:"refund-message",children:"Additional details (optional)"}),(0,_e.jsx)("textarea",{id:"refund-message",rows:4,value:C.message,onChange:e=>V("message",e.target.value),placeholder:"Share any details that can help us process your request quickly.",disabled:P})]}),(0,_e.jsxs)("div",{className:"refund-form__actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:z,disabled:P,children:"Cancel"}),(0,_e.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:P,children:P?"Sending...":"Submit refund request"})]})]}),S.existing&&"declined"!==S.existing.status&&(0,_e.jsx)("div",{className:"refund-existing__footnote",children:"We'll notify you by email and in the app when there is an update on your refund request."})]})]})}):null]})},Ip="http://localhost:5000".replace(/\/$/,"");const Mp=function(e){let{initialOrders:t=null,embedded:n=!1,onOrdersChange:r}=e;const[a,s]=(0,i.useState)(()=>t||[]),[o,l]=(0,i.useState)(()=>!t),[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),p=(0,i.useCallback)(async()=>{const e=(()=>{try{return localStorage.getItem("token")||sessionStorage.getItem("token")}catch(e){try{return sessionStorage.getItem("token")}catch(t){return null}}})();try{if(l(!0),d(""),!e)throw new Error("You must be logged in to view cancelled orders");const t=await fetch("".concat(Ip,"/api/orders/cancelled"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.message||"Failed to fetch cancelled orders")}const n=await t.json(),a=Array.isArray(null===n||void 0===n?void 0:n.cancelledOrders)?n.cancelledOrders:[];s(a),null===r||void 0===r||r(a)}catch(t){console.error("Error fetching cancelled orders:",t),d((null===t||void 0===t?void 0:t.message)||"Unable to load cancelled orders"),s([]),null===r||void 0===r||r([])}finally{l(!1)}},[r]);(0,i.useEffect)(()=>{if(t)return s(t),void l(!1);p()},[t,p]);const m=(0,i.useMemo)(()=>{const e=u.trim().toLowerCase();return e?a.filter(t=>!![null===t||void 0===t?void 0:t.contact,null===t||void 0===t?void 0:t.paymentMethod,null===t||void 0===t?void 0:t.cancelReason,null===t||void 0===t?void 0:t._id].some(t=>t&&String(t).toLowerCase().includes(e))||((null===t||void 0===t?void 0:t.items)||[]).some(t=>String((null===t||void 0===t?void 0:t.productName)||"").toLowerCase().includes(e))):a},[a,u]),f=u.trim()?"No cancelled orders match your search.":"You have not cancelled any orders yet.";return o?(0,_e.jsx)("div",{className:"cancelled-orders-container".concat(n?" cancelled-orders-container--embedded":""),children:(0,_e.jsx)("div",{className:"status-banner status-banner--info",children:"Loading cancelled orders\u2026"})}):(0,_e.jsxs)("section",{className:"cancelled-orders-container".concat(n?" cancelled-orders-container--embedded":""),children:[(0,_e.jsx)("header",{className:"cancelled-orders-header stack-sm",children:(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h2",{className:"heading-md",children:"Cancelled orders"}),(0,_e.jsx)("p",{className:"muted-text",children:"A complete log of orders you cancelled. Review the reason, refund status, and item details anytime."})]})}),(0,_e.jsxs)("div",{className:"cancelled-orders-toolbar",children:[(0,_e.jsxs)("div",{className:"cancelled-orders-search",children:[(0,_e.jsx)("label",{htmlFor:"cancelled-orders-search",className:"visually-hidden",children:"Search cancelled orders"}),(0,_e.jsx)("input",{id:"cancelled-orders-search",type:"search",placeholder:"Search by product, contact, or reason",value:u,onChange:e=>h(e.target.value)})]}),(0,_e.jsx)("button",{type:"button",className:"cancelled-orders-refresh",onClick:p,disabled:o,children:"Refresh list"})]}),c&&(0,_e.jsx)("div",{className:"status-banner status-banner--error",role:"alert",children:c}),(0,_e.jsx)("div",{className:"cancelled-orders-list",children:m.length?m.map(e=>{const t=String((null===e||void 0===e?void 0:e._id)||"").slice(-6)||"",n=Array.isArray(null===e||void 0===e?void 0:e.items)?e.items:[],r=(e=>{if(!e)return"Date unavailable";try{return new Date(e).toLocaleString()}catch(t){return String(e)}})((null===e||void 0===e?void 0:e.cancelledAt)||(null===e||void 0===e?void 0:e.updatedAt)),a=(null===e||void 0===e?void 0:e.cancelReason)||"No reason provided";return(0,_e.jsxs)("article",{className:"cancelled-order-card",children:[(0,_e.jsxs)("header",{className:"cancelled-order-card__header",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("div",{className:"cancelled-order-card__title",children:["Order ",t?"#".concat(t):""]}),(0,_e.jsxs)("div",{className:"cancelled-order-card__meta",children:["Cancelled on ",r]})]}),(0,_e.jsx)("span",{className:"cancelled-order-card__badge","aria-label":"Order status: cancelled",children:"Cancelled"})]}),(0,_e.jsxs)("div",{className:"cancelled-order-card__body",children:[(0,_e.jsxs)("div",{className:"cancelled-order-card__column",children:[(0,_e.jsx)("span",{className:"label",children:"Contact"}),(0,_e.jsx)("span",{className:"value",children:(null===e||void 0===e?void 0:e.contact)||"Not provided"})]}),(0,_e.jsxs)("div",{className:"cancelled-order-card__column",children:[(0,_e.jsx)("span",{className:"label",children:"Payment"}),(0,_e.jsx)("span",{className:"value",children:(null===e||void 0===e?void 0:e.paymentMethod)||"-"})]}),(0,_e.jsxs)("div",{className:"cancelled-order-card__column",children:[(0,_e.jsx)("span",{className:"label",children:"Total"}),(0,_e.jsx)("span",{className:"value",children:Dr((null===e||void 0===e?void 0:e.totalAmount)||0)})]})]}),(0,_e.jsxs)("div",{className:"cancelled-order-card__reason",children:[(0,_e.jsx)("span",{className:"label",children:"Cancellation reason"}),(0,_e.jsx)("p",{children:a})]}),(0,_e.jsxs)("div",{className:"cancelled-order-card__items",children:[(0,_e.jsx)("span",{className:"label",children:"Items in this order"}),n.length?(0,_e.jsx)("ul",{children:n.map((e,t)=>(0,_e.jsxs)("li",{children:[(0,_e.jsx)("div",{className:"item-name",children:(null===e||void 0===e?void 0:e.productName)||"Unnamed product"}),(0,_e.jsxs)("div",{className:"item-meta",children:["Qty ",(null===e||void 0===e?void 0:e.quantity)||0," \xb7 ",Dr((null===e||void 0===e?void 0:e.price)||0)]})]},"".concat((null===e||void 0===e?void 0:e.productId)||t,"-").concat(t)))}):(0,_e.jsx)("div",{className:"orders-empty-state",children:"No items recorded for this order."})]})]},null===e||void 0===e?void 0:e._id)}):(0,_e.jsx)("div",{className:"orders-empty-state",children:f})})]})};var Bp,Up="basil",zp="https://js.stripe.com",qp="".concat(zp,"/").concat(Up,"/stripe.js"),Vp=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Hp=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Wp="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Gp=function(e){return Vp.test(e)||Hp.test(e)},Yp=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(qp).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},Kp=null,$p=null,Jp=null,Xp=function(e){return null!==Kp?Kp:(Kp=new Promise(function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(Wp),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(zp,'"]')),t=0;t<e.length;t++){var n=e[t];if(Gp(n.src))return n}return null}();if(r&&e)console.warn(Wp);else if(r){if(r&&null!==Jp&&null!==$p){var a;r.removeEventListener("load",Jp),r.removeEventListener("error",$p),null===(a=r.parentNode)||void 0===a||a.removeChild(r),r=Yp(e)}}else r=Yp(e);Jp=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),$p=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),r.addEventListener("load",Jp),r.addEventListener("error",$p)}catch(a_){return void n(a_)}else t(null)}),Kp.catch(function(e){return Kp=null,Promise.reject(e)}))},Qp=!1,Zp=function(){return Bp||(Bp=Xp(null).catch(function(e){return Bp=null,Promise.reject(e)}))};Promise.resolve().then(function(){return Zp()}).catch(function(e){Qp||console.warn(e)});var em=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Qp=!0;var r=Date.now();return Zp().then(function(e){return function(e,t,n){if(null===e)return null;var r=t[0].match(/^pk_test/),a=function(e){return 3===e?"v3":e}(e.version),i=Up;r&&a!==i&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(s,n),s}(e,t,r)})};const tm="http://localhost:5000",nm=em("pk_test_51SAFNAHA4HOCdU4ig1HnCpq2FKpDxrqte3bJoJx1fsB0kgIb2JSFklhVv6JSi0uTrg6zTmCuKSE62ksm6B7wzTWy00OjlQ1Sle"),rm=new Set(["dashboard","profile","orders","myfeedback","settings"]),am=new Set(["overview","cart","checkout","history","cancelled"]),im=e=>{if(!e)return"dashboard";const t=new URLSearchParams(e.search||""),n=(t.get("tab")||"").toLowerCase();if(rm.has(n))return n;const r=(t.get("view")||"").toLowerCase();if(am.has(r))return"orders";const a=(e.hash||"").toLowerCase();return"#profile"===a?"profile":"#orders"===a?"orders":"#settings"===a?"settings":"#myfeedback"===a?"myfeedback":["#cart","#checkout","#history","#cancelled"].includes(a)?"orders":"dashboard"},sm=e=>{if(!e)return"overview";const t=(new URLSearchParams(e.search||"").get("view")||"").toLowerCase();if(am.has(t))return t;const n=(e.hash||"").toLowerCase();return"#cart"===n?"cart":"#checkout"===n?"checkout":"#history"===n?"history":"#cancelled"===n?"cancelled":"overview"};function om(){var e,t;const{user:n,theme:r,setTheme:a,toggleTheme:s,token:o,updateProfile:l,changePassword:c,uploadAvatar:d,deleteAvatar:u,deleteAccount:h,logout:p}=Ae(),{cartItems:m,removeMultipleFromCart:f}=(0,i.useContext)(Oe),v=te(),g=Z(),y=(0,i.useMemo)(()=>((null===n||void 0===n?void 0:n.name)||"U").trim().split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase(),[n]),[b,x]=(0,i.useState)(()=>im(g)),[w,j]=(0,i.useState)(()=>sm(g)),[N,k]=(0,i.useState)([]),[_,S]=(0,i.useState)(!1),[A,C]=(0,i.useState)(""),[L,P]=(0,i.useState)([]),[E,F]=(0,i.useState)(!1),[T,R]=(0,i.useState)(""),[D,O]=(0,i.useState)([]),[I,M]=(0,i.useState)(""),[B,U]=(0,i.useState)("Pay Online"),[z,q]=(0,i.useState)(!1),[V,H]=(0,i.useState)(""),[W,G]=(0,i.useState)(""),Y=(0,i.useCallback)(e=>{x("orders"),j(e)},[]),[K,$]=(0,i.useState)({name:(null===n||void 0===n?void 0:n.name)||"",email:(null===n||void 0===n?void 0:n.email)||"",age:null!==(e=null===n||void 0===n?void 0:n.age)&&void 0!==e?e:"",address:(null===n||void 0===n?void 0:n.address)||""}),[J,X]=(0,i.useState)(!1),[Q,ee]=(0,i.useState)({current:"",next:"",confirm:""}),[ne,re]=(0,i.useState)({current:!1,next:!1,confirm:!1}),[ae,ie]=(0,i.useState)(""),[se,oe]=(0,i.useState)(""),[le,ce]=(0,i.useState)(!1),de=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=im(g);x(t=>t===e?t:e);const t=sm(g);j(e=>e===t?e:t)},[g]);const ue=(0,i.useMemo)(()=>"user"===String((null===n||void 0===n?void 0:n.role)||"").toLowerCase(),[null===n||void 0===n?void 0:n.role]);(0,i.useEffect)(()=>{var e;$({name:(null===n||void 0===n?void 0:n.name)||"",email:(null===n||void 0===n?void 0:n.email)||"",age:null!==(e=null===n||void 0===n?void 0:n.age)&&void 0!==e?e:"",address:(null===n||void 0===n?void 0:n.address)||""})},[n]);const he=(0,i.useCallback)(async()=>{if(!o)return k([]),C("Not authenticated"),[];S(!0),C("");try{const e=await fetch("".concat(tm,"/api/orders"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}}),t=await e.json().catch(()=>({}));if(!e.ok)throw new Error(t.message||"Failed to load orders");const n=Array.isArray(t.orders)?t.orders:[];return k(n),n}catch(e){return C(e.message||"Failed to load orders"),k([]),[]}finally{S(!1)}},[o]),pe=(0,i.useCallback)(async()=>{if(!o)return P([]),R("Not authenticated"),[];F(!0),R("");try{const e=await fetch("".concat(tm,"/api/orders/cancelled"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}}),t=await e.json().catch(()=>({}));if(!e.ok)throw new Error(t.message||"Failed to load cancelled orders");const n=Array.isArray(t.cancelledOrders)?t.cancelledOrders:[];return P(n),n}catch(e){return R(e.message||"Failed to load cancelled orders"),P([]),[]}finally{F(!1)}},[o]);(0,i.useEffect)(()=>{he(),pe()},[he,pe]),(0,i.useEffect)(()=>{"orders"===b&&("history"===w?he():"cancelled"===w&&pe())},[b,w,he,pe]),(0,i.useEffect)(()=>{"orders"===b&&"checkout"===w&&0===D.length&&j("cart")},[b,w,D.length]);const me=(0,i.useMemo)(()=>m.reduce((e,t)=>e+t.price*t.quantity,0),[m]),fe=(0,i.useMemo)(()=>D.reduce((e,t)=>e+t.price*t.quantity,0),[D]),ve=(0,i.useMemo)(()=>{if(!Array.isArray(N)||0===N.length)return{total:0,pending:0,delivered:0,value:0};const e=N.filter(e=>String(e.status||"").toLowerCase().includes("pending")).length,t=N.filter(e=>String(e.status||"").toLowerCase().includes("delivered")).length,n=N.reduce((e,t)=>e+Number(t.totalAmount||0),0);return{total:N.length,pending:e,delivered:t,value:n}},[N]),ge=D.length>0,ye=(0,i.useMemo)(()=>[{id:"overview",label:"Overview",icon:"\ud83e\udded"},{id:"cart",label:"Cart (".concat(m.length,")"),icon:"\ud83d\uded2"},{id:"checkout",label:"Checkout",icon:"\ud83d\udcb3",disabled:!ge},{id:"history",label:"History",icon:"\ud83d\udce6"},{id:"cancelled",label:"Cancelled",icon:"\ud83d\uddd1\ufe0f"}],[m.length,ge]),be=(0,i.useCallback)(e=>{k(t=>{const n="function"===typeof e?e(t):e;return Array.isArray(n)?n:t}),"function"===typeof e&&pe()},[pe]),xe=(0,i.useCallback)(e=>{P(t=>{const n="function"===typeof e?e(t):e;return Array.isArray(n)?n:t})},[]),we=e=>{O(e),M(""),U("Pay Online"),G(""),H(""),q(!1),Y("checkout")},je=()=>{O([]),M(""),U("Pay Online"),G(""),H(""),q(!1),Y("cart")},Ne=async()=>{if(H(""),G(""),I&&/^\d{7,15}$/.test(I))if(0!==D.length)try{var e;if(q(!0),!o)throw new Error("You must login first");const t=D.map(e=>({productId:e.productId||e._id,productName:e.name||e.productName,quantity:e.quantity,price:e.price})),n=await fetch("".concat(tm,"/api/orders"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({contact:I,paymentMethod:B,items:t})}),r=await n.json().catch(()=>({}));if(!n.ok)throw new Error(r.message||"Failed to place order");const a=null===r||void 0===r||null===(e=r.order)||void 0===e?void 0:e._id;if("Pay Online"===B){const e=await fetch("".concat(tm,"/api/payments/stripe/create-checkout-session"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({amount:Math.round(100*D.reduce((e,t)=>e+t.price*t.quantity,0)),currency:"usd",orderId:a})}),t=await e.json().catch(()=>({}));if(!e.ok||!t.id)throw new Error(t.error||"Failed to initialise payment");const n=await nm;if(!n)throw new Error("Stripe is not configured");await n.redirectToCheckout({sessionId:t.id})}else f(t.map(e=>e.productId)),H("Order placed successfully!"),O([]),M(""),U("Pay Online"),Y("history"),await he(),await pe()}catch(t){G(t.message||"Failed to place order")}finally{q(!1)}else G("Select at least one item to place an order");else G("Please enter a valid contact number (digits only)")},Se="dashboard"===b?"Customer dashboard":"profile"===b?"Profile":"orders"===b?{overview:"My orders",cart:"Cart & checkout",checkout:"Checkout",history:"Order history",cancelled:"Cancelled orders"}[w]||"My orders":"myfeedback"===b?"My feedback":"settings"===b?"Settings":"Customer dashboard";return(0,_e.jsxs)("div",{className:"dashboard-shell dashboard-shell--two-column customer-dashboard",children:[(0,_e.jsxs)("aside",{className:"card dashboard-sidebar",children:[(0,_e.jsxs)("div",{className:"sidebar-profile",children:[null!==n&&void 0!==n&&n.avatar?(0,_e.jsx)("img",{alt:"avatar",src:n.avatar,className:"avatar avatar--md"}):(0,_e.jsx)("div",{className:"avatar avatar--md avatar--fallback",children:y}),(0,_e.jsxs)("div",{className:"sidebar-profile__meta",children:[(0,_e.jsx)("div",{className:"font-semibold",children:(null===n||void 0===n?void 0:n.name)||"User"}),(0,_e.jsx)("div",{className:"text-xs text-muted",children:null===n||void 0===n?void 0:n.email})]})]}),(0,_e.jsxs)("nav",{className:"dashboard-nav stack-sm",children:[(0,_e.jsxs)("button",{type:"button",onClick:()=>x("dashboard"),className:"sidebar-link ".concat("dashboard"===b?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcca"}),(0,_e.jsx)("span",{children:"Dashboard"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>x("profile"),className:"sidebar-link ".concat("profile"===b?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udc64"}),(0,_e.jsx)("span",{children:"Profile"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>Y("overview"),className:"sidebar-link ".concat("orders"!==b||"overview"!==w&&"history"!==w?"":"is-active"),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83e\uddfe"}),(0,_e.jsx)("span",{children:"My orders"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>x("myfeedback"),className:"sidebar-link ".concat("myfeedback"===b?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcac"}),(0,_e.jsx)("span",{children:"My reviews"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>x("settings"),className:"sidebar-link ".concat("settings"===b?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\u2699\ufe0f"}),(0,_e.jsx)("span",{children:"Settings"})]})]}),(0,_e.jsx)("div",{className:"sidebar-footer",children:(0,_e.jsxs)("button",{onClick:()=>{p(),v("/login",{replace:!0})},type:"button",className:"btn btn-danger w-full",children:[(0,_e.jsx)("span",{children:"\ud83d\udeaa"}),(0,_e.jsx)("span",{children:"Logout"})]})})]}),(0,_e.jsxs)("section",{className:"dashboard-main stack-lg",children:[(0,_e.jsxs)("header",{className:"card dashboard-header",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"eyebrow",children:"Welcome back"}),(0,_e.jsx)("h2",{className:"heading-lg",children:Se})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:s,children:"dark"===r?"Light mode":"Dark mode"})]}),"dashboard"===b&&(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Quick links"}),(0,_e.jsx)("p",{className:"muted-text",children:"Jump straight to the pages you use most to keep your account up to date."})]}),(0,_e.jsxs)("div",{className:"orders-grid",children:[(0,_e.jsxs)("article",{className:"card stack-sm",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"badge badge-green",children:"Orders"}),(0,_e.jsx)("h4",{className:"heading-sm",children:"Track your orders"}),(0,_e.jsx)("p",{className:"muted-text",children:"Review progress, download receipts, and place new orders."})]}),(0,_e.jsx)("div",{className:"action-grid",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>Y("overview"),children:"Go to orders"})})]}),(0,_e.jsxs)("article",{className:"card stack-sm",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"badge badge-amber",children:"Cart"}),(0,_e.jsx)("h4",{className:"heading-sm",children:"Review your cart"}),(0,_e.jsx)("p",{className:"muted-text",children:"Check item quantities and proceed to secure checkout when ready."})]}),(0,_e.jsx)("div",{className:"action-grid",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>Y("cart"),children:"Open cart"})})]}),(0,_e.jsxs)("article",{className:"card stack-sm",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"badge badge-gray",children:"Profile"}),(0,_e.jsx)("h4",{className:"heading-sm",children:"Update your details"}),(0,_e.jsx)("p",{className:"muted-text",children:"Change your contact information, avatar, or password whenever needed."})]}),(0,_e.jsx)("div",{className:"action-grid",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>x("profile"),children:"Manage profile"})})]}),(0,_e.jsxs)("article",{className:"card stack-sm",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"badge badge-green",children:"Feedback"}),(0,_e.jsx)("h4",{className:"heading-sm",children:"Share product feedback"}),(0,_e.jsx)("p",{className:"muted-text",children:"View or update your product reviews to help other customers."})]}),(0,_e.jsx)("div",{className:"action-grid",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>x("myfeedback"),children:"My reviews"})})]})]})]}),"orders"===b&&(0,_e.jsxs)("div",{className:"stack-lg",children:[(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Order hub"}),(0,_e.jsx)("p",{className:"muted-text",children:"Track purchases, pay for pending carts, and leave product feedback in one place."})]}),(0,_e.jsxs)("div",{className:"orders-grid",children:[(0,_e.jsxs)("article",{className:"card stack-sm",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"badge badge-amber",children:"Active cart"}),(0,_e.jsxs)("h4",{className:"heading-sm",children:["Your cart (",m.length,")"]}),(0,_e.jsx)("p",{className:"muted-text",children:"Review selected items and head to checkout when you're ready."})]}),(0,_e.jsx)("div",{className:"action-grid",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>Y("cart"),children:"Go to cart"})})]}),(0,_e.jsxs)("article",{className:"card stack-sm",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"badge badge-green",children:"History"}),(0,_e.jsx)("h4",{className:"heading-sm",children:"Orders placed"}),(0,_e.jsx)("p",{className:"muted-text",children:"See payment status, track fulfilment, and add reviews."})]}),(0,_e.jsx)("div",{className:"action-grid",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>Y("history"),children:"View orders"})})]}),(0,_e.jsxs)("article",{className:"card stack-sm",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"badge badge-gray",children:"Archive"}),(0,_e.jsx)("h4",{className:"heading-sm",children:"Cancelled orders"}),(0,_e.jsx)("p",{className:"muted-text",children:"Anything you or an admin cancelled lives here for reference."})]}),(0,_e.jsx)("div",{className:"action-grid",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>Y("cancelled"),children:"View cancellations"})})]})]})]}),(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsx)("div",{className:"orders-view-toggle",children:ye.map(e=>{const t=w===e.id;return(0,_e.jsxs)("button",{type:"button",className:"orders-view-toggle__btn ".concat(t?"is-active":""),onClick:()=>{e.disabled||Y(e.id)},disabled:e.disabled,children:[(0,_e.jsx)("span",{children:e.icon}),(0,_e.jsx)("span",{children:e.label})]},e.id)})}),(V||W)&&(0,_e.jsx)("div",{className:"status-banner ".concat(W?"status-banner--error":"status-banner--success"),children:W||V}),(()=>{switch(w){case"cart":return(0,_e.jsxs)("div",{className:"stack-md",children:[(0,_e.jsx)(Pp,{embedded:!0,onCheckout:we}),(0,_e.jsx)("p",{className:"muted-text",children:"Select the products you want to buy and click \u201cProceed to Checkout\u201d to lock in the order."})]});case"checkout":return D.length?(0,_e.jsxs)("div",{className:"stack-lg",children:[(0,_e.jsx)("div",{className:"orders-checkout-list",children:D.map(e=>{const t=e.productId||e._id,n=e.name||e.productName;return(0,_e.jsxs)("div",{className:"orders-checkout-item",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"orders-checkout-item__title",children:n}),(0,_e.jsxs)("div",{className:"orders-checkout-item__meta",children:["Qty ",e.quantity," \xd7 ",Dr(e.price)]})]}),(0,_e.jsx)("div",{className:"orders-checkout-item__title",children:Dr(e.quantity*e.price)})]},t)})}),(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"checkout-contact",children:"Contact number"}),(0,_e.jsx)("input",{id:"checkout-contact",className:"input",value:I,onChange:e=>M(e.target.value),placeholder:"e.g. 0712345678",inputMode:"tel"})]}),(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"checkout-payment",children:"Payment method"}),(0,_e.jsxs)("select",{id:"checkout-payment",className:"input",value:B,onChange:e=>U(e.target.value),children:[(0,_e.jsx)("option",{value:"Pay Online",children:"Pay online (Stripe)"}),(0,_e.jsx)("option",{value:"Cash on Delivery",children:"Cash on delivery"})]})]}),(0,_e.jsxs)("div",{className:"orders-checkout-total",children:[(0,_e.jsx)("span",{children:"Total due:"}),(0,_e.jsx)("span",{children:Dr(fe)})]}),(0,_e.jsxs)("div",{className:"action-grid justify-end",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:je,disabled:z,children:"Back to cart"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-primary",onClick:Ne,disabled:z,children:z?"Processing\u2026":"Pay Online"===B?"Pay securely":"Place order"})]})]}):(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("div",{className:"orders-empty-state",children:"Select at least one product from your cart to start checkout."}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm align-self-start",onClick:()=>Y("cart"),disabled:z,children:"Back to cart"})]});case"history":return _?(0,_e.jsx)("p",{className:"muted-text",children:"Loading your orders\u2026"}):A?(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("div",{className:"status-banner status-banner--error",children:A}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm align-self-start",onClick:he,children:"Retry"})]}):(0,_e.jsx)(Op,{embedded:!0,initialOrders:N,onOrdersChange:be,allowReceipts:!0});case"cancelled":return E?(0,_e.jsx)("p",{className:"muted-text",children:"Loading cancelled orders\u2026"}):T?(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("div",{className:"status-banner status-banner--error",children:T}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm align-self-start",onClick:pe,children:"Retry"})]}):(0,_e.jsx)(Mp,{embedded:!0,initialOrders:L,onOrdersChange:xe});default:{const e=N.slice(0,3);return(0,_e.jsxs)("div",{className:"stack-lg",children:[(0,_e.jsxs)("div",{className:"orders-overview-grid",children:[(0,_e.jsxs)("div",{className:"orders-overview-card",children:[(0,_e.jsx)("span",{className:"muted-heading",children:"Cart items"}),(0,_e.jsx)("span",{className:"orders-overview-value",children:m.length}),(0,_e.jsxs)("span",{className:"muted-text",children:["Worth ",Dr(me)]})]}),(0,_e.jsxs)("div",{className:"orders-overview-card",children:[(0,_e.jsx)("span",{className:"muted-heading",children:"Pending orders"}),(0,_e.jsx)("span",{className:"orders-overview-value",children:ve.pending}),(0,_e.jsx)("span",{className:"muted-text",children:"Awaiting fulfilment"})]}),(0,_e.jsxs)("div",{className:"orders-overview-card",children:[(0,_e.jsx)("span",{className:"muted-heading",children:"Delivered"}),(0,_e.jsx)("span",{className:"orders-overview-value",children:ve.delivered}),(0,_e.jsx)("span",{className:"muted-text",children:"Completed orders"})]}),(0,_e.jsxs)("div",{className:"orders-overview-card",children:[(0,_e.jsx)("span",{className:"muted-heading",children:"Cancelled"}),(0,_e.jsx)("span",{className:"orders-overview-value",children:L.length}),(0,_e.jsx)("span",{className:"muted-text",children:"In your archive"})]})]}),A&&!_&&(0,_e.jsx)("div",{className:"status-banner status-banner--error",children:A}),T&&!E&&(0,_e.jsx)("div",{className:"status-banner status-banner--error",children:T}),(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("h4",{className:"heading-sm",children:"Latest updates"}),_?(0,_e.jsx)("p",{className:"muted-text",children:"Loading your latest orders\u2026"}):e.length?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("ul",{className:"orders-overview-list",children:e.map(e=>{const t=String((null===e||void 0===e?void 0:e._id)||"").slice(-6)||"\u2026",n=null!==e&&void 0!==e&&e.createdAt?new Date(e.createdAt).toLocaleString():"Date unavailable",r=String((null===e||void 0===e?void 0:e.status)||"Pending"),a=Dr(null===e||void 0===e?void 0:e.totalAmount);return(0,_e.jsxs)("li",{className:"orders-overview-list__item",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("div",{className:"orders-overview-item__title",children:["#",t]}),(0,_e.jsx)("div",{className:"orders-overview-list__meta",children:n})]}),(0,_e.jsxs)("div",{className:"orders-overview-list__meta",children:[r," \xb7 ",a]})]},(null===e||void 0===e?void 0:e._id)||n)})}),(0,_e.jsx)("div",{className:"action-grid",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm align-self-start",onClick:()=>Y("history"),children:"See all orders"})})]}):(0,_e.jsx)("div",{className:"orders-empty-state",children:"No orders yet. Start by adding items to your cart and checking out."})]})]})}}})()]})]}),"myfeedback"===b&&(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"My reviews"}),(0,_e.jsx)(jp,{embedded:!0})]}),"profile"===b&&(0,_e.jsxs)("div",{className:"stack-lg",children:[(ae||se)&&(0,_e.jsx)("div",{className:"status-banner ".concat(se?"status-banner--error":"status-banner--success"),children:se||ae}),(0,_e.jsxs)("div",{className:"card profile-hero",children:[(0,_e.jsxs)("div",{className:"profile-hero__media stack-sm",children:[(0,_e.jsx)("div",{className:"profile-avatar-frame",children:null!==n&&void 0!==n&&n.avatar?(0,_e.jsx)("img",{src:n.avatar,alt:"avatar",className:"profile-avatar-img"}):(0,_e.jsx)("div",{className:"avatar avatar--xl avatar--fallback",children:y})}),(0,_e.jsxs)("div",{className:"action-grid",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>{var e;J||(ie(""),oe(""),null===(e=de.current)||void 0===e||e.click())},disabled:J,children:J?"Uploading\u2026":null!==n&&void 0!==n&&n.avatar?"Change photo":"Upload photo"}),(null===n||void 0===n?void 0:n.avatar)&&(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:async()=>{if(null!==n&&void 0!==n&&n.avatar&&!J&&window.confirm("Remove your profile photo?")){X(!0),ie(""),oe("");try{await u(),ie("Profile photo removed")}catch(e){oe(e.message||"Failed to remove photo")}finally{X(!1)}}},disabled:J,children:"Remove"})]}),(0,_e.jsx)("input",{ref:de,type:"file",accept:"image/*",className:"sr-only",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){if(!n.type.startsWith("image/"))return oe("Please choose an image file"),void(e.target.value="");if(n.size>2097152)return oe("Profile photos must be smaller than 2MB"),void(e.target.value="");X(!0),ie(""),oe("");try{await d(n),ie("Profile photo updated")}catch(r){oe(r.message||"Failed to upload photo")}finally{X(!1),e.target.value=""}}}}),(0,_e.jsx)("span",{className:"muted-text text-xs",children:"JPG or PNG up to 2MB."})]}),(0,_e.jsxs)("div",{className:"profile-hero__info stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:(null===n||void 0===n?void 0:n.name)||"Your profile"}),(0,_e.jsx)("span",{className:"muted-text",children:null===n||void 0===n?void 0:n.email}),(0,_e.jsxs)("div",{className:"profile-hero__badges",children:[(0,_e.jsx)("span",{className:"badge badge-gray",children:"Customer"}),(0,_e.jsxs)("span",{className:"badge badge-amber",children:["ID \u2022 ",(null===n||void 0===n||null===(t=n._id)||void 0===t?void 0:t.slice(-6))||"000000"]})]})]}),(0,_e.jsx)("p",{className:"profile-hero__copy muted-text",children:"Personalize your space so orders, reviews, and notifications feel tailored to you."})]}),(0,_e.jsxs)("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,7fr)_minmax(0,5fr)]",children:[(0,_e.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),ie(""),oe("");try{const e=(K.name||"").trim(),t="string"===typeof K.address?K.address.trim():"";if(!e)return oe("Name is required");const n=""===K.age||null===K.age?null:Number(K.age);if(""!==K.age&&null!==K.age&&Number.isNaN(n))return oe("Age must be a valid number");const r=await l({name:e,age:n,address:t});$(a=>ke(ke({},a),{},{name:r.name||e,age:void 0===r.age||null===r.age?null===n?"":n:r.age,address:r.address||t})),ie("Profile updated")}catch(t){oe(t.message||"Failed to update profile")}},className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Profile details"}),(0,_e.jsx)("p",{className:"muted-text",children:"Update how we address you for deliveries and follow-ups."})]}),(0,_e.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"customer-name",children:"Display name"}),(0,_e.jsx)("input",{id:"customer-name",className:"input",value:K.name,onChange:e=>$(ke(ke({},K),{},{name:e.target.value})),placeholder:"e.g. Jamie Smith",autoComplete:"name"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"customer-email",children:"Email"}),(0,_e.jsx)("input",{id:"customer-email",className:"input",value:K.email,disabled:!0,readOnly:!0,"aria-readonly":"true"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"customer-age",children:"Age"}),(0,_e.jsx)("input",{id:"customer-age",className:"input",type:"number",min:"0",value:K.age,onChange:e=>$(ke(ke({},K),{},{age:e.target.value})),placeholder:"Optional"})]}),(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"customer-address",children:"Address"}),(0,_e.jsx)("textarea",{id:"customer-address",className:"input",rows:3,value:K.address,onChange:e=>$(ke(ke({},K),{},{address:e.target.value})),placeholder:"Where should we deliver?",autoComplete:"street-address"})]})]}),(0,_e.jsxs)("div",{className:"action-grid justify-end",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>{(()=>{var e;$({name:(null===n||void 0===n?void 0:n.name)||"",email:(null===n||void 0===n?void 0:n.email)||"",age:null!==(e=null===n||void 0===n?void 0:n.age)&&void 0!==e?e:"",address:(null===n||void 0===n?void 0:n.address)||""})})(),oe(""),ie("")},children:"Reset"}),(0,_e.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save changes"})]})]}),(0,_e.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),ie(""),oe(""),!Q.next||Q.next.length<6)return oe("New password must be at least 6 characters");if(Q.next!==Q.confirm)return oe("Passwords do not match");try{await c(Q.current,Q.next),ie("Password changed"),ee({current:"",next:"",confirm:""}),re({current:!1,next:!1,confirm:!1})}catch(t){oe(t.message||"Failed to change password")}},className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Password"}),(0,_e.jsx)("p",{className:"muted-text",children:"Choose a strong password you haven't used elsewhere."})]}),(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"customer-password-current",children:"Current password"}),(0,_e.jsxs)("div",{className:"relative",children:[(0,_e.jsx)("input",{id:"customer-password-current",className:"input pr-10",type:ne.current?"text":"password",value:Q.current,onChange:e=>ee(ke(ke({},Q),{},{current:e.target.value})),autoComplete:"current-password"}),(0,_e.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-lg",onClick:()=>re(e=>ke(ke({},e),{},{current:!e.current})),children:ne.current?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]})]}),(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"customer-password-new",children:"New password"}),(0,_e.jsxs)("div",{className:"relative",children:[(0,_e.jsx)("input",{id:"customer-password-new",className:"input pr-10",type:ne.next?"text":"password",value:Q.next,onChange:e=>ee(ke(ke({},Q),{},{next:e.target.value})),autoComplete:"new-password"}),(0,_e.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-lg",onClick:()=>re(e=>ke(ke({},e),{},{next:!e.next})),children:ne.next?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]})]}),(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"customer-password-confirm",children:"Confirm new password"}),(0,_e.jsxs)("div",{className:"relative",children:[(0,_e.jsx)("input",{id:"customer-password-confirm",className:"input pr-10",type:ne.confirm?"text":"password",value:Q.confirm,onChange:e=>ee(ke(ke({},Q),{},{confirm:e.target.value})),autoComplete:"new-password"}),(0,_e.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-lg",onClick:()=>re(e=>ke(ke({},e),{},{confirm:!e.confirm})),children:ne.confirm?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]})]}),(0,_e.jsx)("div",{className:"action-grid justify-end",children:(0,_e.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Update password"})})]})]}),ue?(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Delete account"}),(0,_e.jsx)("p",{className:"muted-text",children:"Permanently remove your SmartHardware account, including order history and saved preferences. This action cannot be undone."})]}),(0,_e.jsx)("div",{className:"action-grid justify-end",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-danger",onClick:async()=>{if(!ue)return;if(window.confirm("Delete your SmartHardware account? This action is permanent and cannot be undone.")){ie(""),oe("");try{ce(!0);const e=await h();window.alert((null===e||void 0===e?void 0:e.message)||"Your account has been deleted."),v("/",{replace:!0})}catch(a_){oe(a_.message||"Failed to delete account")}finally{ce(!1)}}},disabled:le,children:le?"Deleting\u2026":"Delete my account"})})]}):(0,_e.jsx)("div",{className:"card stack-md",children:(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Need to close your account?"}),(0,_e.jsx)("p",{className:"muted-text",children:"Please contact an administrator or customer care manager to help you delete this account."})]})})]}),"settings"===b&&(0,_e.jsx)("div",{className:"card stack-md",children:(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("label",{className:"label",children:"Theme"}),(0,_e.jsxs)("select",{value:r,onChange:e=>a(e.target.value),className:"input",children:[(0,_e.jsx)("option",{value:"light",children:"Light"}),(0,_e.jsx)("option",{value:"dark",children:"Dark"})]})]})})]})]})}const lm=Gh("calendar-range",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]),cm=Gh("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),dm=Gh("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),um=Gh("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),hm=Gh("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),pm="http://localhost:5000".replace(/\/$/,""),mm="".concat(pm,"/api"),fm=[{id:"online",title:"Online payments",description:"Customer purchases completed via online checkout."},{id:"suppliers",title:"Supplier payments",description:"Payments issued to suppliers with uploaded slips."},{id:"declined",title:"Declined payments",description:"Supplier payment slips that were rejected or cancelled."},{id:"notifications",title:"Notifications",description:"Latest payment activity alerts for finance."},{id:"attendance",title:"Attendance summary",description:"Monthly attendance breakdown pulled from HR records."}],vm={online:"canViewOnline",suppliers:"canViewSupplier",declined:"canViewDeclined",notifications:"canViewNotifications",attendance:"canViewAttendance"},gm={admin:12500,supplier:7500,"supplier manager":7800,"customer care manager":8200,"customer service":6200,technician:6800,accountant:9400,default:6500},ym=8*1,bm=8*.75,xm=8*.5,wm=e=>{if(!(e instanceof Date)||Number.isNaN(e.getTime()))return"";const t=new Date(e.getTime());return t.setHours(0,0,0,0),t.toISOString().slice(0,10)},jm=(e,t)=>{const n=new Date(e.getTime());return n.setDate(n.getDate()+t),n},Nm=e=>{const t=new Date;switch(t.setHours(0,0,0,0),e){case"last7":return{from:wm(jm(t,-6)),to:wm(t)};case"last30":return{from:wm(jm(t,-29)),to:wm(t)};case"mtd":{const e=(e=>{const t=new Date(e.getFullYear(),e.getMonth(),1);return t.setHours(0,0,0,0),t})(t);return{from:wm(e),to:wm(t)}}case"ytd":{const e=(e=>{const t=new Date(e.getFullYear(),0,1);return t.setHours(0,0,0,0),t})(t);return{from:wm(e),to:wm(t)}}default:return{from:"",to:""}}},km=[{id:"last7",label:"Last 7 days"},{id:"last30",label:"Last 30 days"},{id:"mtd",label:"Month to date"},{id:"ytd",label:"Year to date"}],_m=[{id:"last7",label:"Last 7 days"},{id:"last30",label:"Last 30 days"},{id:"mtd",label:"Month to date"},{id:"ytd",label:"Year to date"}],Sm=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!Number.isFinite(e))return 0;const n=10**t;return Math.round(e*n)/n},Am=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isFinite(e)?Number(e).toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"0"},Cm=e=>{switch((e||"").toLowerCase()){case"paid":return{label:"Approved",tone:"status-chip--success"};case"pending":case"requires_action":return{label:"Pending",tone:"status-chip--warning"};case"failed":case"canceled":return{label:"Declined",tone:"status-chip--danger"};default:return{label:e||"Unknown",tone:""}}},Lm=e=>{if(!e)return"\u2014";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"\u2014":t.toLocaleString()},Pm=e=>{const t=Number(null===e||void 0===e?void 0:e.amount);if(!Number.isFinite(t))return"\u2014";const n="stripe"===(null===e||void 0===e?void 0:e.method)?100:1;return Dr(t/n)},Em=()=>{const e=new Date,t=e.toISOString().slice(0,10);return{from:new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)).toISOString().slice(0,10),to:t,role:"all"}};function Fm(e){let{initialView:t="online",capabilities:n={}}=e;const{token:r}=Ae(),[a,s]=(0,i.useState)(t),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)([]),[p,m]=(0,i.useState)([]),[f,v]=(0,i.useState)(null),[g,y]=(0,i.useState)(Em),[b,x]=(0,i.useState)({from:"",to:""}),[w,j]=(0,i.useState)(0),[N,k]=(0,i.useState)(""),[_,S]=(0,i.useState)({}),A=(0,i.useMemo)(()=>(e=>{const t={};return e&&(t.Authorization="Bearer ".concat(e)),t})(r),[r]),C=(0,i.useMemo)(()=>ke({canAccessConsole:!0,canViewOnline:!0,canViewSupplier:!0,canViewDeclined:!0,canDeleteDeclined:!0,canViewNotifications:!0,canViewAttendance:!0,canManageSalary:!0},n),[n]),L=(0,i.useMemo)(()=>fm.filter(e=>C[vm[e.id]]),[C]),P=(0,i.useMemo)(()=>C.canAccessConsole&&L.length>0,[C.canAccessConsole,L.length]);(0,i.useEffect)(()=>{0!==L.length&&(L.some(e=>e.id===a)||s(L[0].id))},[L,a]);const E=(0,i.useMemo)(()=>Boolean(C[vm[a]]),[C,a]),F=Boolean(C.canManageSalary),T=(0,i.useMemo)(()=>{const e=new Map;return((null===f||void 0===f?void 0:f.users)||[]).forEach(t=>{null!==t&&void 0!==t&&t.userId&&e.set(t.userId,t)}),e},[f]),R=(0,i.useMemo)(()=>{const e=new Set;return((null===f||void 0===f?void 0:f.users)||[]).forEach(t=>{const n=String((null===t||void 0===t?void 0:t.role)||"").trim();if(!n)return;const r=n.toLowerCase();r.includes("supplier")||"user"!==r&&"customer"!==r&&e.add(n)}),Array.from(e).sort((e,t)=>e.localeCompare(t))},[f]),D=(0,i.useCallback)(e=>{const t=String((null===e||void 0===e?void 0:e.role)||"").toLowerCase();return{hourlyRate:Sm((gm[t]||gm.default)/8),overtimeHours:0,overtimeMultiplier:1.5,bonus:0,deductions:0}},[]);(0,i.useEffect)(()=>{null!==f&&void 0!==f&&f.users&&S(e=>{const t={},n=new Set;return f.users.forEach(r=>{if(null===r||void 0===r||!r.userId)return;n.add(r.userId);const a=e[r.userId];t[r.userId]=a?ke(ke({},D(r)),a):D(r)}),t})},[f,D]),(0,i.useEffect)(()=>{if(!R.length)return;if("all"===g.role)return;R.some(e=>e.toLowerCase()===String(g.role||"").toLowerCase())||y(e=>ke(ke({},e),{},{role:"all"}))},[R,g.role]);const O=(0,i.useCallback)((e,t,n)=>{if(!e||!F)return;const r=T.get(e),a=function(e){let{allowNegative:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Number(e);return Number.isFinite(n)?t?n:Math.max(0,n):0}(n,{allowNegative:"bonus"===t});S(n=>{const i=n[e]||D(r);return ke(ke({},n),{},{[e]:ke(ke({},i),{},{[t]:a})})})},[T,D,F]),I=(0,i.useCallback)(e=>{if(!e||!F)return;const t=T.get(e);S(n=>ke(ke({},n),{},{[e]:D(t)}))},[T,D,F]),M=e=>{const{name:t,value:n}=e.target;x(e=>ke(ke({},e),{},{[t]:n}))};(0,i.useEffect)(()=>{if(!r||!P||!E)return l(!1),void d("");if("notifications"===a)return l(!1),void d("");const e=new AbortController,{signal:t}=e;return(async()=>{try{if(l(!0),d(""),"attendance"===a){const e=new URLSearchParams;g.from&&e.set("from",g.from),g.to&&e.set("to",g.to),g.role&&"all"!==g.role&&e.set("role",g.role);const n=await fetch("".concat(mm,"/attendance/summary?").concat(e.toString()),{headers:A,signal:t}),r=await n.json().catch(()=>({}));if(!n.ok)throw new Error((null===r||void 0===r?void 0:r.message)||"Unable to load attendance summary");return void(t.aborted||v(r))}const e="online"===a?"stripe":"slip",n=new URLSearchParams;n.set("method",e),b.from&&n.set("from",b.from),b.to&&n.set("to",b.to);const r="".concat(mm,"/payments?").concat(n.toString()),i=await fetch(r,{headers:A,signal:t}),s=await i.json().catch(()=>({}));if(!i.ok)throw new Error((null===s||void 0===s?void 0:s.message)||"Unable to load payments");const o=Array.isArray(null===s||void 0===s?void 0:s.payments)?s.payments:[];if(t.aborted)return;"online"===a?h(o):m(o)}catch(e){t.aborted||(d(e.message||"Unable to load data"),"online"===a?h([]):"suppliers"===a||"declined"===a?m([]):"attendance"===a&&v(null))}finally{t.aborted||l(!1)}})(),()=>e.abort()},[r,A,a,g,b,P,E,w]),(0,i.useEffect)(()=>{if("declined"!==a||!P||!E)return;const e=setInterval(()=>{j(e=>e+1)},3e4);return()=>clearInterval(e)},[a,P,E]);const B=(0,i.useMemo)(()=>p.filter(e=>{const t=((null===e||void 0===e?void 0:e.paymentStatus)||"").toLowerCase();return"failed"===t||"canceled"===t}),[p]),U=(0,i.useCallback)(async e=>{if(C.canDeleteDeclined){if(null!==e&&void 0!==e&&e._id&&window.confirm("Delete this declined payment permanently?")){k(e._id),d("");try{const r=await fetch("".concat(mm,"/payments/").concat(e._id),{method:"DELETE",headers:A,credentials:"include"});let a=null;var t,n;if(204!==r.status&&(a=await r.json().catch(()=>null)),!r.ok)throw new Error((null===(t=a)||void 0===t?void 0:t.message)||(null===(n=a)||void 0===n?void 0:n.error)||"Unable to delete payment");m(t=>t.filter(t=>t._id!==e._id))}catch(r){d(r.message||"Unable to delete payment")}finally{k("")}}}else d("You do not have permission to delete declined payments.")},[C.canDeleteDeclined,A]),z=(0,i.useCallback)(()=>{E&&j(e=>e+1)},[E]),q=e=>{const{name:t,value:n}=e.target;y(e=>ke(ke({},e),{},{[t]:n}))},V=()=>{try{if(null===f||void 0===f||!f.users||0===f.users.length)return void d("No attendance data to export");const e=["Employee","Email","Role","Present","Late","Absent","Leave","Total Days"],t=f.users.map(e=>{var t,n,r,a,i,s,o,l;return[e.name||"",e.email||"",e.role||"",(null===(t=e.counts)||void 0===t?void 0:t.present)||0,(null===(n=e.counts)||void 0===n?void 0:n.late)||0,(null===(r=e.counts)||void 0===r?void 0:r.absent)||0,(null===(a=e.counts)||void 0===a?void 0:a.leave)||0,((null===(i=e.counts)||void 0===i?void 0:i.present)||0)+((null===(s=e.counts)||void 0===s?void 0:s.late)||0)+((null===(o=e.counts)||void 0===o?void 0:o.absent)||0)+((null===(l=e.counts)||void 0===l?void 0:l.leave)||0)]}),n=[e.join(","),...t.map(e=>e.map(e=>'"'.concat(String(e).replace(/"/g,'""'),'"')).join(","))].join("\n"),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download="attendance-summary-".concat(g.from||"start","-").concat(g.to||"end",".csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}catch(c){console.error("CSV export failed:",c),d("Failed to export CSV: "+c.message)}},H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r?o?(0,_e.jsxs)("div",{className:"finance-console__loading",children:[(0,_e.jsx)("div",{className:"spinner"}),(0,_e.jsxs)("p",{children:["Loading ",t.loadingLabel||"records","\u2026"]})]}):c?(0,_e.jsxs)("div",{className:"finance-console__error",children:[(0,_e.jsx)("p",{children:c}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:z,children:"Retry"})]}):null!==e&&void 0!==e&&e.length?(0,_e.jsx)("div",{className:"finance-console__table-wrapper",children:(0,_e.jsxs)("table",{className:"finance-console__table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsx)("tr",{children:t.columns.map(e=>(0,_e.jsx)("th",{className:e.className||"",children:e.label},e.key))})}),(0,_e.jsx)("tbody",{children:e.map(e=>(0,_e.jsx)(i.Fragment,{children:t.renderRow?t.renderRow(e):null},t.getKey?t.getKey(e):e._id||e.id))})]})}):(0,_e.jsx)("div",{className:"finance-console__empty",children:(0,_e.jsx)("p",{children:t.emptyLabel||"No records yet."})}):(0,_e.jsx)("div",{className:"finance-console__empty",children:(0,_e.jsx)("p",{children:"Sign in to view finance data."})})},W=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t.length,r=t.reduce((e,t)=>e+(Number(null===t||void 0===t?void 0:t.amount)||0),0),a=n?r/n:0,i=e=>{const t=Nm(e);return t.from===(b.from||"")&&t.to===(b.to||"")},s=b.from&&b.to?"".concat(b.from," \u2192 ").concat(b.to):"All dates";return(0,_e.jsxs)("div",{className:"finance-console__filter-bar",children:[(0,_e.jsxs)("div",{className:"finance-console__filters-col",children:[(0,_e.jsxs)("div",{className:"finance-console__filter-heading",children:[(0,_e.jsx)("span",{className:"finance-console__icon-pill","aria-hidden":"true",children:(0,_e.jsx)(lm,{size:18})}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{children:e}),(0,_e.jsxs)("p",{children:[s,km.some(e=>i(e.id))?" \xb7 Quick preset":""]})]})]}),(0,_e.jsx)("div",{className:"finance-console__quick-ranges",role:"group","aria-label":"".concat(e," quick ranges"),children:km.map(e=>{const t=i(e.id);return(0,_e.jsxs)("button",{type:"button",className:"finance-console__quick-button ".concat(t?"active":""),onClick:()=>(e=>{const t=Nm(e);x(t)})(e.id),disabled:o,children:[(0,_e.jsx)(cm,{size:14,"aria-hidden":"true"}),(0,_e.jsx)("span",{children:e.label})]},e.id)})}),(0,_e.jsx)("div",{className:"finance-console__filters-card",children:(0,_e.jsxs)("form",{className:"finance-console__filters",onSubmit:e=>{e.preventDefault(),z()},children:[(0,_e.jsxs)("label",{htmlFor:"payment-from",children:["From",(0,_e.jsx)("input",{id:"payment-from",type:"date",name:"from",value:b.from||"",max:b.to||void 0,onChange:M})]}),(0,_e.jsxs)("label",{htmlFor:"payment-to",children:["To",(0,_e.jsx)("input",{id:"payment-to",type:"date",name:"to",value:b.to||"",min:b.from||void 0,onChange:M})]}),(0,_e.jsxs)("div",{className:"finance-console__filter-actions",children:[(0,_e.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:o,children:[(0,_e.jsx)(dm,{size:16,"aria-hidden":"true"}),(0,_e.jsx)("span",{children:"Apply filter"})]}),(0,_e.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{x({from:"",to:""})},disabled:o||!b.from&&!b.to,children:[(0,_e.jsx)(um,{size:16,"aria-hidden":"true"}),(0,_e.jsx)("span",{children:"Clear"})]})]})]})})]}),(0,_e.jsxs)("div",{className:"finance-console__export-pane",children:[(0,_e.jsxs)("div",{className:"finance-console__metrics",role:"list","aria-label":"".concat(e," insights"),children:[(0,_e.jsxs)("div",{className:"finance-console__metric-card",role:"listitem",children:[(0,_e.jsx)("span",{className:"finance-console__metric-label",children:"Total records"}),(0,_e.jsx)("strong",{children:n})]}),(0,_e.jsxs)("div",{className:"finance-console__metric-card",role:"listitem",children:[(0,_e.jsx)("span",{className:"finance-console__metric-label",children:"Total amount"}),(0,_e.jsx)("strong",{children:Dr(r)})]}),(0,_e.jsxs)("div",{className:"finance-console__metric-card",role:"listitem",children:[(0,_e.jsx)("span",{className:"finance-console__metric-label",children:"Average value"}),(0,_e.jsx)("strong",{children:Dr(a)})]})]}),(0,_e.jsxs)("div",{className:"finance-console__export-actions",children:[(0,_e.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:()=>((e,t)=>{try{const n=new Gc("landscape","pt","a4");n.setFontSize(18),n.setFont(void 0,"bold"),n.text("".concat(t," Report"),40,40),n.setFontSize(11),n.setFont(void 0,"normal");const r=b.from&&b.to?"".concat(b.from," to ").concat(b.to):"All dates";n.text("Date Range: ".concat(r),40,60),n.text("Generated: ".concat((new Date).toLocaleString("en-US")),40,75),n.text("Total Records: ".concat(e.length),40,90);const a=e.reduce((e,t)=>e+(Number(t.amount)||0),0);let i,s;n.text("Total Amount: ".concat(Dr(a)),40,105),"Online Payments"===t?(s=["Reference","Customer","Email","Amount","Status","Date"],i=e.map(e=>[e.paymentIntentId||e._id||"\u2014",e.customerName||"\u2014",e.customerEmail||e.email||"\u2014",Dr(e.amount||0),e.paymentStatus||e.status||"\u2014",e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US"):"\u2014"])):(s=["Supplier","Amount","Status","Submitted","Has Slip"],i=e.map(e=>[e.supplierName||e.supplierEmail||"\u2014",Dr(e.amount||0),e.paymentStatus||"\u2014",e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US"):"\u2014",e.slipUrl?"Yes":"No"])),Eh(n,{startY:125,head:[s],body:i,styles:{fontSize:9,cellPadding:5},headStyles:{fillColor:[66,139,202],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:40,right:40}});const o="".concat(t.toLowerCase().replace(/ /g,"-"),"-").concat(b.from||"start","-").concat(b.to||"end",".pdf");n.save(o)}catch(c){console.error("PDF export failed:",c),d("Failed to export PDF: "+c.message)}})(t,e),disabled:o||0===t.length,children:[(0,_e.jsx)(hm,{size:16,"aria-hidden":"true"}),(0,_e.jsx)("span",{children:"Export PDF"})]}),(0,_e.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:()=>((e,t)=>{try{let n,r;"Online Payments"===t?(n=["Reference","Customer","Email","Amount","Status","Created Date"],r=e.map(e=>[e.paymentIntentId||e._id||"",e.customerName||"",e.customerEmail||e.email||"",e.amount||0,e.paymentStatus||e.status||"",e.createdAt?new Date(e.createdAt).toISOString():""])):(n=["Supplier","Amount","Status","Submitted Date","Slip URL"],r=e.map(e=>[e.supplierName||e.supplierEmail||"",e.amount||0,e.paymentStatus||"",e.createdAt?new Date(e.createdAt).toISOString():"",e.slipUrl||""]));const a=[n.join(","),...r.map(e=>e.map(e=>'"'.concat(String(e).replace(/"/g,'""'),'"')).join(","))].join("\n"),i=new Blob([a],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(i),o=document.createElement("a");o.href=s,o.download="".concat(t.toLowerCase().replace(/ /g,"-"),"-").concat(b.from||"start","-").concat(b.to||"end",".csv"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)}catch(c){console.error("CSV export failed:",c),d("Failed to export CSV: "+c.message)}})(t,e),disabled:o||0===t.length,children:[(0,_e.jsx)(hm,{size:16,"aria-hidden":"true"}),(0,_e.jsx)("span",{children:"Export CSV"})]})]})]})]})},G=(0,i.useCallback)(e=>{a!==e&&(d(""),s(e),j(e=>e+1))},[a]);return C.canAccessConsole?(0,_e.jsxs)("section",{className:"finance-console",children:[(0,_e.jsxs)("header",{className:"finance-console__header",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h1",{children:"Finance console"}),(0,_e.jsx)("p",{className:"text-muted",children:"Review payment activity, supplier slips, and attendance insights."})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:z,disabled:o,children:"Refresh"})]}),(0,_e.jsx)("nav",{className:"finance-console__tabs","aria-label":"Finance console sections",children:L.map(e=>{const t=e.id===a;return(0,_e.jsxs)("button",{type:"button",className:"btn ".concat(t?"btn-primary":"btn-secondary"," finance-console__tab ").concat(t?"finance-console__tab--active":""),onClick:()=>G(e.id),children:[(0,_e.jsx)("span",{className:"finance-console__tab-title",children:e.title}),(0,_e.jsx)("span",{className:"finance-console__tab-description",children:e.description})]},e.id)})}),"online"===a&&E?(0,_e.jsxs)("section",{className:"finance-console__subheader",children:[(0,_e.jsx)("h2",{children:"Online Payments Report"}),W("Online Payments",u)]}):null,"suppliers"===a&&E?(0,_e.jsxs)("section",{className:"finance-console__subheader",children:[(0,_e.jsx)("h2",{children:"Supplier Payments Report"}),W("Supplier Payments",p)]}):null,"attendance"===a&&E?(0,_e.jsxs)("section",{className:"finance-console__subheader",children:[(0,_e.jsx)("h2",{children:"Attendance summary"}),(()=>{const e=((null===f||void 0===f?void 0:f.users)||[]).filter(e=>{const t=String((null===e||void 0===e?void 0:e.role)||"").toLowerCase();return!!t&&(!t.includes("supplier")&&("user"!==t&&"customer"!==t))}),t=(g.role||"all").toLowerCase(),n=e.filter(e=>"all"===t||String((null===e||void 0===e?void 0:e.role)||"").toLowerCase()===t),r=e.reduce((e,t)=>{const n=(null===t||void 0===t?void 0:t.counts)||{};return e.present+=n.present||0,e.late+=n.late||0,e.absent+=n.absent||0,e.leave+=n.leave||0,e},{present:0,late:0,absent:0,leave:0}),a=n.reduce((e,t)=>{const n=(null===t||void 0===t?void 0:t.counts)||{};return e.present+=n.present||0,e.late+=n.late||0,e.absent+=n.absent||0,e.leave+=n.leave||0,e},{present:0,late:0,absent:0,leave:0}),i="all"===t?r:a,s="all"===t?e.length:n.length,l=(i.present||0)+(i.late||0),c=g.from&&g.to?"".concat(g.from," \u2192 ").concat(g.to):"All recorded dates",d=g.role||"all",u=Boolean(g.from||g.to)||"all"!==t;return(0,_e.jsxs)("div",{className:"attendance-toolbar",children:[(0,_e.jsxs)("div",{className:"attendance-toolbar__top",children:[(0,_e.jsxs)("div",{className:"attendance-toolbar__info",children:[(0,_e.jsxs)("h3",{children:[(0,_e.jsx)("span",{className:"attendance-toolbar__icon","aria-hidden":"true",children:(0,_e.jsx)(lm,{size:18})}),"Attendance"]}),(0,_e.jsx)("p",{children:"Select a date range, narrow by role, and refresh to load the most recent attendance totals."}),(0,_e.jsx)("span",{className:"attendance-toolbar__range",children:c})]}),(0,_e.jsxs)("form",{className:"attendance-toolbar__form",onSubmit:e=>{e.preventDefault(),z()},children:[(0,_e.jsxs)("label",{className:"attendance-toolbar__field",htmlFor:"attendance-from",children:[(0,_e.jsx)("span",{className:"attendance-toolbar__label",children:"Start date"}),(0,_e.jsx)("input",{id:"attendance-from",type:"date",name:"from",value:g.from||"",max:g.to||void 0,onChange:q})]}),(0,_e.jsxs)("label",{className:"attendance-toolbar__field",htmlFor:"attendance-to",children:[(0,_e.jsx)("span",{className:"attendance-toolbar__label",children:"End date"}),(0,_e.jsx)("input",{id:"attendance-to",type:"date",name:"to",value:g.to||"",min:g.from||void 0,onChange:q})]}),(0,_e.jsxs)("label",{className:"attendance-toolbar__field attendance-toolbar__field--select",htmlFor:"attendance-role",children:[(0,_e.jsx)("span",{className:"attendance-toolbar__label",children:"Filter by role"}),(0,_e.jsxs)("select",{id:"attendance-role",name:"role",value:d,onChange:q,disabled:0===R.length,children:[(0,_e.jsx)("option",{value:"all",children:"All roles"}),R.map(e=>(0,_e.jsx)("option",{value:e,children:e},e))]})]}),(0,_e.jsxs)("div",{className:"attendance-toolbar__actions",children:[(0,_e.jsx)("button",{type:"submit",className:"attendance-toolbar__refresh",disabled:o,children:"Refresh"}),(0,_e.jsx)("button",{type:"button",className:"attendance-toolbar__clear",onClick:()=>{y(e=>ke(ke({},e),{},{from:"",to:"",role:"all"}))},disabled:o||!u,children:"Clear"})]})]})]}),(0,_e.jsxs)("div",{className:"attendance-toolbar__quick",children:[(0,_e.jsx)("span",{className:"attendance-toolbar__quick-label",children:"Quick ranges"}),(0,_e.jsx)("div",{className:"attendance-toolbar__quick-buttons",role:"group","aria-label":"Attendance quick ranges",children:_m.map(e=>{const t=Nm(e.id),n=t.from===(g.from||"")&&t.to===(g.to||"");return(0,_e.jsxs)("button",{type:"button",className:"attendance-toolbar__quick-button ".concat(n?"active":""),onClick:()=>(e=>{const t=Nm(e);y(e=>ke(ke({},e),t))})(e.id),disabled:o,children:[(0,_e.jsx)(cm,{size:14,"aria-hidden":"true"}),(0,_e.jsx)("span",{children:e.label})]},e.id)})})]}),(0,_e.jsxs)("div",{className:"attendance-toolbar__footer",children:[(0,_e.jsxs)("div",{className:"attendance-toolbar__metrics",role:"list","aria-label":"Attendance insights",children:[(0,_e.jsxs)("div",{className:"attendance-toolbar__metric",role:"listitem",children:[(0,_e.jsx)("span",{className:"attendance-toolbar__metric-label",children:"Team members"}),(0,_e.jsx)("strong",{children:s})]}),(0,_e.jsxs)("div",{className:"attendance-toolbar__metric",role:"listitem",children:[(0,_e.jsx)("span",{className:"attendance-toolbar__metric-label",children:"Present days"}),(0,_e.jsx)("strong",{children:i.present||0})]}),(0,_e.jsxs)("div",{className:"attendance-toolbar__metric",role:"listitem",children:[(0,_e.jsx)("span",{className:"attendance-toolbar__metric-label",children:"Worked days"}),(0,_e.jsx)("strong",{children:l})]})]}),(0,_e.jsx)("button",{type:"button",className:"attendance-toolbar__export",onClick:V,disabled:o||!(null!==f&&void 0!==f&&f.users)||0===f.users.length,children:"Export report"})]})]})})()]}):null,(0,_e.jsx)("div",{className:"finance-console__content",children:(()=>{if(!P)return(0,_e.jsx)("div",{className:"finance-console__empty",children:(0,_e.jsx)("p",{children:"You don't have permission to access the finance console."})});switch(a){case"online":return H(u,{loadingLabel:"online payments",emptyLabel:"No online payments found for this period.",columns:[{key:"reference",label:"Reference"},{key:"customer",label:"Customer"},{key:"amount",label:"Amount"},{key:"status",label:"Status"},{key:"created",label:"Created"}],getKey:e=>e._id||e.paymentIntentId||e.id,renderRow:e=>(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.paymentIntentId)||(null===e||void 0===e?void 0:e._id)||"\u2014"}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"finance-console__customer",children:[(0,_e.jsx)("span",{className:"finance-console__customer-name",children:(null===e||void 0===e?void 0:e.customerName)||"\u2014"}),(0,_e.jsx)("span",{className:"finance-console__customer-email",children:(null===e||void 0===e?void 0:e.customerEmail)||(null===e||void 0===e?void 0:e.email)||"\u2014"})]})}),(0,_e.jsx)("td",{children:Pm(e)}),(0,_e.jsx)("td",{children:(()=>{const t=Cm((null===e||void 0===e?void 0:e.paymentStatus)||(null===e||void 0===e?void 0:e.status));return(0,_e.jsx)("span",{className:"status-chip ".concat(t.tone),children:t.label})})()}),(0,_e.jsx)("td",{children:Lm((null===e||void 0===e?void 0:e.createdAt)||(null===e||void 0===e?void 0:e.created))})]})});case"suppliers":return H(p,{loadingLabel:"supplier payments",emptyLabel:"No supplier payments found.",columns:[{key:"supplier",label:"Supplier"},{key:"amount",label:"Amount"},{key:"status",label:"Status"},{key:"submittedAt",label:"Submitted"},{key:"slip",label:"Slip"}],getKey:e=>e._id||e.id,renderRow:e=>(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.supplierName)||(null===e||void 0===e?void 0:e.supplierEmail)||"\u2014"}),(0,_e.jsx)("td",{children:Pm(e)}),(0,_e.jsx)("td",{children:(()=>{const t=Cm(null===e||void 0===e?void 0:e.paymentStatus);return(0,_e.jsx)("span",{className:"status-chip ".concat(t.tone),children:t.label})})()}),(0,_e.jsx)("td",{children:Lm(null===e||void 0===e?void 0:e.createdAt)}),(0,_e.jsx)("td",{children:null!==e&&void 0!==e&&e.slipUrl?(0,_e.jsx)("a",{href:e.slipUrl.startsWith("http")?e.slipUrl:"".concat(pm).concat(e.slipUrl),target:"_blank",rel:"noreferrer",className:"btn btn-link",children:"View"}):(0,_e.jsx)("span",{className:"text-muted",children:"\u2014"})})]})});case"declined":return H(B,{loadingLabel:"declined payments",emptyLabel:"No declined payments right now.",columns:[{key:"supplier",label:"Supplier"},{key:"amount",label:"Amount"},{key:"reason",label:"Reason"},{key:"updatedAt",label:"Updated"},{key:"actions",label:"Actions",className:"text-right"}],getKey:e=>e._id||e.id,renderRow:e=>(0,_e.jsxs)("tr",{className:"finance-console__declined-row",children:[(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.supplierName)||(null===e||void 0===e?void 0:e.supplierEmail)||"\u2014"}),(0,_e.jsx)("td",{children:Pm(e)}),(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.declineReason)||(null===e||void 0===e?void 0:e.note)||"\u2014"}),(0,_e.jsx)("td",{children:Lm((null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.createdAt))}),(0,_e.jsx)("td",{className:"text-right",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>U(e),disabled:N===(e._id||e.id),children:N===(e._id||e.id)?"Deleting\u2026":"Delete"})})]})});case"notifications":return(0,_e.jsx)(ip,{scope:"finance",types:["payment","payment-online","payment-status","payment-supplier","payment-supplier-approved","payment-supplier-declined","payment-supplier-pending"]});case"attendance":return(()=>{if(!r)return(0,_e.jsx)("div",{className:"finance-console__empty",children:(0,_e.jsx)("p",{children:"Sign in to view attendance data."})});if(o)return(0,_e.jsxs)("div",{className:"finance-console__loading",children:[(0,_e.jsx)("div",{className:"spinner"}),(0,_e.jsx)("p",{children:"Loading attendance\u2026"})]});if(c)return(0,_e.jsxs)("div",{className:"finance-console__error",children:[(0,_e.jsx)("p",{children:c}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:z,children:"Retry"})]});if(!f)return(0,_e.jsx)("div",{className:"finance-console__empty",children:(0,_e.jsx)("p",{children:"No attendance records found for this period."})});const{users:e=[],range:t={}}=f,n=e.filter(e=>{const t=String((null===e||void 0===e?void 0:e.role)||"").toLowerCase();return!!t&&!t.includes("supplier")&&"user"!==t&&"customer"!==t}),a=(g.role||"all").toLowerCase(),i=n.filter(e=>"all"===a||String((null===e||void 0===e?void 0:e.role)||"").toLowerCase()===a),s=n.reduce((e,t)=>{const n=(null===t||void 0===t?void 0:t.counts)||{};return e.present+=n.present||0,e.late+=n.late||0,e.absent+=n.absent||0,e.leave+=n.leave||0,e},{present:0,late:0,absent:0,leave:0}),l=i.reduce((e,t)=>{const n=(null===t||void 0===t?void 0:t.counts)||{};return e.present+=n.present||0,e.late+=n.late||0,e.absent+=n.absent||0,e.leave+=n.leave||0,e},{present:0,late:0,absent:0,leave:0}),d="all"===a?s:l,u=i.map(e=>{var t;const n=e.counts||{},r=_[e.userId]||D(e),a=Sm(r.hourlyRate||0),i=Sm(r.overtimeHours||0),s=Math.max(0,Sm(null!==(t=r.overtimeMultiplier)&&void 0!==t?t:1.5,2)),o=Sm(r.bonus||0),l=Sm(r.deductions||0),c=Sm((n.present||0)*ym+(n.late||0)*bm+(n.leave||0)*xm,2),d=Sm(c*a),u=Sm(i*a*s),h=Sm(d+u+o),p=Sm(h-l);return ke(ke({},e),{},{counts:n,hourlyRate:a,regularHours:c,overtimeHours:i,overtimeMultiplier:s,regularPay:d,overtimePay:u,bonus:o,deductions:l,totalSalary:p})}),h=u.reduce((e,t)=>(e.regularHours+=t.regularHours||0,e.overtimeHours+=t.overtimeHours||0,e.regularPay+=t.regularPay||0,e.overtimePay+=t.overtimePay||0,e.bonus+=t.bonus||0,e.deductions+=t.deductions||0,e.netPay+=t.totalSalary||0,e),{regularHours:0,overtimeHours:0,regularPay:0,overtimePay:0,bonus:0,deductions:0,netPay:0});return(0,_e.jsxs)("div",{className:"attendance-summary",children:[(0,_e.jsxs)("section",{className:"attendance-summary__overview",children:[["present","late","absent","leave"].map(e=>(0,_e.jsxs)("article",{className:"attendance-summary__card attendance-summary__card--".concat(e),children:[(0,_e.jsx)("h3",{children:{present:"Present",late:"Late arrivals",absent:"Absent",leave:"On leave"}[e]}),(0,_e.jsx)("p",{children:d[e]||0})]},e)),(0,_e.jsxs)("article",{className:"attendance-summary__card attendance-summary__card--salary",children:[(0,_e.jsxs)("div",{className:"attendance-summary__card-meta",children:[(0,_e.jsx)("h3",{children:"Total estimated salary"}),(0,_e.jsx)("span",{className:"attendance-summary__card-sub",children:"Based on reported attendance"})]}),(0,_e.jsx)("p",{className:"attendance-summary__card-value",children:Dr(h.netPay)})]})]}),(0,_e.jsxs)("section",{className:"attendance-summary__meta",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{children:"Reporting window"}),(0,_e.jsxs)("p",{children:[t.from?new Date(t.from).toLocaleDateString():"\u2014"," \u2013"," ",t.to?new Date(t.to).toLocaleDateString():"\u2014"]})]}),(0,_e.jsx)("div",{className:"attendance-summary__actions",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:z,disabled:o,children:"Refresh"})})]}),(0,_e.jsx)("div",{className:"finance-console__table-wrapper",children:(0,_e.jsxs)("table",{className:"finance-console__table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"Employee"}),(0,_e.jsx)("th",{children:"Role"}),(0,_e.jsx)("th",{children:"Present"}),(0,_e.jsx)("th",{children:"Late"}),(0,_e.jsx)("th",{children:"Absent"}),(0,_e.jsx)("th",{children:"Leave"}),(0,_e.jsx)("th",{children:"Hourly rate (LKR)"}),(0,_e.jsx)("th",{children:"Regular hours"}),(0,_e.jsx)("th",{children:"Overtime hours"}),(0,_e.jsx)("th",{children:"Overtime \xd7"}),(0,_e.jsx)("th",{children:"Regular pay"}),(0,_e.jsx)("th",{children:"Overtime pay"}),(0,_e.jsx)("th",{children:"Bonus"}),(0,_e.jsx)("th",{children:"Deductions"}),(0,_e.jsx)("th",{children:"Net salary"}),(0,_e.jsx)("th",{className:"w-40",children:"Notes"})]})}),(0,_e.jsx)("tbody",{children:0===u.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:16,className:"text-center text-muted",children:"No attendance records for this period."})}):u.map(e=>{var t,n,r,a,i,s,o,l,c,d,u,h,p,m,f,v,g,y,b,x,w,j,N,k;return(0,_e.jsxs)("tr",{className:"attendance-summary__salary-row",children:[(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"attendance-summary__person",children:[(0,_e.jsx)("span",{className:"attendance-summary__name",children:e.name||"\u2014"}),(0,_e.jsx)("span",{className:"attendance-summary__email",children:e.email||"\u2014"})]})}),(0,_e.jsx)("td",{children:e.role||"\u2014"}),(0,_e.jsx)("td",{children:null!==(t=null===(n=e.counts)||void 0===n?void 0:n.present)&&void 0!==t?t:0}),(0,_e.jsx)("td",{children:null!==(r=null===(a=e.counts)||void 0===a?void 0:a.late)&&void 0!==r?r:0}),(0,_e.jsx)("td",{children:null!==(i=null===(s=e.counts)||void 0===s?void 0:s.absent)&&void 0!==i?i:0}),(0,_e.jsx)("td",{children:null!==(o=null===(l=e.counts)||void 0===l?void 0:l.leave)&&void 0!==o?o:0}),(0,_e.jsx)("td",{children:(0,_e.jsx)("div",{className:"attendance-summary__salary-inputs",children:(0,_e.jsx)("input",{type:"number",min:"0",step:"0.5",value:null!==(c=null!==(d=null===(u=_[e.userId])||void 0===u?void 0:u.hourlyRate)&&void 0!==d?d:e.hourlyRate)&&void 0!==c?c:"",disabled:!F,onChange:t=>O(e.userId,"hourlyRate",t.target.value)})})}),(0,_e.jsx)("td",{children:Am(e.regularHours)}),(0,_e.jsx)("td",{children:(0,_e.jsx)("div",{className:"attendance-summary__salary-inputs",children:(0,_e.jsx)("input",{type:"number",min:"0",step:"0.25",value:null!==(h=null!==(p=null===(m=_[e.userId])||void 0===m?void 0:m.overtimeHours)&&void 0!==p?p:e.overtimeHours)&&void 0!==h?h:"",disabled:!F,onChange:t=>O(e.userId,"overtimeHours",t.target.value)})})}),(0,_e.jsx)("td",{children:(0,_e.jsx)("div",{className:"attendance-summary__salary-inputs",children:(0,_e.jsx)("input",{type:"number",min:"0",step:"0.1",value:null!==(f=null!==(v=null===(g=_[e.userId])||void 0===g?void 0:g.overtimeMultiplier)&&void 0!==v?v:e.overtimeMultiplier)&&void 0!==f?f:"",disabled:!F,onChange:t=>O(e.userId,"overtimeMultiplier",t.target.value)})})}),(0,_e.jsx)("td",{children:Dr(e.regularPay)}),(0,_e.jsx)("td",{children:Dr(e.overtimePay)}),(0,_e.jsx)("td",{children:(0,_e.jsx)("div",{className:"attendance-summary__salary-inputs",children:(0,_e.jsx)("input",{type:"number",step:"0.5",value:null!==(y=null!==(b=null===(x=_[e.userId])||void 0===x?void 0:x.bonus)&&void 0!==b?b:e.bonus)&&void 0!==y?y:"",disabled:!F,onChange:t=>O(e.userId,"bonus",t.target.value)})})}),(0,_e.jsx)("td",{children:(0,_e.jsx)("div",{className:"attendance-summary__salary-inputs",children:(0,_e.jsx)("input",{type:"number",min:"0",step:"0.5",value:null!==(w=null!==(j=null===(N=_[e.userId])||void 0===N?void 0:N.deductions)&&void 0!==j?j:e.deductions)&&void 0!==w?w:"",disabled:!F,onChange:t=>O(e.userId,"deductions",t.target.value)})})}),(0,_e.jsx)("td",{children:Dr(e.totalSalary)}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"attendance-summary__notes",children:[null!==(k=e.notes)&&void 0!==k&&k.length?(0,_e.jsx)("ul",{children:e.notes.map((e,t)=>(0,_e.jsx)("li",{children:e},t))}):(0,_e.jsx)("span",{className:"text-muted",children:"\u2014"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-link",onClick:()=>I(e.userId),children:"Reset overrides"})]})})]},e.userId)})}),u.length>0?(0,_e.jsx)("tfoot",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{colSpan:7,children:(0,_e.jsx)("div",{className:"attendance-summary__footer",children:(0,_e.jsx)("span",{children:"Total payroll projection"})})}),(0,_e.jsx)("td",{children:Am(h.regularHours)}),(0,_e.jsx)("td",{children:Am(h.overtimeHours)}),(0,_e.jsx)("td",{children:"\u2014"}),(0,_e.jsx)("td",{children:Dr(h.regularPay)}),(0,_e.jsx)("td",{children:Dr(h.overtimePay)}),(0,_e.jsx)("td",{children:Dr(h.bonus)}),(0,_e.jsx)("td",{children:Dr(h.deductions)}),(0,_e.jsx)("td",{children:Dr(h.netPay)}),(0,_e.jsx)("td",{})]})}):null]})})]})})();default:return(0,_e.jsx)("div",{className:"finance-console__empty",children:(0,_e.jsx)("p",{children:"Unknown view selected."})})}})()})]}):(0,_e.jsx)("div",{className:"finance-console__empty",children:(0,_e.jsx)("p",{children:"You don't have permission to access the finance console."})})}const Tm=["headers"],Rm="http://localhost:5000",Dm=String(Rm).replace(/\/$/,""),Om="".concat(Dm,"/api"),Im=Dm,Mm=["fin_view_online_payments","fin_view_dashboard","fin_payments"],Bm=["fin_view_supplier_payments","fin_record_payments","fin_payouts"],Um=["fin_view_declined_payments","fin_manage_declined_payments","fin_payroll","fin_reconcile"],zm=["fin_manage_declined_payments","fin_payroll","fin_reconcile"],qm=["fin_view_finance_notifications","fin_view_notifications","fin_export_statements","fin_statements","fin_reports"],Vm=["fin_export_statements","fin_statements","fin_reports"],Hm=["fin_manage_salary"],Wm=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{headers:n}=t,r=ea(t,Tm),a=r.body instanceof FormData,i=await fetch(e,ke(ke({},r),{},{headers:ke(ke({},a?{}:{"Content-Type":"application/json"}),n||{})}));if(!i.ok){let e="Request failed with status ".concat(i.status);try{const t=await i.text();t&&(e=t)}catch(a_){}throw new Error(e)}if(204===i.status)return null;return(i.headers.get("content-type")||"").includes("application/json")?i.json():i.text()},Gm=e=>{if(!e)return"\u2014";const t=new Date(e);return Number.isFinite(t.getTime())?t.toLocaleString():"\u2014"},Ym="smart_hardware_reorder_queue",Km=e=>{const t=String(e||"").trim().toLowerCase();return"admin"===t?"badge badge-amber":"staff"===t||t.includes("manager")?"badge badge-green":"badge badge-gray"};function $m(e){var t,n,r;let{initialTab:a}=e;const{user:s,theme:o,setTheme:l,toggleTheme:c,token:d,updateProfile:u,changePassword:h,uploadAvatar:p,deleteAvatar:m,logout:f}=Ae(),v=te(),g=Z(),y=(0,i.useRef)(null),{addToCart:b}=(0,i.useContext)(Ge),{cartState:x}=(0,i.useContext)(Oe),w=(0,i.useMemo)(()=>d?{Authorization:"Bearer ".concat(d)}:{},[d]),j=(0,i.useMemo)(()=>((null===s||void 0===s?void 0:s.name)||"U").trim().split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase(),[s]),N=String((null===s||void 0===s?void 0:s.role)||"").trim().toLowerCase(),k=(0,i.useMemo)(()=>{const e=(Array.isArray(null===s||void 0===s?void 0:s.permissions)?s.permissions:[]).map(e=>String(e||"").trim().toLowerCase()).filter(Boolean);return new Set(e)},[null===s||void 0===s?void 0:s.permissions]),_=(0,i.useCallback)(e=>k.has(String(e).toLowerCase()),[k]),S=(0,i.useCallback)(e=>e.some(e=>_(e)),[_]),A="admin"===N||_("admin")||_("manage_users")||_("manage_roles"),C=(0,i.useMemo)(()=>{const e=e=>e.some(e=>k.has(String(e).toLowerCase())),t=A||e(Mm),n=A||e(Bm),r=A||e(Um),a=A||e(zm),i=A||e(qm),s=A||e(Vm),o=A||e(Hm);return{canAccessConsole:A||t||n||r||i||o,canViewOnline:t,canViewSupplier:n,canViewDeclined:r,canDeleteDeclined:a,canViewNotifications:i,canExportStatements:s,canManageSalary:o}},[A,k]),L=Object.values(C).some(Boolean),P=A||"sales_manager"===N||N.includes("sales")||S(["sales_manage_orders","sales_process_refunds","sales_view_reports","sales_manage_discounts","sales_dashboard","sales_refund","sales_promotions","sales_reports"]),E=A||"finance_manager"===N||"financial_manager"===N||N.includes("finance")||L,F=A||"inventory_manager"===N||N.includes("inventory")||S(["inv_view_stock","inv_update_stock","inv_receive_goods","inv_reports","inv_reorder"]),T=A||"customer_care_manager"===N||"customer_care"===N||"feedback_manager"===N||"feedback manager"===N||N.includes("customer care")||N.includes("customer_care")||N.includes("feedback")||N.includes("support")||N.endsWith("care")||S(["cc_view_feedback","cc_respond_feedback","cc_manage_returns","moderate_feedback","refund_view_requests","refund_manage_requests"]),R=A||N.includes("customer care")||N.includes("customer_care")||N.includes("support")||S(["refund_view_requests","refund_manage_requests","cc_manage_returns"]),D="supplier"===N||N.includes("supplier")||S(["supplier_portal","supplier_manage_products","supplier_receive_orders","supplier_manage_inventory"]),O=!A&&!P&&!E&&!F&&!T&&!D,I=(0,i.useMemo)(()=>{if(null===g||void 0===g||!g.search)return null;try{const e=new URLSearchParams(g.search).get("tab");return e?e.trim().toLowerCase():null}catch(a_){return console.warn("Failed to parse dashboard tab from query",a_),null}},[null===g||void 0===g?void 0:g.search]),[M,B]=(0,i.useState)(()=>a||I||"dashboard"),[U,z]=(0,i.useState)("reviews");(0,i.useEffect)(()=>{a&&B(e=>e===a?e:a)},[a]),(0,i.useEffect)(()=>{I&&B(e=>e===I?e:I)},[I]),(0,i.useEffect)(()=>{"supplying"!==M||D||B("dashboard")},[M,D]);const[q,V]=(0,i.useState)({totalOrders:0,refunded:0,recent:[]}),[H,W]=(0,i.useState)([]);(0,i.useEffect)(()=>{if(!P)return;const e={Authorization:d?"Bearer ".concat(d):void 0};(async()=>{try{const t=await fetch("".concat(Rm,"/sales/dashboard"),{headers:e}),n=await fetch("".concat(Rm,"/sales/orders"),{headers:e});V(t.ok?await t.json():{totalOrders:128,refunded:3,recent:[]}),W(n.ok?await n.json():[])}catch(t){V({totalOrders:128,refunded:3,recent:[]}),W([])}})()},[P,d]);const[G,Y]=(0,i.useState)([]),[K,$]=(0,i.useState)(!1),[J,X]=(0,i.useState)(""),[Q,ee]=(0,i.useState)(""),[ne,re]=(0,i.useState)(""),[ae,ie]=(0,i.useState)(10),[se,oe]=(0,i.useState)({}),[le,ce]=(0,i.useState)({}),[de,ue]=(0,i.useState)(null),[he,pe]=(0,i.useState)(()=>(()=>{if("undefined"===typeof window)return[];try{const e=window.localStorage.getItem(Ym);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.filter(e=>e&&"object"===typeof e).map(e=>({productId:e.productId,name:e.name||"",category:e.category||"",stockAmount:Number.isFinite(Number(e.stockAmount))?Number(e.stockAmount):0,reorderQty:Number.isFinite(Number(e.reorderQty))?Number(e.reorderQty):0,threshold:Number.isFinite(Number(e.threshold))?Number(e.threshold):void 0,status:"ordered"===e.status?"ordered":"pending",notes:e.notes||"",createdAt:e.createdAt||(new Date).toISOString(),requestedBy:e.requestedBy||""})):[]}catch(a_){return console.warn("Failed to parse reorder list from storage",a_),[]}})()),[me,fe]=(0,i.useState)(""),[ve,ge]=(0,i.useState)("pending"),[ye,be]=(0,i.useState)({cart:!0,history:!0,cancelled:!1}),xe=(0,i.useCallback)(e=>{be(t=>ke(ke({},t),{},{[e]:!t[e]}))},[]),we=(0,i.useCallback)(()=>{X(""),ee("")},[]),je=(0,i.useCallback)(e=>{ee(""),X(e)},[]),Ne=(0,i.useCallback)(e=>{X(""),ee(e)},[]),Se=(0,i.useCallback)(async function(){let{suppressError:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(F){$(!0),e||ee("");try{var t;const e=await Wm("".concat(Im,"/products"),{headers:w});Y(Array.isArray(e)?e:null!==(t=null===e||void 0===e?void 0:e.products)&&void 0!==t?t:[])}catch(a_){e||(Ne(a_.message),Y([]))}finally{$(!1)}}},[w,F,Ne]);(0,i.useEffect)(()=>{F&&Se({suppressError:!0})},[F,Se]);const[Ce,Le]=(0,i.useState)([]),[Pe,Ee]=(0,i.useState)([]),[Fe,Te]=(0,i.useState)(!1),[Re,De]=(0,i.useState)(""),Ie=(0,i.useCallback)(e=>{Le(t=>{const n="function"===typeof e?e(t):e;return Array.isArray(n)?n:[]})},[]);(0,i.useEffect)(()=>{if(!O)return;let e=!0;const t=ke({},w);return(async()=>{Te(!0),De("");try{const n=await fetch("".concat(Om,"/orders/cancelled"),{headers:t});if(!e)return;if(404===n.status)return void Ee([]);const r=await n.json().catch(()=>({}));if(!n.ok)throw new Error((null===r||void 0===r?void 0:r.message)||"Failed to load cancelled orders (".concat(n.status,")"));const a=Array.isArray(null===r||void 0===r?void 0:r.cancelledOrders)?r.cancelledOrders:[];Ee(a)}catch(a_){if(console.warn("Failed to load cancelled orders",a_),!e)return;De(a_.message||"Failed to load cancelled orders"),Ee([])}finally{e&&Te(!1)}})(),()=>{e=!1}},[O,w]),(0,i.useEffect)(()=>{(e=>{if("undefined"!==typeof window)try{window.localStorage.setItem(Ym,JSON.stringify(e))}catch(a_){console.warn("Failed to persist reorder list",a_)}})(he)},[he]),(0,i.useEffect)(()=>{Array.isArray(G)&&0!==G.length&&pe(e=>{if(!Array.isArray(e)||0===e.length)return e;let t=!1;const n=e.map(e=>{if(null===e||void 0===e||!e.productId)return e;const n=G.find(t=>(null===t||void 0===t?void 0:t._id)===e.productId);if(!n)return e;const r=Number.isFinite(Number(n.stockAmount))?Number(n.stockAmount):0,a=ke(ke({},e),{},{name:n.name||e.name,category:n.category||e.category,stockAmount:r});return a.name===e.name&&a.category===e.category&&a.stockAmount===e.stockAmount||(t=!0),a});return t?n:e})},[G]);const Me=(0,i.useMemo)(()=>{const e=Array.isArray(Ce)?Ce:[];let t=0,n=0,r=0,a=0,i=null;return e.forEach(e=>{var s,o;const l=Number(null!==(s=null===e||void 0===e?void 0:e.totalAmount)&&void 0!==s?s:0);Number.isFinite(l)&&(a+=l);const c=String((null===e||void 0===e||null===(o=e.paymentInfo)||void 0===o?void 0:o.paymentStatus)||"").toLowerCase();"paid"===c?t+=1:"requires_action"===c?r+=1:n+=1;const d=null!==e&&void 0!==e&&e.createdAt?Date.parse(e.createdAt):NaN;Number.isFinite(d)&&(i=null==i?d:Math.max(i,d))}),{total:e.length,paid:t,pending:n,awaiting:r,totalSpent:a,lastPlaced:i}},[Ce]),Be=(0,i.useMemo)(()=>{const e=Array.isArray(Pe)?Pe:[];let t=0,n=null;return e.forEach(e=>{var r;const a=Number(null!==(r=null===e||void 0===e?void 0:e.totalAmount)&&void 0!==r?r:0);Number.isFinite(a)&&(t+=a);const i=null!==e&&void 0!==e&&e.cancelledAt?Date.parse(e.cancelledAt):NaN;Number.isFinite(i)&&(n=null==n?i:Math.max(n,i))}),{total:e.length,totalAmount:t,lastCancelled:n}},[Pe]),Ue=(0,i.useMemo)(()=>{const e=Number(ae);return!Number.isFinite(e)||e<0?0:Math.floor(e)},[ae]),ze=(0,i.useMemo)(()=>{const e=Array.isArray(G)?[...G]:[];e.sort((e,t)=>((null===e||void 0===e?void 0:e.name)||"").localeCompare((null===t||void 0===t?void 0:t.name)||""));const t=ne.trim();return t?e.filter(e=>((e,t)=>{const n=t.trim().toLowerCase();if(!n)return!0;const r=e=>null!=e&&("string"===typeof e||"number"===typeof e||"boolean"===typeof e?String(e).toLowerCase().includes(n):Array.isArray(e)?e.some(r):"object"===typeof e&&Object.values(e).some(r));return r(e)})(e,t)):e},[G,ne]),qe=(0,i.useMemo)(()=>{const e=Array.isArray(G)?G:[];let t=0,n=0,r=0,a=0,i=0;e.forEach(e=>{var s,o;t+=1;const l=Number(null!==(s=null===e||void 0===e?void 0:e.stockAmount)&&void 0!==s?s:0),c=Number(null!==(o=null===e||void 0===e?void 0:e.price)&&void 0!==o?o:0);Number.isFinite(l)&&(n+=l,Number.isFinite(c)&&(i+=c*l),l<=0||null===e||void 0===e||!e.inStock?a+=1:l<=Ue&&(r+=1))});const s=he.reduce((e,t)=>{if("pending"===t.status){var n;const r=Number(null!==(n=t.reorderQty)&&void 0!==n?n:0);return e+(Number.isFinite(r)?r:0)}return e},0);return{totalSkus:t,totalOnHand:n,lowStock:r,outOfStock:a,totalValue:i,pendingUnits:s}},[G,Ue,he]),Ve=(0,i.useMemo)(()=>ze.filter(e=>{var t;const n=Number(null!==(t=null===e||void 0===e?void 0:e.stockAmount)&&void 0!==t?t:0);return Number.isFinite(n)&&n<=Ue}),[ze,Ue]),He=(0,i.useMemo)(()=>"all"===ve?he:he.filter(e=>e.status===ve),[he,ve]),We=(0,i.useMemo)(()=>{const e={};return G.forEach(t=>{null!==t&&void 0!==t&&t._id&&(e[t._id]=t)}),e},[G]),Ye=(0,i.useMemo)(()=>{const e={pending:0,ordered:0,totalQty:0,estimatedSpend:0};return he.forEach(t=>{var n;if(!t)return;const r=Number(null!==(n=t.reorderQty)&&void 0!==n?n:0);if("ordered"===t.status?e.ordered+=1:e.pending+=1,Number.isFinite(r)){var a;e.totalQty+=r;const n=We[t.productId],i=Number(null!==(a=null===n||void 0===n?void 0:n.price)&&void 0!==a?a:0);Number.isFinite(i)&&(e.estimatedSpend+=i*r)}}),e},[he,We]),Ke=(e,t,n)=>{oe(r=>ke(ke({},r),{},{[e]:ke(ke({},r[e]),{},{[t]:n})}))},$e=async(e,t)=>{var n;const r=We[e];if(!r)return void Ne("Product not found");const a=Number(t);if(!Number.isFinite(a)||a<0)return void Ne("Enter a valid stock amount");const i=Math.max(0,Math.floor(a)),s={name:r.name||"",price:null!==(n=r.price)&&void 0!==n?n:0,description:r.description||"",category:r.category||"",brand:r.brand||"",inStock:i>0,stockAmount:i};ue(e),we();try{await Wm("".concat(Im,"/products/").concat(e),{method:"PUT",headers:ke({"Content-Type":"application/json"},w),body:JSON.stringify(s)}),Y(t=>t.map(t=>(null===t||void 0===t?void 0:t._id)===e?ke(ke({},t),{},{stockAmount:i,inStock:i>0}):t)),pe(t=>t.map(t=>t.productId===e?ke(ke({},t),{},{stockAmount:i}):t)),oe(t=>ke(ke({},t),{},{[e]:{set:"",reduce:""}})),je("Stock updated for ".concat(r.name||"product"))}catch(a_){Ne(a_.message)}finally{ue(null)}},Je=(e,t,n)=>{if("undefined"===typeof window)return!1;if(!Array.isArray(n)||0===n.length)return Ne("No data available to export"),!1;try{const r=[t,...n].map(e=>e.map(e=>{const t=null==e?"":String(e);return'"'.concat(t.replace(/"/g,'""'),'"')}).join(",")),a=new Blob([r.join("\n")],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(a),s=document.createElement("a");return s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),!0}catch(a_){return console.error("CSV export failed",a_),Ne("Unable to generate CSV file"),!1}},[Xe,Qe]=(0,i.useState)([]);(0,i.useEffect)(()=>{if(!T)return;const e={Authorization:d?"Bearer ".concat(d):void 0};(async()=>{try{const t=await fetch("".concat(Rm,"/care/feedbacks"),{headers:e});Qe(t.ok?await t.json():[])}catch(t){Qe([])}})()},[T,d]);const Ze=(0,i.useMemo)(()=>Xe.filter(e=>!e.reply).length,[Xe]),[et,tt]=(0,i.useState)([]),[nt,rt]=(0,i.useState)(!1),[at,it]=(0,i.useState)("");(0,i.useEffect)(()=>{if(!D||"supplying"!==M)return;rt(!0),it("");const e={Authorization:d?"Bearer ".concat(d):void 0};(async()=>{try{const t=await fetch("".concat(Om,"/suppliers"),{headers:e});if(!t.ok)throw new Error((await t.json().catch(()=>({}))).message||"Failed to load suppliers");tt(await t.json())}catch(n_){tt([]),it(n_.message||"Failed to load suppliers")}finally{rt(!1)}})()},[D,M,d]);const[st,ot]=(0,i.useState)({name:(null===s||void 0===s?void 0:s.name)||"",email:(null===s||void 0===s?void 0:s.email)||"",age:null!==(t=null===s||void 0===s?void 0:s.age)&&void 0!==t?t:"",address:(null===s||void 0===s?void 0:s.address)||""}),[lt,ct]=(0,i.useState)({current:"",next:"",confirm:""}),[dt,ut]=(0,i.useState)({current:!1,next:!1,confirm:!1}),[ht,pt]=(0,i.useState)(""),[mt,ft]=(0,i.useState)(""),[vt,gt]=(0,i.useState)(!1),[yt,bt]=(0,i.useState)(!1),[xt,wt]=(0,i.useState)(!1);(0,i.useEffect)(()=>{var e;ot({name:(null===s||void 0===s?void 0:s.name)||"",email:(null===s||void 0===s?void 0:s.email)||"",age:null!==(e=null===s||void 0===s?void 0:s.age)&&void 0!==e?e:"",address:(null===s||void 0===s?void 0:s.address)||""})},[s]);const jt="dashboard"===M?"Dashboard overview":"profile"===M?"Profile":"sales"===M?"Sales manager":"finance"===M?"Finance manager":"inventory"===M?"Inventory manager":"care"===M?"Feedback & care":"refunds"===M?"Refunds & returns":"orders"===M?"My orders":"myfeedback"===M?"My feedback":"supplying"===M?"Supplier workspace":"Settings",Nt=((null===s||void 0===s?void 0:s.role)||"user").replace(/\b\w/g,e=>e.toUpperCase()),kt=null!==s&&void 0!==s&&s._id?s._id.slice(-6):"000000";return(0,_e.jsx)("div",{className:"admin-dashboard",children:(0,_e.jsxs)("div",{className:"dashboard-shell dashboard-shell--two-column multi-dashboard",children:[(0,_e.jsxs)("aside",{className:"card dashboard-sidebar",children:[(0,_e.jsxs)("div",{className:"sidebar-profile",children:[null!==s&&void 0!==s&&s.avatar?(0,_e.jsx)("img",{alt:"avatar",src:s.avatar,className:"avatar avatar--md"}):(0,_e.jsx)("div",{className:"avatar avatar--md avatar--fallback",children:j}),(0,_e.jsxs)("div",{className:"sidebar-profile__meta",children:[(0,_e.jsx)("div",{className:"font-semibold",children:(null===s||void 0===s?void 0:s.name)||"User"}),(0,_e.jsx)("div",{className:"text-xs text-muted",children:null===s||void 0===s?void 0:s.email})]})]}),(0,_e.jsxs)("nav",{className:"dashboard-nav stack-sm",children:[(0,_e.jsxs)("button",{type:"button",onClick:()=>{A?v("/AdminDashboard"):B("dashboard")},className:"sidebar-link ".concat("dashboard"===M?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcca"}),(0,_e.jsx)("span",{children:"Dashboard"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>B("profile"),className:"sidebar-link ".concat("profile"===M?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udc64"}),(0,_e.jsx)("span",{children:"Profile"})]}),A&&(0,_e.jsxs)("div",{className:"nav-section stack-xs",children:[(0,_e.jsx)("span",{className:"nav-section__label",children:"Admin tools"}),(0,_e.jsxs)("button",{type:"button",onClick:()=>v("/AdminDashboard#users"),className:"sidebar-link",children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udc65"}),(0,_e.jsx)("span",{children:"User management"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>v("/AdminDashboard#roles"),className:"sidebar-link",children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udee1\ufe0f"}),(0,_e.jsx)("span",{children:"Roles & privileges"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>v("/AdminDashboard#product"),className:"sidebar-link",children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udce6"}),(0,_e.jsx)("span",{children:"Product management"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>v("/AdminDashboard#inventory"),className:"sidebar-link",children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcca"}),(0,_e.jsx)("span",{children:"Inventory workspace"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>v("/AdminDashboard#feedback"),className:"sidebar-link",children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcac"}),(0,_e.jsx)("span",{children:"Feedback workspace"})]})]}),(P||E||F||T)&&(0,_e.jsx)("div",{className:"nav-divider",role:"separator"}),P&&(0,_e.jsxs)("button",{type:"button",onClick:()=>B("sales"),className:"sidebar-link ".concat("sales"===M?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\uded2"}),(0,_e.jsx)("span",{children:"Sales manager"})]}),E&&(0,_e.jsxs)("button",{type:"button",onClick:()=>B("finance"),className:"sidebar-link ".concat("finance"===M?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcb3"}),(0,_e.jsx)("span",{children:"Finance manager"})]}),F&&(0,_e.jsxs)("button",{type:"button",onClick:()=>B("inventory"),className:"sidebar-link ".concat("inventory"===M?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udce6"}),(0,_e.jsx)("span",{children:"Inventory manager"})]}),T&&(0,_e.jsxs)("button",{type:"button",onClick:()=>B("care"),className:"sidebar-link ".concat("care"===M?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcac"}),(0,_e.jsx)("span",{children:"Feedback & care"})]}),R&&(0,_e.jsxs)("button",{type:"button",onClick:()=>B("refunds"),className:"sidebar-link ".concat("refunds"===M?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\u21a9\ufe0f"}),(0,_e.jsx)("span",{children:"Refunds & returns"})]}),O&&(0,_e.jsxs)("div",{className:"nav-section stack-xs",children:[(0,_e.jsx)("span",{className:"nav-section__label",children:"My area"}),(0,_e.jsxs)("button",{type:"button",onClick:()=>B("orders"),className:"sidebar-link ".concat("orders"===M?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83e\uddfe"}),(0,_e.jsx)("span",{children:"My orders"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>B("myfeedback"),className:"sidebar-link ".concat("myfeedback"===M?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcdd"}),(0,_e.jsx)("span",{children:"My feedback"})]})]}),D&&(0,_e.jsxs)("div",{className:"nav-section stack-xs",children:[(0,_e.jsx)("span",{className:"nav-section__label",children:"Supplier workspace"}),(0,_e.jsxs)("button",{type:"button",onClick:()=>B("supplying"),className:"sidebar-link ".concat("supplying"===M?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83e\udd1d"}),(0,_e.jsx)("span",{children:"Supplying"})]})]}),(0,_e.jsx)("div",{className:"nav-divider",role:"separator"}),(0,_e.jsxs)("button",{type:"button",onClick:()=>B("settings"),className:"sidebar-link ".concat("settings"===M?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\u2699\ufe0f"}),(0,_e.jsx)("span",{children:"Settings"})]})]}),(0,_e.jsx)("div",{className:"sidebar-footer",children:(0,_e.jsxs)("button",{onClick:()=>{f(),v("/login",{replace:!0})},type:"button",className:"btn btn-danger w-full",children:[(0,_e.jsx)("span",{children:"\ud83d\udeaa"}),(0,_e.jsx)("span",{children:"Logout"})]})})]}),(0,_e.jsxs)("section",{className:"dashboard-main stack-lg",children:[(0,_e.jsxs)("header",{className:"card dashboard-header",children:[(0,_e.jsxs)("div",{className:"dashboard-header__title",children:[(0,_e.jsx)("span",{className:"eyebrow",children:"Unified operations"}),(0,_e.jsx)("h2",{className:"heading-lg",children:jt}),(0,_e.jsx)("p",{className:"muted-text",children:"Quick access to everything you\u2019re cleared to see."})]}),(0,_e.jsx)("div",{className:"dashboard-header__actions",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:c,children:"dark"===o?"Light mode":"Dark mode"})})]}),"dashboard"===M&&(0,_e.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Open Orders"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:"37"}),(0,_e.jsx)("div",{className:"text-sm text-slate-500",children:"+5 today"})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Low Stock"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:"12"}),(0,_e.jsx)("div",{className:"text-sm text-slate-500",children:"Need re-order"})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Monthly Revenue"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:Dr(24380)}),(0,_e.jsx)("div",{className:"text-sm text-slate-500",children:"+3.1% MoM"})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Suppliers"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:"18"}),(0,_e.jsx)("div",{className:"text-sm text-slate-500",children:"3 pending quotes"})]})]}),"profile"===M&&(0,_e.jsxs)("div",{className:"stack-lg",children:[ht&&(0,_e.jsx)("div",{className:"status-banner status-banner--success",children:ht}),mt&&(0,_e.jsx)("div",{className:"status-banner status-banner--error",children:mt}),(0,_e.jsxs)("div",{className:"card profile-hero",children:[(0,_e.jsxs)("div",{className:"profile-hero__media stack-sm",children:[(0,_e.jsx)("div",{className:"profile-avatar-frame",children:null!==s&&void 0!==s&&s.avatar?(0,_e.jsx)("img",{src:s.avatar,alt:"avatar",className:"profile-avatar-img"}):(0,_e.jsx)("div",{className:"avatar avatar--xl avatar--fallback",children:j})}),(0,_e.jsxs)("div",{className:"action-grid",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>{var e,t;ft(""),null===(e=y.current)||void 0===e||null===(t=e.click)||void 0===t||t.call(e)},disabled:xt,children:xt?"Uploading\u2026":null!==s&&void 0!==s&&s.avatar?"Change photo":"Upload photo"}),(null===s||void 0===s?void 0:s.avatar)&&(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:async()=>{if(null!==s&&void 0!==s&&s.avatar&&window.confirm("Remove profile photo?")){wt(!0),ft(""),pt("");try{await m(),pt("Profile photo removed")}catch(e){ft(e.message||"Failed to remove photo")}finally{wt(!1)}}},disabled:xt,children:"Remove"})]}),(0,_e.jsx)("input",{ref:y,type:"file",accept:"image/*",className:"sr-only",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){if(n.size>2097152)return ft("Profile photos must be smaller than 2MB"),void(e.target.value="");wt(!0),ft(""),pt("");try{await p(n),pt("Profile photo updated")}catch(r){ft(r.message||"Failed to upload photo")}finally{wt(!1),e.target.value=""}}}}),(0,_e.jsx)("span",{className:"muted-text text-xs",children:"JPG or PNG up to 2MB."})]}),(0,_e.jsxs)("div",{className:"profile-hero__info stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md mb-1",children:(null===s||void 0===s?void 0:s.name)||"Your profile"}),(0,_e.jsx)("span",{className:"muted-text",children:null===s||void 0===s?void 0:s.email}),(0,_e.jsxs)("div",{className:"profile-hero__badges",children:[(0,_e.jsx)("span",{className:Km(null===s||void 0===s?void 0:s.role),children:Nt}),(0,_e.jsxs)("span",{className:"badge badge-gray",children:["ID \u2022 ",kt]})]})]}),(0,_e.jsx)("p",{className:"profile-hero__copy muted-text",children:"Keep your personal details accurate so teammates and suppliers know how to reach you. Updates sync instantly across every dashboard."})]}),(0,_e.jsxs)("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,7fr)_minmax(0,5fr)]",children:[(0,_e.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),pt(""),ft("");const t=(st.name||"").trim(),n=(st.email||"").trim(),r="string"===typeof st.address?st.address.trim():"",a=""===st.age?void 0:Number(st.age);if(!t)return ft("Name is required");if(!n)return ft("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))return ft("Enter a valid email address");if(void 0!==a&&Number.isNaN(a))return ft("Age must be a number");gt(!0);try{var i;const e=await u({name:t,email:n,age:a,address:r||void 0});ot({name:e.name||"",email:e.email||n,age:null!==(i=e.age)&&void 0!==i?i:"",address:e.address||""}),pt("Profile updated")}catch(s){ft(s.message||"Failed to update profile")}finally{gt(!1)}},className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Account details"}),(0,_e.jsx)("p",{className:"muted-text",children:"Review or adjust your contact information."})]}),(0,_e.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"profile-name",children:"Full name"}),(0,_e.jsx)("input",{id:"profile-name",className:"input",value:st.name,onChange:e=>ot(t=>ke(ke({},t),{},{name:e.target.value})),placeholder:"e.g. Alex Mason",autoComplete:"name"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"profile-email",children:"Email address"}),(0,_e.jsx)("input",{id:"profile-email",className:"input",type:"email",value:st.email,onChange:e=>ot(t=>ke(ke({},t),{},{email:e.target.value})),placeholder:"you@example.com",autoComplete:"email"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"profile-age",children:"Age"}),(0,_e.jsx)("input",{id:"profile-age",className:"input",type:"number",min:"0",value:st.age,onChange:e=>ot(t=>ke(ke({},t),{},{age:e.target.value})),placeholder:"Optional"})]}),(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"profile-address",children:"Address"}),(0,_e.jsx)("textarea",{id:"profile-address",className:"input",rows:3,value:st.address,onChange:e=>ot(t=>ke(ke({},t),{},{address:e.target.value})),placeholder:"Street, city, country",autoComplete:"street-address"})]})]}),(0,_e.jsxs)("div",{className:"button-row",children:[(0,_e.jsx)("button",{className:"btn btn-primary",disabled:vt,children:vt?"Saving\u2026":"Save profile"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>{var e;return ot({name:(null===s||void 0===s?void 0:s.name)||"",email:(null===s||void 0===s?void 0:s.email)||"",age:null!==(e=null===s||void 0===s?void 0:s.age)&&void 0!==e?e:"",address:(null===s||void 0===s?void 0:s.address)||""})},disabled:vt,children:"Reset"})]})]}),(0,_e.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),pt(""),ft(""),!lt.current)return ft("Current password is required");if(!lt.next||lt.next.length<6)return ft("New password must be at least 6 characters");if(lt.next!==lt.confirm)return ft("Passwords do not match");bt(!0);try{await h(lt.current,lt.next),pt("Password changed"),ct({current:"",next:"",confirm:""}),ut({current:!1,next:!1,confirm:!1})}catch(t){ft(t.message||"Failed to change password")}finally{bt(!1)}},className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Change password"}),(0,_e.jsx)("p",{className:"muted-text",children:"Use a strong password you don\u2019t reuse elsewhere."})]}),(0,_e.jsxs)("div",{className:"stack-md",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"pwd-current",children:"Current password"}),(0,_e.jsxs)("div",{className:"flex gap-2",children:[(0,_e.jsx)("input",{id:"pwd-current",className:"input",style:{flex:1},type:dt.current?"text":"password",value:lt.current,onChange:e=>ct(t=>ke(ke({},t),{},{current:e.target.value})),autoComplete:"current-password"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>ut(e=>ke(ke({},e),{},{current:!e.current})),children:dt.current?"Hide":"Show"})]})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"pwd-new",children:"New password"}),(0,_e.jsxs)("div",{className:"flex gap-2",children:[(0,_e.jsx)("input",{id:"pwd-new",className:"input",style:{flex:1},type:dt.next?"text":"password",value:lt.next,onChange:e=>ct(t=>ke(ke({},t),{},{next:e.target.value})),autoComplete:"new-password"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>ut(e=>ke(ke({},e),{},{next:!e.next})),children:dt.next?"Hide":"Show"})]})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"pwd-confirm",children:"Confirm new password"}),(0,_e.jsxs)("div",{className:"flex gap-2",children:[(0,_e.jsx)("input",{id:"pwd-confirm",className:"input",style:{flex:1},type:dt.confirm?"text":"password",value:lt.confirm,onChange:e=>ct(t=>ke(ke({},t),{},{confirm:e.target.value})),autoComplete:"new-password"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>ut(e=>ke(ke({},e),{},{confirm:!e.confirm})),children:dt.confirm?"Hide":"Show"})]})]})]}),(0,_e.jsx)("div",{className:"button-row",children:(0,_e.jsx)("button",{className:"btn btn-primary",disabled:yt,children:yt?"Updating\u2026":"Update password"})})]})]})]}),"sales"===M&&P&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("section",{className:"grid gap-4 sm:grid-cols-3",children:[(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Total orders"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:q.totalOrders})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Refunded"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:q.refunded})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Recent orders"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:null!==(n=null===(r=q.recent)||void 0===r?void 0:r.length)&&void 0!==n?n:0})]})]}),(0,_e.jsx)("div",{className:"card overflow-x-auto",children:(0,_e.jsxs)("table",{className:"min-w-[720px] w-full",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{className:"text-left",children:[(0,_e.jsx)("th",{children:"#"}),(0,_e.jsx)("th",{children:"Customer"}),(0,_e.jsx)("th",{children:"Status"}),(0,_e.jsx)("th",{children:"Total"})]})}),(0,_e.jsx)("tbody",{children:0===H.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:4,className:"py-6 text-center text-slate-500",children:"No data yet"})}):H.map(e=>(0,_e.jsxs)("tr",{className:"border-t border-white/10",children:[(0,_e.jsx)("td",{children:e.number}),(0,_e.jsx)("td",{children:e.customerName}),(0,_e.jsx)("td",{children:e.status}),(0,_e.jsx)("td",{children:Dr(e.total)})]},e._id))})]})})]}),"finance"===M&&E&&(0,_e.jsxs)("div",{className:"stack-lg",children:[!L&&(0,_e.jsx)("div",{className:"status-banner status-banner--warning",children:"You have access to the Finance workspace but no active finance privileges assigned. Ask an administrator to grant the capabilities you need."}),(0,_e.jsx)("section",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[{key:"online",title:"Online payments",description:"Customer checkout records from Stripe and card flows.",granted:C.canViewOnline,locked:"Requires \u201cView online payments\u201d privilege."},{key:"suppliers",title:"Supplier payments",description:"Manual payouts uploaded with payment slips.",granted:C.canViewSupplier,locked:"Requires \u201cView supplier payments\u201d privilege."},{key:"declined",title:"Declined slips",description:"Rejected supplier submissions pending review.",granted:C.canViewDeclined,locked:"Requires \u201cView declined payments\u201d privilege."},{key:"notifications",title:"Finance alerts",description:"Latest payment exceptions and approval reminders.",granted:C.canViewNotifications,locked:"Requires \u201cView finance notifications\u201d privilege."}].map(e=>(0,_e.jsxs)("div",{className:"card stack-xs",children:[(0,_e.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"text-slate-500 text-sm uppercase tracking-wide",children:e.title}),(0,_e.jsx)("div",{className:"text-sm text-slate-400 mt-1",children:e.description})]}),(0,_e.jsx)("span",{className:"badge ".concat(e.granted?"badge-green":"badge-gray"),children:e.granted?"Granted":"Restricted"})]}),!e.granted&&(0,_e.jsx)("p",{className:"text-xs text-amber-300 mt-2",children:e.locked})]},e.key))}),(0,_e.jsx)(Fm,{capabilities:C})]}),"inventory"===M&&F&&(0,_e.jsxs)("div",{className:"stack-lg",children:[J&&(0,_e.jsx)("div",{className:"status-banner status-banner--success",children:J}),Q&&(0,_e.jsx)("div",{className:"status-banner status-banner--error",children:Q}),(0,_e.jsxs)("section",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[(0,_e.jsxs)("div",{className:"card stack-xs",children:[(0,_e.jsx)("span",{className:"muted-heading text-xs uppercase tracking-wide",children:"Total SKUs"}),(0,_e.jsx)("span",{className:"text-3xl font-semibold",children:K?"\u2026":qe.totalSkus.toLocaleString()}),(0,_e.jsx)("span",{className:"muted-text text-sm",children:"Unique catalog items"})]}),(0,_e.jsxs)("div",{className:"card stack-xs",children:[(0,_e.jsx)("span",{className:"muted-heading text-xs uppercase tracking-wide",children:"Units on hand"}),(0,_e.jsx)("span",{className:"text-3xl font-semibold",children:K?"\u2026":qe.totalOnHand.toLocaleString()}),(0,_e.jsx)("span",{className:"muted-text text-sm",children:"Across all tracked stock"})]}),(0,_e.jsxs)("div",{className:"card stack-xs",children:[(0,_e.jsx)("span",{className:"muted-heading text-xs uppercase tracking-wide",children:"Stock value"}),(0,_e.jsx)("span",{className:"text-3xl font-semibold",children:K?"\u2026":Dr(qe.totalValue)}),(0,_e.jsx)("span",{className:"muted-text text-sm",children:"Based on listed selling prices"})]}),(0,_e.jsxs)("div",{className:"card stack-xs",children:[(0,_e.jsx)("span",{className:"muted-heading text-xs uppercase tracking-wide",children:"Reorder pipeline"}),(0,_e.jsx)("span",{className:"text-3xl font-semibold",children:Ye.totalQty.toLocaleString()}),(0,_e.jsxs)("span",{className:"muted-text text-sm",children:[Ye.pending," pending \u2022 ",Ye.ordered," ordered"]})]})]}),(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Stock control"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Update on-hand quantities, reduce damaged stock, and prepare items for supplier reorders."})]}),(0,_e.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,_e.jsxs)("div",{className:"field-with-icon",children:[(0,_e.jsx)("span",{className:"field-icon","aria-hidden":"true",children:"\ud83d\udd0e"}),(0,_e.jsx)("input",{type:"search",className:"input",placeholder:"Search products, categories, or brands",value:ne,onChange:e=>re(e.target.value)})]}),(0,_e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_e.jsx)("label",{className:"label whitespace-nowrap",htmlFor:"inventory-threshold",children:"Low stock threshold"}),(0,_e.jsx)("input",{id:"inventory-threshold",type:"number",min:"0",className:"input",value:ae,onChange:e=>ie(e.target.value),style:{maxWidth:128}})]})]})]}),(0,_e.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,_e.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>{we();const e=ze.map(e=>{var t,n;const r=Number(null!==(t=null===e||void 0===e?void 0:e.stockAmount)&&void 0!==t?t:0),a=Number(null!==(n=null===e||void 0===e?void 0:e.price)&&void 0!==n?n:0),i=Number.isFinite(a)?a*r:"";return[(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)||"",(null===e||void 0===e?void 0:e.name)||"",(null===e||void 0===e?void 0:e.category)||"",(null===e||void 0===e?void 0:e.brand)||"",null!==e&&void 0!==e&&e.inStock?"Yes":"No",r,a,i,(null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.createdAt)||""]});Je("inventory-stock-".concat(Date.now(),".csv"),["Product ID","Name","Category","Brand","In Stock","Current Stock","Unit Price","Stock Value","Updated"],e)&&je("Stock report downloaded")},disabled:K,children:"\ud83d\udcc4 Generate stock report"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>{if(!Ve.length)return void Ne("No low-stock items to queue right now");const e=(new Date).toISOString();we(),pe(t=>{const n=[...t],r=new Map(n.map((e,t)=>[e.productId,t]));return Ve.forEach(t=>{var a;if(null===t||void 0===t||!t._id)return;const i=Number(null!==(a=t.stockAmount)&&void 0!==a?a:0),o=Math.max(1,Ue>i?Ue-i:Ue||1),l={productId:t._id,name:t.name||"",category:t.category||"",stockAmount:i,reorderQty:o,threshold:Number.isFinite(Number(ae))?Number(ae):void 0,status:"pending",notes:"Auto generated from low stock threshold",createdAt:e,requestedBy:(null===s||void 0===s?void 0:s.name)||(null===s||void 0===s?void 0:s.email)||"System"};r.has(t._id)?n[r.get(t._id)]=ke(ke({},n[r.get(t._id)]),l):(r.set(t._id,n.length),n.push(l))}),n}),je("Low-stock items queued for reorder")},children:"\u26a1 Queue low-stock items"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>Se({suppressError:!0}),children:"\u27f3 Refresh"})]}),(0,_e.jsxs)("div",{className:"muted-text text-xs",children:[Ve.length," item",1===Ve.length?"":"s"," at or below the threshold of ",Ue,"."]})]}),(0,_e.jsx)("div",{className:"table-scroller",children:(0,_e.jsxs)("table",{className:"data-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"Product"}),(0,_e.jsx)("th",{children:"On hand"}),(0,_e.jsx)("th",{children:"Stock actions"}),(0,_e.jsx)("th",{children:"Reorder prep"})]})}),(0,_e.jsx)("tbody",{children:K?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:4,className:"empty-cell",children:"Refreshing inventory\u2026"})}):0===ze.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:4,className:"empty-cell",children:ne?"No products match your search.":"No products available."})}):ze.map(e=>{var t,n,r,a,i,o;const l=se[e._id]||{},c=le[e._id]||{},d=de===e._id,u=Number(null!==(t=null===e||void 0===e?void 0:e.stockAmount)&&void 0!==t?t:0),h=Number(null!==(n=null===e||void 0===e?void 0:e.price)&&void 0!==n?n:0),p=Number.isFinite(h)?h*u:null;return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("div",{className:"font-semibold text-sm text-wrap",children:(null===e||void 0===e?void 0:e.name)||"Unnamed product"}),(0,_e.jsx)("div",{className:"muted-text text-xs text-wrap",children:((null===e||void 0===e?void 0:e.category)||"Uncategorised")+" \u2022 "+((null===e||void 0===e?void 0:e.brand)||"Brand N/A")})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-2xs",children:[(0,_e.jsxs)("span",{className:"font-semibold",children:[u.toLocaleString()," unit",1===u?"":"s"]}),(0,_e.jsx)("span",{className:"muted-text text-xs",children:null!==e&&void 0!==e&&e.inStock?"Available":"Out of stock"}),Number.isFinite(p)&&(0,_e.jsx)("span",{className:"muted-text text-xs",children:Dr(p)}),u<=Ue&&(0,_e.jsx)("span",{className:"badge badge-amber badge-sm",children:"Low stock"})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-2xs",children:[(0,_e.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,_e.jsx)("input",{type:"number",className:"input input-sm",min:"0",placeholder:String(u),value:null!==(r=l.set)&&void 0!==r?r:"",onChange:t=>Ke(e._id,"set",t.target.value),style:{maxWidth:120}}),(0,_e.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>(e=>{var t;const n=null===(t=se[e])||void 0===t?void 0:t.set;void 0!==n&&""!==n?$e(e,n):Ne("Enter a stock amount to apply")})(e._id),disabled:d,children:d?"Saving\u2026":"Set stock"})]}),(0,_e.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,_e.jsx)("input",{type:"number",className:"input input-sm",min:"0",placeholder:"Reduce by\u2026",value:null!==(a=l.reduce)&&void 0!==a?a:"",onChange:t=>Ke(e._id,"reduce",t.target.value),style:{maxWidth:120}}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>(e=>{var t,n;const r=We[e];if(!r)return void Ne("Product not found");const a=null===(t=se[e])||void 0===t?void 0:t.reduce;if(!a)return void Ne("Enter a quantity to reduce");const i=Number(a);if(!Number.isFinite(i)||i<=0)return void Ne("Reduction must be greater than zero");const s=Number(null!==(n=r.stockAmount)&&void 0!==n?n:0),o=Math.max(0,s-i);$e(e,o)})(e._id),disabled:d,children:d?"Saving\u2026":"Reduce"})]})]})}),(0,_e.jsx)("td",{children:(0,_e.jsx)("div",{className:"stack-2xs",children:(0,_e.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,_e.jsx)("input",{type:"number",className:"input input-sm",min:"1",placeholder:"Qty",value:null!==(i=c.qty)&&void 0!==i?i:"",onChange:t=>ce(n=>ke(ke({},n),{},{[e._id]:ke(ke({},n[e._id]),{},{qty:t.target.value})})),style:{maxWidth:96}}),(0,_e.jsx)("input",{type:"text",className:"input input-sm",placeholder:"Note",value:null!==(o=c.notes)&&void 0!==o?o:"",onChange:t=>ce(n=>ke(ke({},n),{},{[e._id]:ke(ke({},n[e._id]),{},{notes:t.target.value})}))}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>(e=>{var t;const n=We[e];if(!n)return void Ne("Product not found");const r=le[e]||{},a=Number(r.qty);if(!Number.isFinite(a)||a<=0)return void Ne("Enter a reorder quantity greater than zero");const i=(r.notes||"").trim(),o=Number(ae),l={productId:e,name:n.name||"",category:n.category||"",stockAmount:Number(null!==(t=n.stockAmount)&&void 0!==t?t:0),reorderQty:Math.max(1,Math.floor(a)),threshold:Number.isFinite(o)?o:void 0,status:"pending",notes:i,createdAt:(new Date).toISOString(),requestedBy:(null===s||void 0===s?void 0:s.name)||(null===s||void 0===s?void 0:s.email)||"Inventory"};pe(t=>{const n=t.findIndex(t=>t.productId===e);if(n>=0){const e=[...t];return e[n]=ke(ke({},e[n]),l),e}return[...t,l]}),ce(t=>ke(ke({},t),{},{[e]:{qty:"",notes:""}})),we(),je("Added ".concat(n.name||"item"," to reorder list"))})(e._id),children:"Add to reorder"})]})})})]},e._id||e.id)})})]})})]}),(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Reorder workspace"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Consolidate inventory shortages and generate purchase requests for suppliers."})]}),(0,_e.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,_e.jsxs)("select",{className:"input",value:ve,onChange:e=>ge(e.target.value),children:[(0,_e.jsx)("option",{value:"all",children:"All items"}),(0,_e.jsx)("option",{value:"pending",children:"Pending"}),(0,_e.jsx)("option",{value:"ordered",children:"Marked ordered"})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>{we();const e=(me||"").trim(),t=He.map(t=>{var n,r;const a=We[t.productId],i=Number(null!==(n=null===a||void 0===a?void 0:a.price)&&void 0!==n?n:0),s=Number(null!==(r=t.reorderQty)&&void 0!==r?r:0),o=Number.isFinite(i)&&Number.isFinite(s)?i*s:"";return[t.productId,t.name,t.category,t.stockAmount,s,t.status,i,o,t.notes,e,t.createdAt,t.requestedBy]});Je("reorder-report-".concat(Date.now(),".csv"),["Product ID","Name","Category","Current Stock","Reorder Qty","Status","Unit Price","Estimated Total","Item Notes","Report Notes","Created At","Requested By"],t)&&je("Reorder report downloaded")},disabled:0===He.length,children:"\ud83d\udcc4 Create reorder report"})]})]}),(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"reorder-report-note",children:"Report notes"}),(0,_e.jsx)("textarea",{id:"reorder-report-note",className:"input",rows:2,placeholder:"Add context that should appear on the exported reorder report",value:me,onChange:e=>fe(e.target.value)}),(0,_e.jsxs)("div",{className:"muted-text text-xs",children:["Estimated spend: ",Dr(Ye.estimatedSpend)]})]}),(0,_e.jsx)("div",{className:"table-scroller",children:(0,_e.jsxs)("table",{className:"data-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"Product"}),(0,_e.jsx)("th",{children:"Requested"}),(0,_e.jsx)("th",{children:"Status"}),(0,_e.jsx)("th",{children:"Notes"}),(0,_e.jsx)("th",{className:"text-right",children:"Actions"})]})}),(0,_e.jsx)("tbody",{children:0===He.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:5,className:"empty-cell",children:0===he.length?"No reorder items yet. Add products from the stock control table.":"No items match the selected filter."})}):He.map(e=>{var t,n,r,a,i;const s=We[e.productId],o=Number(null!==(t=null===s||void 0===s?void 0:s.price)&&void 0!==t?t:0),l=Number(null!==(n=e.reorderQty)&&void 0!==n?n:0),c=Number.isFinite(o)&&Number.isFinite(l)?o*l:null;return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-2xs",children:[(0,_e.jsx)("span",{className:"font-semibold text-sm text-wrap",children:e.name}),(0,_e.jsxs)("span",{className:"muted-text text-xs text-wrap",children:[e.category||"\u2014"," \u2022 Threshold ",null!==(r=e.threshold)&&void 0!==r?r:Ue]}),(0,_e.jsxs)("span",{className:"muted-text text-xs",children:["On hand: ",Number(null!==(a=e.stockAmount)&&void 0!==a?a:0).toLocaleString()," unit",1===Number(null!==(i=e.stockAmount)&&void 0!==i?i:0)?"":"s"]})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-2xs",children:[(0,_e.jsxs)("span",{className:"font-semibold",children:[l.toLocaleString()," unit",1===l?"":"s"]}),Number.isFinite(o)&&(0,_e.jsxs)("span",{className:"muted-text text-xs",children:[Dr(o)," \u2022 ",null!=c?Dr(c):"\u2014"]}),(0,_e.jsx)("span",{className:"muted-text text-xs",children:Gm(e.createdAt)})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("select",{className:"input input-sm",value:e.status,onChange:t=>{return n=e.productId,r=t.target.value,void pe(e=>e.map(e=>e.productId===n?ke(ke({},e),{},{status:r}):e));var n,r},children:[(0,_e.jsx)("option",{value:"pending",children:"Pending"}),(0,_e.jsx)("option",{value:"ordered",children:"Ordered"})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-2xs",children:[(0,_e.jsx)("span",{className:"muted-text text-sm",children:e.notes||"\u2014"}),(0,_e.jsxs)("span",{className:"muted-text text-xs",children:["Requested by ",e.requestedBy||"Unknown"]})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"action-grid justify-end",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>(e=>{var t;null!==e&&void 0!==e&&e.productId&&(b({productId:e.productId,name:e.name,quantity:Math.max(1,Number(null!==(t=e.reorderQty)&&void 0!==t?t:1)),notes:e.notes}),je("Item added to supplier cart"))})(e),children:"Send to supplier cart"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>{return t=e.productId,void pe(e=>e.filter(e=>e.productId!==t));var t},children:"Remove"})]})})]},e.productId)})})]})})]})]}),"care"===M&&T&&(0,_e.jsxs)("div",{className:"stack-lg",children:[(0,_e.jsxs)("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Feedback items"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:Xe.length}),(0,_e.jsx)("div",{className:"text-sm text-slate-500",children:"Total tracked this week"})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Awaiting replies"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:Ze}),(0,_e.jsx)("div",{className:"text-sm text-slate-500",children:"Need your response"})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Resolved"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:Xe.length-Ze}),(0,_e.jsx)("div",{className:"text-sm text-slate-500",children:"Already replied"})]})]}),(0,_e.jsxs)("div",{className:"card dashboard-care-toolbar",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"eyebrow",children:"Customer delight"}),(0,_e.jsx)("h3",{className:"heading-md",children:"Feedback workspace"})]}),(0,_e.jsxs)("div",{className:"pill-toggle",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-sm ".concat("reviews"===U?"btn-primary":"btn-secondary"),onClick:()=>z("reviews"),children:"Reviews"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-sm ".concat("notifications"===U?"btn-primary":"btn-secondary"),onClick:()=>z("notifications"),children:"Notifications"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-sm ".concat("recycle"===U?"btn-primary":"btn-secondary"),onClick:()=>z("recycle"),children:"Recycle bin"})]})]}),"reviews"===U&&(0,_e.jsx)(Bh,{}),"notifications"===U&&(0,_e.jsx)("div",{className:"card",children:(0,_e.jsx)(ip,{feed:"care"})}),"recycle"===U&&(0,_e.jsx)("div",{className:"card",children:(0,_e.jsx)(dp,{})})]}),"refunds"===M&&R&&(0,_e.jsx)(Lp,{}),"orders"===M&&O&&(0,_e.jsxs)("div",{className:"stack-lg",children:[(0,_e.jsxs)("section",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Orders placed"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:Me.total}),(0,_e.jsx)("div",{className:"text-sm text-slate-500",children:Me.total?"Last placed ".concat(Gm(Me.lastPlaced)):"No orders yet"})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Paid orders"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:Me.paid}),(0,_e.jsxs)("div",{className:"text-sm text-slate-500",children:["Total spent ",Or(Me.totalSpent||0)]})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Awaiting payment"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:Me.awaiting}),(0,_e.jsxs)("div",{className:"text-sm text-slate-500",children:[Me.pending," pending confirmation"]})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Cancelled"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:Be.total}),(0,_e.jsxs)("div",{className:"text-sm text-slate-500",children:["Refunded ",Or(Be.totalAmount||0)]})]})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsxs)("header",{className:"card-header",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"heading-sm",children:"My cart"}),(0,_e.jsx)("p",{className:"muted-text",children:"Manage items you've added. Checkout is just a click away."})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>xe("cart"),children:ye.cart?"Collapse":"Expand"})]}),ye.cart&&(0,_e.jsxs)("div",{className:"mt-4",children:[(0,_e.jsx)(Pp,{embedded:!0}),(0,_e.jsxs)("div",{className:"muted-text text-sm text-right",children:[x.totalItems," item(s) \xb7 ",Dr(x.subtotal)," total"]})]})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsxs)("header",{className:"card-header",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"heading-sm",children:"Order history"}),(0,_e.jsx)("p",{className:"muted-text",children:"Download e-receipts, track fulfilment, and leave product reviews."})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>xe("history"),children:ye.history?"Collapse":"Expand"})]}),ye.history&&(0,_e.jsx)("div",{className:"mt-4",children:(0,_e.jsx)(Op,{embedded:!0,allowReceipts:!0,onOrdersChange:Ie})})]}),(0,_e.jsxs)("div",{className:"card overflow-x-auto",children:[(0,_e.jsxs)("header",{className:"card-header",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"heading-sm",children:"Cancelled orders"}),(0,_e.jsx)("p",{className:"muted-text",children:"Orders moved to history appear here with their reason."})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>xe("cancelled"),children:ye.cancelled?"Collapse":"Expand"})]}),ye.cancelled&&(0,_e.jsxs)("div",{className:"mt-4",children:[(0,_e.jsxs)("div",{className:"mb-4 flex flex-col gap-1 md:flex-row md:items-center md:justify-between",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("span",{className:"eyebrow",children:"History"}),(0,_e.jsx)("h4",{className:"heading-sm",children:"Cancelled orders"}),(0,_e.jsx)("p",{className:"muted-text",children:"Orders moved to history appear here with their reason."})]}),Be.totalAmount>0&&(0,_e.jsxs)("div",{className:"text-sm text-slate-500",children:["Refunded ",Or(Be.totalAmount)," overall"]})]}),Fe?(0,_e.jsx)("div",{className:"py-6 text-center text-slate-500",children:"Loading cancelled orders\u2026"}):Re?(0,_e.jsx)("div",{className:"py-6 text-center text-red-500",children:Re}):0===Pe.length?(0,_e.jsx)("div",{className:"py-6 text-center text-slate-500",children:"No cancelled orders recorded yet."}):(0,_e.jsxs)("table",{className:"min-w-[720px] w-full",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{className:"text-left",children:[(0,_e.jsx)("th",{children:"Cancelled on"}),(0,_e.jsx)("th",{children:"Order"}),(0,_e.jsx)("th",{children:"Items"}),(0,_e.jsx)("th",{children:"Total"}),(0,_e.jsx)("th",{children:"Reason"})]})}),(0,_e.jsx)("tbody",{children:Pe.map((e,t)=>{const n=(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.originalOrderId)||t,r=String((null===e||void 0===e?void 0:e.originalOrderId)||(null===e||void 0===e?void 0:e._id)||"").slice(-6).padStart(6,"0"),a=Array.isArray(null===e||void 0===e?void 0:e.items)?e.items:[];return(0,_e.jsxs)("tr",{className:"border-t border-white/5 align-top",children:[(0,_e.jsxs)("td",{className:"py-3",children:[(0,_e.jsx)("div",{children:Gm(null===e||void 0===e?void 0:e.cancelledAt)}),(0,_e.jsx)("div",{className:"text-xs text-slate-500",children:(null===e||void 0===e?void 0:e.contact)||"\u2014"})]}),(0,_e.jsxs)("td",{className:"py-3",children:[(0,_e.jsxs)("div",{className:"font-medium",children:["Order #",r]}),(0,_e.jsx)("div",{className:"text-xs text-slate-500",children:(null===e||void 0===e?void 0:e.paymentMethod)||"Payment method unknown"})]}),(0,_e.jsx)("td",{className:"py-3",children:a.length?(0,_e.jsx)("ul",{className:"space-y-1 text-sm text-slate-500",children:a.map((e,t)=>{var r;return(0,_e.jsxs)("li",{children:[(null===e||void 0===e?void 0:e.productName)||"Item"," \xd7 ",null!==(r=null===e||void 0===e?void 0:e.quantity)&&void 0!==r?r:0]},"".concat(n,"-item-").concat(t))})}):(0,_e.jsx)("span",{className:"text-sm text-slate-500",children:"No items recorded"})}),(0,_e.jsx)("td",{className:"py-3",children:Dr((null===e||void 0===e?void 0:e.totalAmount)||0)}),(0,_e.jsx)("td",{className:"py-3 max-w-xs",children:(0,_e.jsx)("span",{className:"text-sm text-slate-500",children:(null===e||void 0===e?void 0:e.cancelReason)||"Not specified"})})]},n)})})]})]})]})]}),"myfeedback"===M&&O&&(0,_e.jsx)(jp,{embedded:!0}),"supplying"===M&&D&&(0,_e.jsxs)("div",{className:"card flex flex-col gap-4 p-6",children:[(0,_e.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Supplying"}),(0,_e.jsxs)("div",{className:"flex gap-4",children:[(0,_e.jsx)("button",{className:"btn btn-primary px-4 py-2",onClick:()=>v("/add-supplier-product"),children:"\u2795 Add Product"}),(0,_e.jsx)("button",{className:"btn btn-secondary px-4 py-2",onClick:()=>v("/supplier-products"),children:"\ud83d\udce6 View Products"})]})]}),"settings"===M&&(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("label",{className:"label",children:"Theme"}),(0,_e.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"input max-w-xs",children:[(0,_e.jsx)("option",{value:"light",children:"Light"}),(0,_e.jsx)("option",{value:"dark",children:"Dark"})]})]})]})]})})}function Jm(e){const{user:t}=Ae(),n=String((null===t||void 0===t?void 0:t.role)||"").trim().toLowerCase();return"user"===n||"customer"===n?(0,_e.jsx)(om,{}):(0,_e.jsx)($m,ke({},e))}function Xm(){return(0,_e.jsx)(Jm,{initialTab:"finance"})}function Qm(){return(0,_e.jsx)(Jm,{initialTab:"sales"})}function Zm(){return(0,_e.jsx)(Jm,{initialTab:"inventory"})}const ef=["headers"],tf="http://localhost:5000".replace(/\/$/,""),nf="".concat(tf,"/api"),rf=tf,af=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{headers:n}=t,r=ea(t,ef),a=r.body instanceof FormData,i=await fetch(e,ke(ke({},r),{},{headers:ke(ke({},a?{}:{"Content-Type":"application/json"}),n||{})}));if(!i.ok){let e="Request failed with status ".concat(i.status);try{const t=await i.text();t&&(e=t)}catch(a_){}throw new Error(e)}if(204===i.status)return null;return(i.headers.get("content-type")||"").includes("application/json")?i.json():i.text()},sf=e=>{if(!e)return 0;const t=new Date(e).getTime();return Number.isFinite(t)?t:0},of=(e,t)=>{const n=t.trim().toLowerCase();if(!n)return!0;const r=e=>null!=e&&("string"===typeof e||"number"===typeof e||"boolean"===typeof e?String(e).toLowerCase().includes(n):Array.isArray(e)?e.some(r):"object"===typeof e&&Object.values(e).some(r));return r(e)},lf=new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2,maximumFractionDigits:2}),cf=e=>{const t=Number(e);return Number.isFinite(t)?lf.format(t):"\u2014"},df=e=>{if(!e)return"\u2014";const t=new Date(e);return Number.isFinite(t.getTime())?t.toLocaleString():"\u2014"},uf=e=>e?/^https?:\/\//i.test(e)?e:"".concat(rf).concat(e.startsWith("/")?"":"/").concat(e):"",hf={manage_users:"Manage users & accounts",manage_roles:"Manage roles & privileges",manage_products:"Manage product catalog",manage_inventory:"Manage inventory configuration",manage_all_orders:"Manage all customer orders",manage_suppliers:"Manage supplier directory",system_config:"Configure system settings",view_reports:"View executive reports",view_analytics:"View analytics dashboards",export_data:"Export platform data",view_products:"View products",place_orders:"Place orders",view_own_orders:"View own orders",submit_feedback:"Submit feedback & reviews",inv_view_stock:"View stock balances",inv_update_stock:"Adjust stock levels",inv_reorder:"Create reorder requests",inv_receive_goods:"Receive goods",inv_reports:"Inventory reports",fin_view_online_payments:"View online payments",fin_view_supplier_payments:"View supplier payments",fin_view_declined_payments:"View declined slips",fin_manage_declined_payments:"Resolve / delete declined slips",fin_manage_salary:"Manage salary overrides",fin_view_finance_notifications:"View finance notifications",fin_view_notifications:"Legacy: finance notifications",fin_export_statements:"Export finance statements",fin_record_payments:"Legacy: record manual payments",fin_payroll:"Legacy: manage payroll & suppliers",fin_view_dashboard:"Legacy: view finance dashboard",fin_payments:"Legacy: review payments",fin_payouts:"Legacy: approve supplier payouts",fin_reconcile:"Legacy: reconcile transactions",fin_reports:"Legacy: financial reports",fin_statements:"Legacy: financial statements",cc_view_feedback:"View feedback",cc_respond_feedback:"Respond to feedback",cc_manage_returns:"Manage returns",moderate_feedback:"Moderate reviews",refund_view_requests:"View refund & return requests",refund_manage_requests:"Manage refunds & returns",sales_manage_orders:"Manage sales orders",sales_process_refunds:"Process sales refunds",sales_manage_discounts:"Manage sales promotions",sales_view_reports:"View sales reports",sales_dashboard:"Legacy: sales dashboard",sales_refund:"Legacy: sales refund tools",sales_promotions:"Legacy: sales promotions",sales_reports:"Legacy: sales reporting",supplier_portal:"Access supplier portal",supplier_manage_products:"Supplier: manage listings",supplier_receive_orders:"Supplier: receive orders",supplier_manage_inventory:"Supplier: manage inventory"},pf=["view_products","place_orders","view_own_orders","submit_feedback"],mf=["manage_inventory","inv_view_stock","inv_update_stock","inv_reorder","inv_receive_goods","inv_reports"],ff=["fin_view_online_payments","fin_view_supplier_payments","fin_view_declined_payments","fin_manage_declined_payments","fin_manage_salary","fin_view_finance_notifications","fin_export_statements","fin_record_payments","fin_payroll","fin_view_dashboard","fin_payments","fin_payouts","fin_reconcile","fin_reports","fin_statements","fin_view_notifications"],vf=["cc_view_feedback","cc_respond_feedback","cc_manage_returns","moderate_feedback","refund_view_requests","refund_manage_requests"],gf=["sales_manage_orders","sales_process_refunds","sales_manage_discounts","sales_view_reports","sales_dashboard","sales_refund","sales_promotions","sales_reports","supplier_portal","supplier_manage_products","supplier_receive_orders","supplier_manage_inventory","manage_suppliers"],yf=e=>e.map(e=>({id:e,label:hf[e]||e})),bf=[{title:"Admin",items:yf(Array.from(new Set(["manage_users","manage_roles","system_config","manage_all_orders","manage_products","view_reports","view_analytics","export_data",...pf,...mf,...ff,...vf,...gf])))},{title:"User",items:yf(pf)},{title:"Inventory",items:yf(mf)},{title:"Finance",items:yf(ff)},{title:"Feedback & Reviews",items:yf(vf)},{title:"Sales",items:yf(gf)}],xf="smart_hardware_reorder_queue",wf=e=>{const t=String(e||"").trim().toLowerCase();return"admin"===t?"badge badge-amber":"staff"===t||t.includes("manager")?"badge badge-green":"badge badge-gray"},jf=[{value:"present",label:"Present",tone:"badge badge-green"},{value:"absent",label:"Absent",tone:"badge badge-red"},{value:"late",label:"Late",tone:"badge badge-amber"},{value:"leave",label:"On leave",tone:"badge badge-gray"}],Nf=e=>{const t=String(e||"").trim().toLowerCase();return jf.find(e=>e.value===t)||{value:t||"unknown",label:t?t.charAt(0).toUpperCase()+t.slice(1):"Not set",tone:"badge badge-gray"}};function kf(){var e,t,n,r;const[a,s]=(0,i.useState)("reviews"),{user:o,token:l,theme:c,setTheme:d,toggleTheme:u,updateProfile:h,changePassword:p,uploadAvatar:m,deleteAvatar:f,logout:v}=Ae(),g=te(),{addToCart:y}=(0,i.useContext)(Ge),b=(0,i.useId)(),[x,w]=(0,i.useState)("dashboard");(0,i.useEffect)(()=>{if("undefined"===typeof window)return;const e=window.location.hash.replace("#","");e&&w(e);const t=()=>w(window.location.hash.replace("#","")||"dashboard");return window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)},[]);const j=e=>{w(e),"undefined"!==typeof window&&window.history.replaceState(null,"","#".concat(e))},[N,k]=(0,i.useState)([]),[_,S]=(0,i.useState)([]),[A,C]=(0,i.useState)([]),[L,P]=(0,i.useState)([]),[E,F]=(0,i.useState)([]),[T,R]=(0,i.useState)([]),[D,O]=(0,i.useState)(!0),[I,M]=(0,i.useState)(!1),[B,U]=(0,i.useState)(!1),[z,q]=(0,i.useState)(!1),[V,H]=(0,i.useState)(!1),[W,G]=(0,i.useState)(!0),[Y,K]=(0,i.useState)(""),[$,J]=(0,i.useState)(""),[X,Q]=(0,i.useState)(!1),[Z,ee]=(0,i.useState)(""),[ne,re]=(0,i.useState)(!1),[ae,ie]=(0,i.useState)(""),[se,oe]=(0,i.useState)({from:"",to:""}),le=(0,i.useMemo)(()=>l?{Authorization:"Bearer ".concat(l)}:{},[l]),ce=(0,i.useCallback)(async function(){let{suppressError:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O(!0),e||J("");try{var t;if(!l)throw new Error("Authentication required");const e=await af("".concat(nf,"/users"),{headers:le});F(Array.isArray(e)?e:null!==(t=null===e||void 0===e?void 0:e.users)&&void 0!==t?t:[])}catch(n_){e||J(n_.message),e||F([])}finally{O(!1)}},[le,l]),de=(0,i.useCallback)(async function(){let{suppressError:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};G(!0),e||J("");try{var t;if(!l)throw new Error("Authentication required");const e=await af("".concat(nf,"/roles"),{headers:le});P(Array.isArray(e)?e:null!==(t=null===e||void 0===e?void 0:e.roles)&&void 0!==t?t:[])}catch(n_){e||J(n_.message),e||P([])}finally{G(!1)}},[le,l]),ue=(0,i.useCallback)(async function(){let{suppressError:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(!0),e||J("");try{var t;const e=await af("".concat(rf,"/products"),{headers:le});R(Array.isArray(e)?e:null!==(t=null===e||void 0===e?void 0:e.products)&&void 0!==t?t:[])}catch(n_){e||J(n_.message),e||R([])}finally{M(!1)}},[le]),he=(0,i.useCallback)(async function(){let{suppressError:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};U(!0),e||J("");try{if(!l)throw new Error("Authentication required");const e=await af("".concat(nf,"/orders"),{headers:le});k(Array.isArray(null===e||void 0===e?void 0:e.orders)?e.orders:[])}catch(n_){e||J(n_.message),e||k([])}finally{U(!1)}},[le,l]),pe=(0,i.useCallback)(async function(){let{suppressError:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};q(!0),e||J("");try{var t;if(!l)throw new Error("Authentication required");const e=await af("".concat(nf,"/admin-orders"),{headers:le});S(Array.isArray(e)?e:null!==(t=null===e||void 0===e?void 0:e.orders)&&void 0!==t?t:[])}catch(n_){e||J(n_.message),e||S([])}finally{q(!1)}},[le,l]),me=(0,i.useCallback)(async function(){let{suppressError:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H(!0),e||J("");try{if(!l)throw new Error("Authentication required");const e=await af("".concat(nf,"/orders/cancelled"),{headers:le});C(Array.isArray(null===e||void 0===e?void 0:e.cancelledOrders)?e.cancelledOrders:[])}catch(n_){e||J(n_.message),e||C([])}finally{H(!1)}},[le,l]);(0,i.useEffect)(()=>{!l&&["users","roles","order","dashboard"].includes(x)||("users"===x&&ce(),"roles"===x&&de(),"product"===x&&ue(),"order"===x&&(he(),pe(),me()),"dashboard"===x&&(ce({suppressError:!0}),ue({suppressError:!0}),he({suppressError:!0}),pe({suppressError:!0}),me({suppressError:!0}),de({suppressError:!0})))},[x,l,ce,de,ue,he,pe,me]);const fe=((null===o||void 0===o?void 0:o.name)||"A").trim().split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase(),[ve,ge]=(0,i.useState)({name:(null===o||void 0===o?void 0:o.name)||"",email:(null===o||void 0===o?void 0:o.email)||"",age:null!==(e=null===o||void 0===o?void 0:o.age)&&void 0!==e?e:"",address:(null===o||void 0===o?void 0:o.address)||""}),[ye,be]=(0,i.useState)(!1),[xe,we]=(0,i.useState)(!1),[je,Ne]=(0,i.useState)({current:"",next:"",confirm:""}),[Se,Ce]=(0,i.useState)(!1),[Le,Pe]=(0,i.useState)({current:!1,next:!1,confirm:!1}),Ee=(0,i.useRef)(null);(0,i.useEffect)(()=>{var e;ge({name:(null===o||void 0===o?void 0:o.name)||"",email:(null===o||void 0===o?void 0:o.email)||"",age:null!==(e=null===o||void 0===o?void 0:o.age)&&void 0!==e?e:"",address:(null===o||void 0===o?void 0:o.address)||""})},[o]);const[Fe,Te]=(0,i.useState)(""),[Re,De]=(0,i.useState)("name"),[Oe,Ie]=(0,i.useState)("all"),Me=(0,i.useMemo)(()=>{const e=new Set;return E.forEach(t=>{const n=String((null===t||void 0===t?void 0:t.role)||"").trim().toLowerCase();n&&e.add(n)}),Array.from(e).sort()},[E]),Be=(0,i.useMemo)(()=>{let e=[...E];"all"!==Oe&&(e=e.filter(e=>String((null===e||void 0===e?void 0:e.role)||"").toLowerCase()===Oe));const t=Fe.trim().toLowerCase();return t&&(e=e.filter(e=>(e.name||"").toLowerCase().includes(t)||(e.email||"").toLowerCase().includes(t)||(e.role||"").toLowerCase().includes(t))),e.sort((e,t)=>"name"===Re?((null===e||void 0===e?void 0:e.name)||"").localeCompare((null===t||void 0===t?void 0:t.name)||""):"email"===Re?((null===e||void 0===e?void 0:e.email)||"").localeCompare((null===t||void 0===t?void 0:t.email)||""):"role"===Re?((null===e||void 0===e?void 0:e.role)||"").localeCompare((null===t||void 0===t?void 0:t.role)||""):"created"===Re?sf(null===t||void 0===t?void 0:t.createdAt)-sf(null===e||void 0===e?void 0:e.createdAt):0),e},[Fe,E,Re,Oe]),Ue=(0,i.useMemo)(()=>{var e,t;const n=Array.isArray(E)?E.length:0,r=new Date,a=[];for(let _=5;_>=0;_-=1){const e=new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth()-_,1));a.push({label:e.toLocaleString(void 0,{month:"short"}),year:e.getUTCFullYear(),month:e.getUTCMonth()})}const i=(Array.isArray(E)?E:[]).map(e=>sf(null===e||void 0===e?void 0:e.createdAt)).filter(e=>e>0).sort((e,t)=>e-t);let s=0,o=0,l=0;const c=a.map(e=>{const t=Date.UTC(e.year,e.month+1,1)-1;for(;s<i.length&&i[s]<=t;)o+=1,s+=1;const n=o-l;return l=o,ke(ke({},e),{},{count:o,newCount:n})}),d=c.map(e=>e.count),u=d.length>0?Math.max(...d,0):0,h=d.length>0?Math.min(...d,0):0,p=Math.max(u-h,1),m=90,f=c.map((e,t)=>{const n=1===c.length?0:t/(c.length-1)*100,r=10+80*(1-(0===p?.5:(e.count-h)/p));return ke(ke({},e),{},{x:n,y:r})});let v="",g="";if(f.length>0){v=f.map((e,t)=>"".concat(0===t?"M":"L"," ").concat(e.x.toFixed(3)," ").concat(e.y.toFixed(3))).join(" ");const e=f[0],t=f[f.length-1];g="M ".concat(e.x.toFixed(3)," ").concat(m.toFixed(3)," ")+f.map(e=>"L ".concat(e.x.toFixed(3)," ").concat(e.y.toFixed(3))).join(" ")+" L ".concat(t.x.toFixed(3)," ").concat(m.toFixed(3)," Z")}const y=f[f.length-1]||{label:(null===(e=a[a.length-1])||void 0===e?void 0:e.label)||"",year:null===(t=a[a.length-1])||void 0===t?void 0:t.year,count:n,newCount:n},b=f.length>1?f[f.length-2]:null,x=b?b.count:0,w=y.count-x,j=y.newCount;let N=0;x>0?N=w/x*100:y.count>0&&(N=100);let k=null;return f.forEach(e=>{(!k||e.newCount>k.newCount)&&(k=e)}),k&&0===k.newCount&&(k=null),{points:f,path:v,area:g,bottom:m,total:n,delta:j,deltaPercent:N,lastLabel:y.label,peakPoint:k,hasData:i.length>0}},[E]),ze="".concat(b,"-fill"),qe=Number.isFinite(Ue.bottom)?Ue.bottom:90,Ve=!D&&Ue.hasData,He=D?"\u2026":Ue.total.toLocaleString(),We=D?"\u2026":"".concat(Ue.delta>=0?"+":"").concat(Ue.delta.toLocaleString()),Ye=D?"\u2026":Number.isFinite(Ue.deltaPercent)?"".concat(Ue.deltaPercent>=0?"+":"").concat(Ue.deltaPercent.toFixed(1),"%"):"0.0%",Ke=Ve&&Ue.peakPoint?"".concat(Ue.peakPoint.label," ").concat(Ue.peakPoint.year):"",$e=Ve&&Ue.peakPoint?Ue.peakPoint.newCount.toLocaleString():null,[Je,Xe]=(0,i.useState)(""),[Qe,Ze]=(0,i.useState)("name"),et=(0,i.useMemo)(()=>{let e=[...L];const t=Je.trim().toLowerCase();return t&&(e=e.filter(e=>{const n=((null===e||void 0===e?void 0:e.name)||"").toLowerCase(),r=((null===e||void 0===e?void 0:e.description)||"").toLowerCase(),a=((null===e||void 0===e?void 0:e.privileges)||[]).join(" ").toLowerCase();return n.includes(t)||r.includes(t)||a.includes(t)})),e.sort((e,t)=>{if("name"===Qe)return((null===e||void 0===e?void 0:e.name)||"").localeCompare((null===t||void 0===t?void 0:t.name)||"");if("privileges"===Qe){const n=Array.isArray(null===e||void 0===e?void 0:e.privileges)?e.privileges.length:0;return(Array.isArray(null===t||void 0===t?void 0:t.privileges)?t.privileges.length:0)-n}return 0}),e},[L,Je,Qe]),[tt,nt]=(0,i.useState)(""),rt=(0,i.useMemo)(()=>{const e=Array.isArray(T)?[...T]:[];e.sort((e,t)=>((null===e||void 0===e?void 0:e.name)||"").localeCompare((null===t||void 0===t?void 0:t.name)||""));const t=tt.trim().toLowerCase();return t?e.filter(e=>{const n=((null===e||void 0===e?void 0:e.name)||"").toLowerCase(),r=((null===e||void 0===e?void 0:e.category)||"").toLowerCase(),a=((null===e||void 0===e?void 0:e.brand)||"").toLowerCase();return n.includes(t)||r.includes(t)||a.includes(t)}):e},[tt,T]),[at,it]=(0,i.useState)(""),st=(0,i.useMemo)(()=>{const e=Array.isArray(N)?[...N]:[];return e.sort((e,t)=>sf((null===t||void 0===t?void 0:t.updatedAt)||(null===t||void 0===t?void 0:t.createdAt))-sf((null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.createdAt))),at.trim()?e.filter(e=>of(e,at)):e},[N,at]),[ot,lt]=(0,i.useState)(""),ct=(0,i.useMemo)(()=>{const e=Array.isArray(_)?[..._]:[];return e.sort((e,t)=>sf((null===t||void 0===t?void 0:t.updatedAt)||(null===t||void 0===t?void 0:t.createdAt))-sf((null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.createdAt))),ot.trim()?e.filter(e=>of(e,ot)):e},[_,ot]),[dt,ut]=(0,i.useState)(""),ht=(0,i.useMemo)(()=>{const e=Array.isArray(A)?[...A]:[],t=Date.now()-2592e6,n=e.filter(e=>sf((null===e||void 0===e?void 0:e.cancelledAt)||(null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.createdAt))>=t);return n.sort((e,t)=>sf((null===t||void 0===t?void 0:t.cancelledAt)||(null===t||void 0===t?void 0:t.updatedAt)||(null===t||void 0===t?void 0:t.createdAt))-sf((null===e||void 0===e?void 0:e.cancelledAt)||(null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.createdAt))),dt.trim()?n.filter(e=>of(e,dt)):n},[A,dt]),[pt,mt]=(0,i.useState)(""),[ft,vt]=(0,i.useState)(10),[gt,yt]=(0,i.useState)({}),[bt,xt]=(0,i.useState)({}),[wt,jt]=(0,i.useState)(null),[Nt,kt]=(0,i.useState)(()=>(()=>{if("undefined"===typeof window)return[];try{const e=window.localStorage.getItem(xf);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.filter(e=>e&&"object"===typeof e).map(e=>({productId:e.productId,name:e.name||"",category:e.category||"",stockAmount:Number.isFinite(Number(e.stockAmount))?Number(e.stockAmount):0,reorderQty:Number.isFinite(Number(e.reorderQty))?Number(e.reorderQty):0,threshold:Number.isFinite(Number(e.threshold))?Number(e.threshold):void 0,status:"ordered"===e.status?"ordered":"pending",notes:e.notes||"",createdAt:e.createdAt||(new Date).toISOString(),requestedBy:e.requestedBy||""})):[]}catch(a_){return console.warn("Failed to parse reorder list from storage",a_),[]}})()),[_t,St]=(0,i.useState)(""),[At,Ct]=(0,i.useState)("all"),[Lt,Pt]=(0,i.useState)(()=>(new Date).toISOString().slice(0,10)),[Et,Ft]=(0,i.useState)({}),[Tt,Rt]=(0,i.useState)({}),[Dt,Ot]=(0,i.useState)({}),[It,Mt]=(0,i.useState)(!1),[Bt,Ut]=(0,i.useState)({}),[zt,qt]=(0,i.useState)(""),[Vt,Ht]=(0,i.useState)(""),[Wt,Gt]=(0,i.useState)("all");(0,i.useEffect)(()=>{(e=>{if("undefined"!==typeof window)try{window.localStorage.setItem(xf,JSON.stringify(e))}catch(a_){console.warn("Failed to persist reorder list",a_)}})(Nt)},[Nt]),(0,i.useEffect)(()=>{Array.isArray(T)&&0!==T.length&&kt(e=>{if(!Array.isArray(e)||0===e.length)return e;let t=!1;const n=e.map(e=>{if(null===e||void 0===e||!e.productId)return e;const n=T.find(t=>(null===t||void 0===t?void 0:t._id)===e.productId);if(!n)return e;const r=Number.isFinite(Number(n.stockAmount))?Number(n.stockAmount):0,a=ke(ke({},e),{},{name:n.name||e.name,category:n.category||e.category,stockAmount:r});return a.name===e.name&&a.category===e.category&&a.stockAmount===e.stockAmount||(t=!0),a});return t?n:e})},[T]);const Yt=(0,i.useMemo)(()=>{const e=Number(ft);return!Number.isFinite(e)||e<0?0:Math.floor(e)},[ft]),Kt=(0,i.useMemo)(()=>{const e=Array.isArray(T)?[...T]:[];e.sort((e,t)=>((null===e||void 0===e?void 0:e.name)||"").localeCompare((null===t||void 0===t?void 0:t.name)||""));const t=pt.trim();return t?e.filter(e=>of(e,t)):e},[T,pt]),$t=(0,i.useMemo)(()=>{const e=Array.isArray(T)?T:[];let t=0,n=0,r=0,a=0,i=0;e.forEach(e=>{var s,o;t+=1;const l=Number(null!==(s=null===e||void 0===e?void 0:e.stockAmount)&&void 0!==s?s:0),c=Number(null!==(o=null===e||void 0===e?void 0:e.price)&&void 0!==o?o:0);Number.isFinite(l)&&(n+=l,Number.isFinite(c)&&(i+=c*l),l<=0||null===e||void 0===e||!e.inStock?a+=1:l<=Yt&&(r+=1))});const s=Nt.reduce((e,t)=>{if("pending"===t.status){var n;const r=Number(null!==(n=t.reorderQty)&&void 0!==n?n:0);return e+(Number.isFinite(r)?r:0)}return e},0);return{totalSkus:t,totalOnHand:n,lowStock:r,outOfStock:a,totalValue:i,pendingUnits:s}},[T,Yt,Nt]),Jt=(0,i.useMemo)(()=>Kt.filter(e=>{var t;const n=Number(null!==(t=null===e||void 0===e?void 0:e.stockAmount)&&void 0!==t?t:0);return Number.isFinite(n)&&n<=Yt}),[Kt,Yt]),Xt=(0,i.useMemo)(()=>"all"===At?Nt:Nt.filter(e=>e.status===At),[Nt,At]),Qt=(0,i.useMemo)(()=>(Array.isArray(E)?E:[]).filter(e=>{const t=String((null===e||void 0===e?void 0:e.role)||"").trim().toLowerCase();return"admin"!==t&&(!t.includes("supplier")&&("user"!==t&&"customer"!==t))}),[E]),Zt=(0,i.useMemo)(()=>{const e=new Set;return Qt.forEach(t=>{const n=String((null===t||void 0===t?void 0:t.role)||"").trim().toLowerCase();n&&e.add(n)}),Array.from(e).sort()},[Qt]),en=(0,i.useMemo)(()=>{if("all"===Wt)return Qt;const e=String(Wt||"").trim().toLowerCase();return Qt.filter(t=>String((null===t||void 0===t?void 0:t.role)||"").trim().toLowerCase()===e)},[Qt,Wt]);(0,i.useEffect)(()=>{if("attendance"!==x)return;const e={},t={};en.forEach(n=>{const r=Et[null===n||void 0===n?void 0:n._id];e[null===n||void 0===n?void 0:n._id]=(null===r||void 0===r?void 0:r.status)||"present",t[null===n||void 0===n?void 0:n._id]=(null===r||void 0===r?void 0:r.note)||""}),Rt(e),Ot(t)},[Et,en,x]);const tn=(0,i.useMemo)(()=>{const e={present:0,absent:0,late:0,leave:0,total:0};return Object.values(Et||{}).forEach(t=>{if(!t||!t.status)return;e.total+=1;const n=String(t.status).toLowerCase();Object.prototype.hasOwnProperty.call(e,n)&&(e[n]+=1)}),e},[Et]),nn=(0,i.useMemo)(()=>{const e={};return(Array.isArray(T)?T:[]).forEach(t=>{const n=(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id);n&&(e[n]=t)}),e},[T]),rn=(0,i.useMemo)(()=>{const e={pending:0,ordered:0,totalQty:0,estimatedSpend:0};return Nt.forEach(t=>{var n;if(!t)return;const r=Number(null!==(n=t.reorderQty)&&void 0!==n?n:0);if("ordered"===t.status?e.ordered+=1:e.pending+=1,Number.isFinite(r)){var a;e.totalQty+=r;const n=nn[t.productId],i=Number(null!==(a=null===n||void 0===n?void 0:n.price)&&void 0!==a?a:0);Number.isFinite(i)&&(e.estimatedSpend+=i*r)}}),e},[Nt,nn]),an=(e,t,n)=>{yt(r=>ke(ke({},r),{},{[e]:ke(ke({},r[e]),{},{[t]:n})}))},sn=async(e,t)=>{var n;const r=nn[e];if(!r)return void J("Product not found");const a=Number(t);if(!Number.isFinite(a)||a<0)return void J("Enter a valid stock amount");const i=Math.max(0,Math.floor(a)),s={name:r.name||"",price:null!==(n=r.price)&&void 0!==n?n:0,description:r.description||"",category:r.category||"",brand:r.brand||"",inStock:i>0,stockAmount:i};jt(e),J(""),K("");try{await af("".concat(rf,"/products/").concat(e),{method:"PUT",headers:ke({"Content-Type":"application/json"},le),body:JSON.stringify(s)}),R(t=>t.map(t=>(null===t||void 0===t?void 0:t._id)===e?ke(ke({},t),{},{stockAmount:i,inStock:i>0}):t)),kt(t=>t.map(t=>t.productId===e?ke(ke({},t),{},{stockAmount:i}):t)),yt(t=>ke(ke({},t),{},{[e]:{set:"",reduce:""}})),K("Stock updated for ".concat(r.name||"product"))}catch(a_){J(a_.message)}finally{jt(null)}},on=(e,t,n)=>{if("undefined"===typeof window)return!1;if(!Array.isArray(n)||0===n.length)return J("No data available to export"),!1;try{const r=[t,...n].map(e=>e.map(e=>{const t=null==e?"":String(e);return'"'.concat(t.replace(/"/g,'""'),'"')}).join(",")),a=new Blob([r.join("\n")],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(a),s=document.createElement("a");return s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),!0}catch(a_){return console.error("CSV export failed",a_),J("Unable to generate CSV file"),!1}},ln=(0,i.useMemo)(()=>{const e=Array.isArray(N)?N:[],t=e.reduce((e,t)=>{var n;return e+Number(null!==(n=null===t||void 0===t?void 0:t.totalAmount)&&void 0!==n?n:0)},0),n=e.filter(e=>"pending"===((null===e||void 0===e?void 0:e.status)||"").toLowerCase()).length;return{count:e.length,total:t,pending:n}},[N]),cn=(0,i.useMemo)(()=>{const e=Array.isArray(_)?_:[],t=e.reduce((e,t)=>{var n;return e+Number(null!==(n=null===t||void 0===t?void 0:t.totalCost)&&void 0!==n?n:0)},0),n=e.filter(e=>"pending"===((null===e||void 0===e?void 0:e.status)||"").toLowerCase()).length;return{count:e.length,total:t,pending:n}},[_]),dn=(0,i.useMemo)(()=>({count:ht.length}),[ht]),[un,hn]=(0,i.useState)(null),[pn,mn]=(0,i.useState)(!1),[fn,vn]=(0,i.useState)(null),[gn,yn]=(0,i.useState)("Admin decision"),[bn,xn]=(0,i.useState)(null),[wn,jn]=(0,i.useState)(!1),[Nn,kn]=(0,i.useState)(null),[_n,Sn]=(0,i.useState)({status:"Pending",notes:""}),[An,Cn]=(0,i.useState)(!1),[Ln,Pn]=(0,i.useState)(null);(0,i.useEffect)(()=>{"customers"===un&&he(),"suppliers"===un&&pe(),"cancelled"===un&&me()},[un,he,pe,me]);const En=e=>{const t=un===e?null:e;t===e&&("customers"===e&&it(""),"suppliers"===e&&lt(""),"cancelled"===e&&ut("")),hn(t)},Fn=()=>{mn(!1),vn(null),yn("Admin decision")},Tn=async(e,t)=>{if(e&&t){J(""),K(""),xn(e);try{await af("".concat(nf,"/orders/").concat(e),{method:"PUT",headers:ke({"Content-Type":"application/json"},le),body:JSON.stringify({status:t})}),K("Order marked as ".concat(t)),await he({suppressError:!0})}catch(a_){J(a_.message)}finally{xn(null)}}},Rn=(e,t)=>{var n;const r=t||(null===e||void 0===e||null===(n=e.paymentInfo)||void 0===n?void 0:n.receiptUrl);r&&"undefined"!==typeof window&&window.open(r,"_blank","noopener,noreferrer")},Dn=()=>{jn(!1),kn(null),Sn({status:"Pending",notes:""})},On=()=>{Cn(!1),Pn(null)},[In,Mn]=(0,i.useState)(!1),[Bn,Un]=(0,i.useState)(null),zn=(0,i.useMemo)(()=>({_id:"",name:"",price:"",description:"",category:"",brand:"",inStock:!1,stockAmount:"",imageUrl:""}),[]),[qn,Vn]=(0,i.useState)(zn),[Hn,Wn]=(0,i.useState)(null),[Gn,Yn]=(0,i.useState)(!1),[Kn,$n]=(0,i.useState)("create"),[Jn,Xn]=(0,i.useState)(!1),Qn=(0,i.useCallback)(async e=>{const t=e||Lt;if(l&&t){Mt(!0),Ht("");try{const e=await af("".concat(nf,"/attendance?date=").concat(encodeURIComponent(t)),{headers:ke({},le)}),n=Array.isArray(null===e||void 0===e?void 0:e.records)?e.records:[],r={};n.forEach(e=>{var t;const n=(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t._id)||(null===e||void 0===e?void 0:e.user);n&&(r[n]={status:(null===e||void 0===e?void 0:e.status)||"present",note:(null===e||void 0===e?void 0:e.note)||"",updatedAt:(null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.updated_at)||null,recordedBy:(null===e||void 0===e?void 0:e.recordedBy)||null})}),Ft(r)}catch(a_){Ht(a_.message||"Failed to load attendance"),Ft({})}finally{Mt(!1)}}},[Lt,le,l]);(0,i.useEffect)(()=>{"attendance"===x&&l&&(ce({suppressError:!0}),Qn(Lt))},[x,l,Lt,Qn,ce]);const Zn=(0,i.useCallback)(async()=>{if(l){qt(""),ee(""),Q(!0);try{const e=new URLSearchParams({format:"csv"});Lt&&(e.set("from",Lt),e.set("to",Lt));const t=await fetch("".concat(nf,"/attendance/report?").concat(e.toString()),{headers:ke({},le)});if(!t.ok){const e=await t.text();throw new Error(e||"Failed to export attendance report")}const n=await t.blob(),r=window.URL.createObjectURL(n),a=document.createElement("a"),i=Lt||(new Date).toISOString().slice(0,10);a.href=r,a.download="attendance-report-".concat(i,".csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),qt("Attendance report downloaded.")}catch(a_){ee(a_.message||"Failed to export attendance report")}finally{Q(!1)}}},[Lt,le,l]),er=(0,i.useCallback)(async e=>{if(!e||!l)return;const t=Tt[e]||"present",n=Dt[e]||"";Ut(t=>ke(ke({},t),{},{[e]:!0})),Ht(""),qt("");try{const r=await af("".concat(nf,"/attendance"),{method:"POST",headers:ke({},le),body:JSON.stringify({userId:e,date:Lt,status:t,note:n})}),a=(null===r||void 0===r?void 0:r.record)||null;Ft(r=>ke(ke({},r),{},{[e]:{status:t,note:n,updatedAt:(null===a||void 0===a?void 0:a.updatedAt)||(new Date).toISOString(),recordedBy:(null===a||void 0===a?void 0:a.recordedBy)||null}}));const i=E.find(t=>(null===t||void 0===t?void 0:t._id)===e),s=Nf(t);qt("Marked ".concat((null===i||void 0===i?void 0:i.name)||"employee"," as ").concat(s.label," for ").concat(Lt,"."))}catch(a_){Ht(a_.message||"Failed to save attendance")}finally{Ut(t=>ke(ke({},t),{},{[e]:!1}))}},[Lt,Tt,Dt,le,l,E]),tr=e=>{const{name:t,value:n}=e.target;ie(""),oe(e=>ke(ke({},e),{},{[t]:n}))},nr=(0,i.useCallback)(async()=>{if(l){ie(""),K(""),re(!0);try{const e=new URLSearchParams({format:"csv",activityLimit:"5"});se.from&&e.set("from",se.from),se.to&&e.set("to",se.to);const t=await fetch("".concat(nf,"/users/report?").concat(e.toString()),{headers:ke({},le)});if(!t.ok){const e=await t.text();throw new Error(e||"Failed to export user report")}const n=await t.blob(),r=window.URL.createObjectURL(n),a=document.createElement("a");a.href=r;const i=(new Date).toISOString().slice(0,10);a.download="user-report-".concat(i,".csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),K("User report downloaded.")}catch(a_){ie(a_.message||"Failed to export user report")}finally{re(!1)}}},[le,l,se.from,se.to]),rr=(0,i.useMemo)(()=>({_id:"",name:"",email:"",password:"",age:"",address:"",role:"user"}),[]),[ar,ir]=(0,i.useState)(rr),[sr,or]=(0,i.useState)("create"),[lr,cr]=(0,i.useState)(!1),[dr,ur]=(0,i.useState)(!1),hr=(0,i.useMemo)(()=>({_id:"",name:"",description:"",privileges:[]}),[]),[pr,mr]=(0,i.useState)(hr),[fr,vr]=(0,i.useState)("create"),[gr,yr]=(0,i.useState)(!1),[br,xr]=(0,i.useState)(!1),wr=(0,i.useMemo)(()=>pn||wn||An||Gn||dr||br,[pn,wn,An,Gn,dr,br]);(0,i.useEffect)(()=>{if("undefined"===typeof document)return;const{body:e,documentElement:t}=document;return e&&t?(wr?(e.classList.add("modal-open"),t.classList.add("modal-open")):(e.classList.remove("modal-open"),t.classList.remove("modal-open")),()=>{e.classList.remove("modal-open"),t.classList.remove("modal-open")}):void 0},[wr]);const jr=()=>{Jn||(Yn(!1),$n("create"),Vn(zn),Wn(null))},Nr=(e,t)=>{Vn(n=>ke(ke({},n),{},{[e]:t}))},[kr,_r]=(0,i.useState)({totalOrders:0,refunded:0,recent:[]}),[Sr,Ar]=(0,i.useState)([]);(0,i.useEffect)(()=>{"sales"===x&&(async()=>{try{const e=await fetch("".concat(nf,"/sales/dashboard"),{headers:le}),t=await fetch("".concat(nf,"/sales/orders"),{headers:le});_r(e.ok?await e.json():{totalOrders:128,refunded:3,recent:[]}),Ar(t.ok?await t.json():[])}catch(e){_r({totalOrders:128,refunded:3,recent:[]}),Ar([])}})()},[x,l,le]);const Cr="dashboard"===x?"Admin Dashboard":"profile"===x?"Profile":"inventory"===x?"Inventory":"users"===x?"Users":"roles"===x?"Roles & privileges":"attendance"===x?"Attendance":"product"===x?"Product Management":"order"===x?"Order Management":"feedback"===x?"Feedback & Reviews":"refunds"===x?"Refunds & returns":"suppliers"===x?"Suppliers":"sales"===x?"Sales":"finance"===x?"Finance":"Settings";return(0,_e.jsxs)("div",{className:"dashboard-shell dashboard-shell--two-column admin-dashboard",children:[(0,_e.jsxs)("aside",{className:"card dashboard-sidebar",children:[(0,_e.jsxs)("div",{className:"sidebar-profile",children:[null!==o&&void 0!==o&&o.avatar?(0,_e.jsx)("img",{alt:"avatar",src:o.avatar,className:"avatar avatar--md"}):(0,_e.jsx)("div",{className:"avatar avatar--md avatar--fallback",children:fe}),(0,_e.jsxs)("div",{className:"sidebar-profile__meta",children:[(0,_e.jsx)("div",{className:"font-semibold",children:(null===o||void 0===o?void 0:o.name)||"Admin"}),(0,_e.jsx)("div",{className:"text-xs text-muted",children:null===o||void 0===o?void 0:o.email})]})]}),(0,_e.jsxs)("nav",{className:"dashboard-nav stack-sm",children:[(0,_e.jsxs)("button",{type:"button",onClick:()=>j("dashboard"),className:"sidebar-link ".concat("dashboard"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcca"}),(0,_e.jsx)("span",{children:"Dashboard"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("profile"),className:"sidebar-link ".concat("profile"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udc64"}),(0,_e.jsx)("span",{children:"Profile"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("attendance"),className:"sidebar-link ".concat("attendance"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\uddd3\ufe0f"}),(0,_e.jsx)("span",{children:"Attendance"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("users"),className:"sidebar-link ".concat("users"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udc65"}),(0,_e.jsx)("span",{children:"User management"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("roles"),className:"sidebar-link ".concat("roles"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udee1\ufe0f"}),(0,_e.jsx)("span",{children:"Roles & privileges"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("product"),className:"sidebar-link ".concat("product"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udce6"}),(0,_e.jsx)("span",{children:"Product management"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("inventory"),className:"sidebar-link ".concat("inventory"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcca"}),(0,_e.jsx)("span",{children:"Inventory"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("order"),className:"sidebar-link ".concat("order"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83e\uddfe"}),(0,_e.jsx)("span",{children:"Order management"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("feedback"),className:"sidebar-link ".concat("feedback"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcac"}),(0,_e.jsx)("span",{children:"Feedback & reviews"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("refunds"),className:"sidebar-link ".concat("refunds"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\u21a9\ufe0f"}),(0,_e.jsx)("span",{children:"Refunds & returns"})]}),(0,_e.jsx)("div",{className:"nav-divider",role:"separator"}),(0,_e.jsxs)("section",{className:"nav-section stack-xs",children:[(0,_e.jsx)("span",{className:"nav-section__label",children:"Operations"}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("suppliers"),className:"sidebar-link ".concat("suppliers"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83e\udd1d"}),(0,_e.jsx)("span",{children:"Suppliers"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("sales"),className:"sidebar-link ".concat("sales"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\uded2"}),(0,_e.jsx)("span",{children:"Sales"})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("finance"),className:"sidebar-link ".concat("finance"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcb3"}),(0,_e.jsx)("span",{children:"Finance"})]})]}),(0,_e.jsxs)("button",{type:"button",onClick:()=>j("settings"),className:"sidebar-link ".concat("settings"===x?"is-active":""),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\u2699\ufe0f"}),(0,_e.jsx)("span",{children:"Settings"})]})]}),(0,_e.jsx)("div",{className:"sidebar-footer",children:(0,_e.jsxs)("button",{onClick:()=>{v(),g("/login",{replace:!0})},type:"button",className:"btn btn-danger w-full",children:[(0,_e.jsx)("span",{children:"\ud83d\udeaa"}),(0,_e.jsx)("span",{children:"Logout"})]})})]}),(0,_e.jsxs)("section",{className:"dashboard-main stack-lg",children:[(0,_e.jsxs)("header",{className:"card dashboard-header",children:[(0,_e.jsxs)("div",{className:"dashboard-header__title stack-xs",children:[(0,_e.jsx)("span",{className:"eyebrow",children:"Control center"}),(0,_e.jsx)("h2",{className:"heading-lg",children:Cr}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Monitor operations, approve requests, and keep your store running smoothly."})]}),(0,_e.jsx)("div",{className:"dashboard-header__actions",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:u,children:"dark"===c?"Switch to light":"Switch to dark"})})]}),Y&&(0,_e.jsx)("div",{className:"status-banner status-banner--success",children:Y}),$&&(0,_e.jsx)("div",{className:"status-banner status-banner--error",children:$}),"dashboard"===x&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("section",{className:"metrics-grid",children:[{label:"User Accounts",value:D?"\u2026":E.length.toLocaleString(),sub:D?"Syncing":"Total registered"},{label:"Products",value:I?"\u2026":T.length.toLocaleString(),sub:I?"Fetching":"Active catalog"},{label:"Orders",value:B?"\u2026":N.length.toLocaleString(),sub:B?"Fetching":"All time"},{label:"Roles",value:W?"\u2026":L.length.toLocaleString(),sub:W?"Syncing":"Configured roles"}].map((e,t)=>(0,_e.jsxs)("div",{className:"card metric-card",children:[(0,_e.jsx)("div",{className:"muted-heading",children:e.label}),(0,_e.jsx)("div",{className:"metric-card__value",children:e.value}),(0,_e.jsx)("div",{className:"muted-text",children:e.sub})]},t))}),(0,_e.jsxs)("section",{className:"card growth-card","aria-labelledby":"user-growth-heading",children:[(0,_e.jsxs)("div",{className:"growth-card__header",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{id:"user-growth-heading",children:"User account growth"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Cumulative sign-ups over the last six months."})]}),(0,_e.jsxs)("div",{className:"growth-card__headline",children:[(0,_e.jsx)("span",{className:"growth-card__headline-value",children:He}),(0,_e.jsx)("span",{className:"growth-card__headline-label",children:"Total accounts"})]})]}),(0,_e.jsx)("div",{className:"growth-card__chart",children:D?(0,_e.jsx)("div",{className:"growth-card__placeholder",children:"Loading growth data\u2026"}):Ue.hasData?(0,_e.jsxs)("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",role:"img","aria-label":"Line chart showing cumulative user accounts for the last six months",children:[(0,_e.jsx)("defs",{children:(0,_e.jsxs)("linearGradient",{id:ze,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,_e.jsx)("stop",{offset:"0%",stopColor:"currentColor",stopOpacity:"0.32"}),(0,_e.jsx)("stop",{offset:"100%",stopColor:"currentColor",stopOpacity:"0"})]})}),(0,_e.jsx)("path",{d:Ue.area||"M 0 ".concat(qe.toFixed(3)," L 100 ").concat(qe.toFixed(3)," L 100 ").concat(qe.toFixed(3)," Z"),fill:"url(#".concat(ze,")")}),(0,_e.jsx)("path",{d:Ue.path||"M 0 ".concat(qe.toFixed(3)," L 100 ").concat(qe.toFixed(3)),className:"growth-card__line"}),Ue.points.map(e=>(0,_e.jsx)("circle",{className:"growth-card__dot",cx:e.x,cy:e.y,r:1.6,children:(0,_e.jsx)("title",{children:"".concat(e.label," ").concat(e.year,": ").concat(e.count.toLocaleString()," total (").concat(e.newCount.toLocaleString()," new)")})},"".concat(e.year,"-").concat(e.label)))]}):(0,_e.jsx)("div",{className:"growth-card__placeholder",children:"User growth data will appear once new accounts start signing up."})}),Ve&&(0,_e.jsx)("div",{className:"growth-card__axis","aria-hidden":"true",children:Ue.points.map(e=>(0,_e.jsx)("span",{children:e.label},"".concat(e.year,"-").concat(e.label)))}),(0,_e.jsx)("footer",{className:"growth-card__footer",children:D?(0,_e.jsx)("span",{className:"muted-text text-sm",children:"Syncing user statistics\u2026"}):Ue.hasData?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("div",{className:"growth-card__stat-block",children:[(0,_e.jsx)("span",{className:"growth-card__badge ".concat(Ue.delta>=0?"is-up":"is-down"),children:We}),(0,_e.jsx)("span",{className:"growth-card__stat-label",children:"New accounts this month"})]}),(0,_e.jsxs)("div",{className:"growth-card__stat-block",children:[(0,_e.jsx)("span",{className:"growth-card__trend",children:Ye}),(0,_e.jsx)("span",{className:"growth-card__stat-label",children:"vs previous month"})]}),$e&&(0,_e.jsx)("div",{className:"growth-card__stat-block",children:(0,_e.jsxs)("span",{className:"growth-card__peak",children:["Peak month: ",Ke," (",$e," new)"]})})]}):(0,_e.jsx)("span",{className:"muted-text text-sm",children:"Once new users join, you'll see month-over-month growth insights here."})})]})]}),"profile"===x&&(0,_e.jsxs)("div",{className:"stack-lg",children:[(0,_e.jsxs)("div",{className:"card profile-hero",children:[(0,_e.jsxs)("div",{className:"profile-hero__media stack-sm",children:[(0,_e.jsx)("div",{className:"profile-avatar-frame",children:null!==o&&void 0!==o&&o.avatar?(0,_e.jsx)("img",{src:o.avatar,alt:"avatar",className:"profile-avatar-img"}):(0,_e.jsx)("div",{className:"avatar avatar--xl avatar--fallback",children:fe})}),(0,_e.jsxs)("div",{className:"action-grid",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>{var e;J(""),null===(e=Ee.current)||void 0===e||e.click()},disabled:xe,children:xe?"Uploading\u2026":null!==o&&void 0!==o&&o.avatar?"Change photo":"Upload photo"}),(null===o||void 0===o?void 0:o.avatar)&&(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:async()=>{if(null!==o&&void 0!==o&&o.avatar&&window.confirm("Remove profile photo?")){we(!0),K(""),J("");try{await f(),K("Profile photo removed")}catch(e){J(e.message)}finally{we(!1)}}},disabled:xe,children:"Remove"})]}),(0,_e.jsx)("input",{ref:Ee,type:"file",accept:"image/*",className:"sr-only",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){if(n.size>2097152)return J("Profile photos must be smaller than 2MB"),void(e.target.value="");we(!0),K(""),J("");try{await m(n),K("Profile photo updated")}catch(r){J(r.message)}finally{we(!1),e.target.value=""}}}}),(0,_e.jsx)("span",{className:"muted-text text-xs",children:"JPG or PNG up to 2MB."})]}),(0,_e.jsxs)("div",{className:"profile-hero__info stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md mb-1",children:(null===o||void 0===o?void 0:o.name)||"Administrator"}),(0,_e.jsx)("span",{className:"muted-text",children:null===o||void 0===o?void 0:o.email}),(0,_e.jsxs)("div",{className:"profile-hero__badges",children:[(0,_e.jsx)("span",{className:wf((null===o||void 0===o?void 0:o.role)||"admin"),children:((null===o||void 0===o?void 0:o.role)||"admin").replace(/\b\w/g,e=>e.toUpperCase())}),(0,_e.jsxs)("span",{className:"badge badge-gray",children:["ID \u2022 ",(null===o||void 0===o||null===(t=o._id)||void 0===t?void 0:t.slice(-6))||"000000"]})]})]}),(0,_e.jsx)("p",{className:"profile-hero__copy muted-text",children:"Keep your profile details accurate so teammates know how to reach you. Changes take effect immediately across the admin experience."})]}),(0,_e.jsxs)("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,7fr)_minmax(0,5fr)]",children:[(0,_e.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),K(""),J("");const t=ve.name.trim(),n=ve.email.trim(),r=""===ve.age?void 0:Number(ve.age),a="string"===typeof ve.address?ve.address.trim():"";if(!t)return J("Name is required");if(!n)return J("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))return J("Enter a valid email address");if(void 0!==r&&Number.isNaN(r))return J("Age must be a number");if(void 0!==r&&(r<0||r>120))return J("Enter a valid age between 0 and 120");be(!0);try{var i;const e=await h({name:t,email:n,age:r,address:a||void 0});ge({name:e.name||"",email:e.email||"",age:null!==(i=e.age)&&void 0!==i?i:"",address:e.address||""}),K("Profile updated")}catch(s){J(s.message)}finally{be(!1)}},className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Account details"}),(0,_e.jsx)("p",{className:"muted-text",children:"Update your basic information and contact details."})]}),(0,_e.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"profile-name",children:"Full name"}),(0,_e.jsx)("input",{id:"profile-name",className:"input",value:ve.name,onChange:e=>ge(t=>ke(ke({},t),{},{name:e.target.value})),placeholder:"e.g. Alex Mason",autoComplete:"name"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"profile-email",children:"Email address"}),(0,_e.jsx)("input",{id:"profile-email",className:"input",type:"email",value:ve.email,onChange:e=>ge(t=>ke(ke({},t),{},{email:e.target.value})),placeholder:"you@example.com",autoComplete:"email"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"profile-age",children:"Age"}),(0,_e.jsx)("input",{id:"profile-age",className:"input",type:"number",min:"0",value:ve.age,onChange:e=>ge(t=>ke(ke({},t),{},{age:e.target.value})),placeholder:"Optional"})]}),(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"profile-address",children:"Address"}),(0,_e.jsx)("textarea",{id:"profile-address",className:"input",rows:3,value:ve.address,onChange:e=>ge(t=>ke(ke({},t),{},{address:e.target.value})),placeholder:"Street, city, country",autoComplete:"street-address"})]})]}),(0,_e.jsxs)("div",{className:"button-row",children:[(0,_e.jsx)("button",{className:"btn btn-primary",disabled:ye,children:ye?"Saving\u2026":"Save profile"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>{var e;return ge({name:(null===o||void 0===o?void 0:o.name)||"",email:(null===o||void 0===o?void 0:o.email)||"",age:null!==(e=null===o||void 0===o?void 0:o.age)&&void 0!==e?e:"",address:(null===o||void 0===o?void 0:o.address)||""})},children:"Reset"})]})]}),(0,_e.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),K(""),J(""),!je.current)return J("Current password is required");if(!je.next||je.next.length<6)return J("New password must be at least 6 characters");if(je.next!==je.confirm)return J("Passwords do not match");Ce(!0);try{await p(je.current,je.next),K("Password changed"),Ne({current:"",next:"",confirm:""}),Pe({current:!1,next:!1,confirm:!1})}catch(t){J(t.message)}finally{Ce(!1)}},className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Change password"}),(0,_e.jsx)("p",{className:"muted-text",children:"Use a strong password that you don\u2019t reuse elsewhere."})]}),(0,_e.jsxs)("div",{className:"stack-md",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"pwd-current",children:"Current password"}),(0,_e.jsxs)("div",{className:"flex gap-2",children:[(0,_e.jsx)("input",{id:"pwd-current",className:"input",style:{flex:1},type:Le.current?"text":"password",value:je.current,onChange:e=>Ne(t=>ke(ke({},t),{},{current:e.target.value})),autoComplete:"current-password"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>Pe(e=>ke(ke({},e),{},{current:!e.current})),children:Le.current?"Hide":"Show"})]})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"pwd-new",children:"New password"}),(0,_e.jsxs)("div",{className:"flex gap-2",children:[(0,_e.jsx)("input",{id:"pwd-new",className:"input",style:{flex:1},type:Le.next?"text":"password",value:je.next,onChange:e=>Ne(t=>ke(ke({},t),{},{next:e.target.value})),autoComplete:"new-password"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>Pe(e=>ke(ke({},e),{},{next:!e.next})),children:Le.next?"Hide":"Show"})]})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"pwd-confirm",children:"Confirm new password"}),(0,_e.jsxs)("div",{className:"flex gap-2",children:[(0,_e.jsx)("input",{id:"pwd-confirm",className:"input",style:{flex:1},type:Le.confirm?"text":"password",value:je.confirm,onChange:e=>Ne(t=>ke(ke({},t),{},{confirm:e.target.value})),autoComplete:"new-password"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>Pe(e=>ke(ke({},e),{},{confirm:!e.confirm})),children:Le.confirm?"Hide":"Show"})]})]})]}),(0,_e.jsx)("div",{className:"button-row",children:(0,_e.jsx)("button",{className:"btn btn-primary",disabled:Se,children:Se?"Updating\u2026":"Update password"})})]})]})]}),"attendance"===x&&(0,_e.jsxs)("section",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"card-heading",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Attendance"}),(0,_e.jsx)("p",{className:"muted-text",children:"Select a date, filter by role, and mark each team member's attendance individually."})]}),(0,_e.jsxs)("div",{className:"action-grid",children:[(0,_e.jsxs)("label",{className:"stack-xs",style:{minWidth:"190px"},children:[(0,_e.jsx)("span",{className:"label",children:"Attendance date"}),(0,_e.jsx)("input",{type:"date",className:"input",value:Lt,max:(new Date).toISOString().slice(0,10),onChange:e=>{qt(""),Ht(""),ee(""),Pt(e.target.value)}})]}),(0,_e.jsxs)("label",{className:"stack-xs",style:{minWidth:"180px"},children:[(0,_e.jsx)("span",{className:"label",children:"Filter by role"}),(0,_e.jsxs)("select",{id:"attendance-role",className:"input",value:Wt,onChange:e=>Gt(e.target.value),children:[(0,_e.jsx)("option",{value:"all",children:"All roles"}),Zt.map(e=>(0,_e.jsx)("option",{value:e,children:e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},e))]})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline",onClick:()=>{ee(""),Qn(Lt)},disabled:It,children:It?"Refreshing\u2026":"Refresh"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:Zn,disabled:It||X,children:X?"Exporting\u2026":"Export report"})]})]}),Vt&&(0,_e.jsx)("div",{className:"status-banner status-banner--error",role:"alert",children:Vt}),Z&&(0,_e.jsx)("div",{className:"status-banner status-banner--error",role:"alert",children:Z}),zt&&!Vt&&(0,_e.jsx)("div",{className:"status-banner status-banner--success",role:"status",children:zt}),(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"muted-text text-sm",children:"Marked today"}),(0,_e.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,_e.jsxs)("span",{className:"badge badge-green",children:["Present ",tn.present]}),(0,_e.jsxs)("span",{className:"badge badge-red",children:["Absent ",tn.absent]}),(0,_e.jsxs)("span",{className:"badge badge-amber",children:["Late ",tn.late]}),(0,_e.jsxs)("span",{className:"badge badge-gray",children:["Leave ",tn.leave]})]})]}),(0,_e.jsx)("div",{className:"table-scroller",children:(0,_e.jsxs)("table",{className:"data-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{scope:"col",children:"Employee"}),(0,_e.jsx)("th",{scope:"col",children:"Role"}),(0,_e.jsx)("th",{scope:"col",children:"Current status"}),(0,_e.jsx)("th",{scope:"col",children:"Last updated"}),(0,_e.jsx)("th",{scope:"col",children:"Mark as"}),(0,_e.jsx)("th",{scope:"col",children:"Note"}),(0,_e.jsx)("th",{scope:"col",className:"text-right",children:"Action"})]})}),(0,_e.jsx)("tbody",{children:It&&0===en.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:7,className:"empty-cell",children:"Loading attendance\u2026"})}):0===en.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:7,className:"empty-cell",children:"all"===Wt?"No employees available.":"No employees for the selected role."})}):en.map(e=>{var t;const n=null===e||void 0===e?void 0:e._id,r=Et[n],a=Nf(null===r||void 0===r?void 0:r.status),i=Tt[n]||"present",s=Dt[n]||"",o=Boolean(Bt[n]);return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"font-semibold",children:(null===e||void 0===e?void 0:e.name)||"Unnamed"}),(0,_e.jsx)("span",{className:"muted-text text-sm",children:null===e||void 0===e?void 0:e.email})]})}),(0,_e.jsx)("td",{children:(0,_e.jsx)("span",{className:wf(null===e||void 0===e?void 0:e.role),children:(null===e||void 0===e?void 0:e.role)||"user"})}),(0,_e.jsx)("td",{children:r?(0,_e.jsxs)("div",{className:"stack-xxs",children:[(0,_e.jsx)("span",{className:a.tone,children:a.label}),(null===r||void 0===r||null===(t=r.recordedBy)||void 0===t?void 0:t.name)&&(0,_e.jsxs)("span",{className:"muted-text text-xs",children:["by ",r.recordedBy.name]})]}):(0,_e.jsx)("span",{className:"muted-text",children:"Not marked"})}),(0,_e.jsx)("td",{children:null!==r&&void 0!==r&&r.updatedAt?df(r.updatedAt):"\u2014"}),(0,_e.jsx)("td",{children:(0,_e.jsx)("select",{className:"input attendance-status-input",value:i,onChange:e=>((e,t)=>{qt(""),Ht(""),Rt(n=>ke(ke({},n),{},{[e]:t}))})(n,e.target.value),children:jf.map(e=>(0,_e.jsx)("option",{value:e.value,children:e.label},e.value))})}),(0,_e.jsx)("td",{children:(0,_e.jsx)("input",{className:"input attendance-note-input",value:s,maxLength:120,onChange:e=>((e,t)=>{qt(""),Ht(""),Ot(n=>ke(ke({},n),{},{[e]:t}))})(n,e.target.value),placeholder:"Optional note"})}),(0,_e.jsx)("td",{className:"text-right",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>er(n),disabled:o||It,children:o?"Saving\u2026":"Save"})})]},n)})})]})})]}),"users"===x&&(0,_e.jsxs)("section",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"card-heading",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"User management"}),(0,_e.jsx)("p",{className:"muted-text",children:"Search, edit, and remove accounts across the entire platform."})]}),(0,_e.jsxs)("div",{className:"action-grid",children:[(0,_e.jsxs)("div",{className:"field-with-icon",children:[(0,_e.jsx)("span",{className:"field-icon","aria-hidden":"true",children:"\ud83d\udd0e"}),(0,_e.jsx)("input",{className:"input",placeholder:"Search by name, email, or role\u2026",value:Fe,onChange:e=>Te(e.target.value),"aria-label":"Search users"})]}),(0,_e.jsxs)("select",{className:"input",value:Oe,onChange:e=>Ie(e.target.value),"aria-label":"Filter by role",children:[(0,_e.jsx)("option",{value:"all",children:"All roles"}),Me.map(e=>(0,_e.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,_e.jsxs)("select",{className:"input",value:Re,onChange:e=>De(e.target.value),"aria-label":"Sort by",children:[(0,_e.jsx)("option",{value:"name",children:"Sort by name"}),(0,_e.jsx)("option",{value:"email",children:"Sort by email"}),(0,_e.jsx)("option",{value:"role",children:"Sort by role"}),(0,_e.jsx)("option",{value:"created",children:"Sort by date created"})]}),(0,_e.jsxs)("div",{className:"stack-xxs",style:{minWidth:"220px"},children:[(0,_e.jsx)("span",{className:"muted-text text-xs",children:"Created between"}),(0,_e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_e.jsx)("input",{className:"input input-sm",type:"date",name:"from",value:se.from,max:se.to||void 0,onChange:tr}),(0,_e.jsx)("span",{className:"muted-text text-xs",children:"to"}),(0,_e.jsx)("input",{className:"input input-sm",type:"date",name:"to",value:se.to,min:se.from||void 0,onChange:tr})]})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:nr,disabled:ne||D,children:ne?"Exporting\u2026":"Export report"}),(0,_e.jsxs)("button",{className:"btn btn-primary btn--icon btn--compact",onClick:()=>{ir(rr),or("create"),ur(!0),K(""),J("")},children:[(0,_e.jsx)("span",{className:"btn__icon","aria-hidden":"true",children:"+"}),(0,_e.jsx)("span",{children:"Create user"})]})]})]}),ae&&(0,_e.jsx)("div",{className:"status-banner status-banner--error",role:"alert",children:ae}),(0,_e.jsx)("div",{className:"table-scroller",children:(0,_e.jsxs)("table",{className:"data-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{scope:"col",children:"Name"}),(0,_e.jsx)("th",{scope:"col",children:"Email"}),(0,_e.jsx)("th",{scope:"col",children:"Role"}),(0,_e.jsx)("th",{scope:"col",children:"Age"}),(0,_e.jsx)("th",{scope:"col",children:"Address"}),(0,_e.jsx)("th",{scope:"col",children:"Actions"})]})}),(0,_e.jsx)("tbody",{children:D?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:6,className:"empty-cell",children:"Loading\u2026"})}):0===Be.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:6,className:"empty-cell",children:Fe?"No matching users.":"No users found."})}):Be.map(e=>{var t;return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{className:"truncate",children:e.name}),(0,_e.jsx)("td",{className:"text-wrap",title:e.email,children:e.email}),(0,_e.jsx)("td",{children:(0,_e.jsx)("span",{className:wf(e.role),children:e.role||"user"})}),(0,_e.jsx)("td",{children:null!==(t=e.age)&&void 0!==t?t:"-"}),(0,_e.jsx)("td",{className:"text-wrap",title:e.address||void 0,children:e.address||"-"}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"action-grid justify-end",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>(e=>{var t;ir({_id:e._id,name:e.name||"",email:e.email||"",password:"",age:null!==(t=e.age)&&void 0!==t?t:"",address:e.address||"",role:e.role||"user"}),or("edit"),ur(!0),K(""),J("")})(e),children:"Edit"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>(async e=>{if(window.confirm('Delete user "'.concat(e.name,'"?'))){J(""),K("");try{const t=await fetch("".concat(nf,"/users/").concat(e._id),{method:"DELETE",headers:le});if(!t.ok)throw new Error((await t.json().catch(()=>({}))).message||"Delete failed");K("User deleted"),await ce()}catch(t){J(t.message)}}})(e),children:"Delete"})]})})]},e._id)})})]})})]}),"roles"===x&&(0,_e.jsxs)("section",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"card-heading",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Roles & privileges"}),(0,_e.jsx)("p",{className:"muted-text",children:"Define responsibilities and access levels for each team persona."})]}),(0,_e.jsxs)("div",{className:"action-grid",children:[(0,_e.jsxs)("div",{className:"field-with-icon",children:[(0,_e.jsx)("span",{className:"field-icon","aria-hidden":"true",children:"\ud83d\udd0e"}),(0,_e.jsx)("input",{className:"input",placeholder:"Search roles, descriptions, or privileges\u2026",value:Je,onChange:e=>Xe(e.target.value),"aria-label":"Search roles"})]}),(0,_e.jsxs)("select",{className:"input",value:Qe,onChange:e=>Ze(e.target.value),"aria-label":"Sort roles by",children:[(0,_e.jsx)("option",{value:"name",children:"Sort by name"}),(0,_e.jsx)("option",{value:"privileges",children:"Sort by privilege count"})]}),(0,_e.jsxs)("button",{className:"btn btn-primary",onClick:()=>{mr(hr),vr("create"),xr(!0),K(""),J("")},children:[(0,_e.jsx)("span",{children:"\u2795"}),(0,_e.jsx)("span",{children:"Create role"})]})]})]}),(0,_e.jsx)("div",{className:"table-scroller",children:(0,_e.jsxs)("table",{className:"data-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{scope:"col",children:"Role"}),(0,_e.jsx)("th",{scope:"col",children:"Description"}),(0,_e.jsx)("th",{scope:"col",children:"Privileges"}),(0,_e.jsx)("th",{scope:"col",children:"Actions"})]})}),(0,_e.jsx)("tbody",{children:W?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:4,className:"empty-cell",children:"Loading\u2026"})}):0===et.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:4,className:"empty-cell",children:Je?"No matching roles.":"No roles yet. Create one."})}):et.map(e=>(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsx)("div",{className:"stack-xs",children:(0,_e.jsx)("span",{className:"font-semibold text-base text-wrap",children:e.name})})}),(0,_e.jsx)("td",{className:"text-wrap",children:e.description||"-"}),(0,_e.jsx)("td",{className:"text-wrap text-sm",children:Array.isArray(e.privileges)&&e.privileges.length?"".concat(e.privileges.length," privilege").concat(1===e.privileges.length?"":"s",": ").concat(e.privileges.join(", ")):"No privileges"}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"action-grid justify-end",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>(e=>{mr({_id:e._id,name:e.name||"",description:e.description||"",privileges:Array.isArray(e.privileges)?e.privileges:[]}),vr("edit"),xr(!0),K(""),J("")})(e),children:"Edit"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>(async e=>{if(window.confirm('Delete role "'.concat(e.name,'"?'))){J(""),K("");try{const t=await fetch("".concat(nf,"/roles/").concat(e._id),{method:"DELETE",headers:le});if(!t.ok)throw new Error((await t.json().catch(()=>({}))).message||"Delete role failed");K("Role deleted"),await de()}catch(t){J(t.message)}}})(e),children:"Delete"})]})})]},e._id))})]})})]}),"feedback"===x&&(0,_e.jsxs)("div",{className:"space-y-4",children:[(0,_e.jsxs)("div",{className:"card flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"text-lg font-bold",children:"Feedback workspace"}),(0,_e.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Review customer feedback, manage deleted items, and stay on top of reply notifications."})]}),(0,_e.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,_e.jsx)("button",{type:"button",onClick:()=>s("reviews"),className:"btn btn-sm ".concat("reviews"===a?"btn-primary":"btn-secondary"),children:"Reviews"}),(0,_e.jsx)("button",{type:"button",onClick:()=>s("notifications"),className:"btn btn-sm ".concat("notifications"===a?"btn-primary":"btn-secondary"),children:"Notifications"}),(0,_e.jsx)("button",{type:"button",onClick:()=>s("recycle"),className:"btn btn-sm ".concat("recycle"===a?"btn-primary":"btn-secondary"),children:"Recycle bin"})]})]}),"reviews"===a&&(0,_e.jsx)("div",{className:"card card--flush",children:(0,_e.jsx)(Bh,{})}),"notifications"===a&&(0,_e.jsx)("div",{className:"card",children:(0,_e.jsx)(ip,{scope:"admin",types:["review-submitted","review-replied","review-restored","review-deleted"]})}),"recycle"===a&&(0,_e.jsx)("div",{className:"card",children:(0,_e.jsx)(dp,{})})]}),"refunds"===x&&(0,_e.jsx)(Lp,{}),"product"===x&&(0,_e.jsxs)("div",{className:"stack-lg",children:[(0,_e.jsxs)("div",{className:"card stack-sm",children:[(0,_e.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Product management"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Review every store product, make quick edits, or remove outdated items directly from this dashboard."})]}),(0,_e.jsxs)("div",{className:"flex flex-wrap gap-2 justify-end",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>ue(),disabled:I,children:I?"Refreshing\u2026":"Refresh"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>g("/products"),children:"Open full catalog"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>{$n("create"),Vn(zn),Wn(null),Yn(!0),K(""),J("")},children:"\u2795 Add product"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>Mn(e=>!e),children:In?"Hide supplier products":"View supplier products"})]})]}),(0,_e.jsx)("input",{type:"search",className:"input",placeholder:"Search by name, brand, or category",value:tt,onChange:e=>nt(e.target.value)})]}),(0,_e.jsx)("div",{className:"card table-scroller",children:(0,_e.jsxs)("table",{className:"data-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"Product"}),(0,_e.jsx)("th",{children:"Category"}),(0,_e.jsx)("th",{children:"Brand"}),(0,_e.jsx)("th",{children:"Price"}),(0,_e.jsx)("th",{children:"Stock"}),(0,_e.jsx)("th",{className:"text-right",children:"Actions"})]})}),(0,_e.jsx)("tbody",{children:I?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:6,className:"empty-cell",children:"Loading products\u2026"})}):0===rt.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:6,className:"empty-cell",children:tt?"No products match your search.":"No products available."})}):rt.map(e=>{var t;const n=null!==(t=null===e||void 0===e?void 0:e.stockAmount)&&void 0!==t?t:0;return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"flex items-center gap-3",children:[(null===e||void 0===e?void 0:e.imageUrl)&&(0,_e.jsx)("img",{src:uf(e.imageUrl),alt:e.name,style:{width:56,height:56,objectFit:"cover",borderRadius:"0.75rem"},onError:e=>{e.currentTarget.style.display="none"}}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"font-semibold text-wrap",children:(null===e||void 0===e?void 0:e.name)||"Unnamed"}),(0,_e.jsx)("div",{className:"muted-text text-xs",children:null===e||void 0===e?void 0:e._id})]})]})}),(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.category)||"\u2014"}),(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.brand)||"\u2014"}),(0,_e.jsx)("td",{children:cf(null===e||void 0===e?void 0:e.price)}),(0,_e.jsx)("td",{children:null!==e&&void 0!==e&&e.inStock?"".concat(n," in stock"):(0,_e.jsx)("span",{className:"badge badge-amber",children:"Out of stock"})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"action-grid justify-end",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>(e=>{var t,n;e&&($n("edit"),Vn({_id:e._id||"",name:e.name||"",price:null!==(t=e.price)&&void 0!==t?t:"",description:e.description||"",category:e.category||"",brand:e.brand||"",inStock:Boolean(e.inStock),stockAmount:e.inStock&&null!==(n=e.stockAmount)&&void 0!==n?n:"",imageUrl:e.imageUrl||""}),Wn(null),Yn(!0),K(""),J(""))})(e),children:"Edit"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",disabled:Bn===e._id,onClick:()=>(async e=>{if(null!==e&&void 0!==e&&e._id&&window.confirm('Delete product "'.concat(e.name||"this item",'"?'))){J(""),K(""),Un(e._id);try{const t=await fetch("".concat(rf,"/products/").concat(e._id),{method:"DELETE",headers:le});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error((null===e||void 0===e?void 0:e.message)||"Failed to delete product")}K("Product deleted"),await ue({suppressError:!0})}catch(a_){J(a_.message)}finally{Un(null)}}})(e),children:Bn===e._id?"Removing\u2026":"Delete"})]})})]},e._id||e.id)})})]})}),In&&(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h4",{className:"heading-md",children:"Supplier product catalog"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Browse inventory provided by partner suppliers. Use the buttons below to manage supplier listings."})]}),(0,_e.jsx)(Yr,{})]})]}),"inventory"===x&&(0,_e.jsxs)("div",{className:"stack-lg",children:[(0,_e.jsxs)("section",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[(0,_e.jsxs)("div",{className:"card stack-xs",children:[(0,_e.jsx)("span",{className:"muted-heading text-xs uppercase tracking-wide",children:"Total SKUs"}),(0,_e.jsx)("span",{className:"text-3xl font-semibold",children:I?"\u2026":$t.totalSkus.toLocaleString()}),(0,_e.jsx)("span",{className:"muted-text text-sm",children:"Unique catalog items"})]}),(0,_e.jsxs)("div",{className:"card stack-xs",children:[(0,_e.jsx)("span",{className:"muted-heading text-xs uppercase tracking-wide",children:"Units on hand"}),(0,_e.jsx)("span",{className:"text-3xl font-semibold",children:I?"\u2026":$t.totalOnHand.toLocaleString()}),(0,_e.jsx)("span",{className:"muted-text text-sm",children:"Across all tracked stock"})]}),(0,_e.jsxs)("div",{className:"card stack-xs",children:[(0,_e.jsx)("span",{className:"muted-heading text-xs uppercase tracking-wide",children:"Stock value"}),(0,_e.jsx)("span",{className:"text-3xl font-semibold",children:I?"\u2026":cf($t.totalValue)}),(0,_e.jsx)("span",{className:"muted-text text-sm",children:"Based on listed selling prices"})]}),(0,_e.jsxs)("div",{className:"card stack-xs",children:[(0,_e.jsx)("span",{className:"muted-heading text-xs uppercase tracking-wide",children:"Reorder pipeline"}),(0,_e.jsx)("span",{className:"text-3xl font-semibold",children:rn.totalQty.toLocaleString()}),(0,_e.jsxs)("span",{className:"muted-text text-sm",children:[rn.pending," pending \u2022 ",rn.ordered," ordered"]})]})]}),(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Stock control"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Update on-hand quantities, reduce damaged stock, and prepare items for supplier reorders."})]}),(0,_e.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,_e.jsxs)("div",{className:"field-with-icon",children:[(0,_e.jsx)("span",{className:"field-icon","aria-hidden":"true",children:"\ud83d\udd0e"}),(0,_e.jsx)("input",{type:"search",className:"input",placeholder:"Search products, categories, or brands",value:pt,onChange:e=>mt(e.target.value)})]}),(0,_e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_e.jsx)("label",{className:"label whitespace-nowrap",htmlFor:"inventory-threshold",children:"Low stock threshold"}),(0,_e.jsx)("input",{id:"inventory-threshold",type:"number",min:"0",className:"input",value:ft,onChange:e=>vt(e.target.value),style:{maxWidth:128}})]})]})]}),(0,_e.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,_e.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>{J("");const e=Kt.map(e=>{var t,n;const r=Number(null!==(t=null===e||void 0===e?void 0:e.stockAmount)&&void 0!==t?t:0),a=Number(null!==(n=null===e||void 0===e?void 0:e.price)&&void 0!==n?n:0),i=Number.isFinite(a)?a*r:"";return[(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)||"",(null===e||void 0===e?void 0:e.name)||"",(null===e||void 0===e?void 0:e.category)||"",(null===e||void 0===e?void 0:e.brand)||"",null!==e&&void 0!==e&&e.inStock?"Yes":"No",r,a,i,(null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.createdAt)||""]});on("inventory-stock-".concat(Date.now(),".csv"),["Product ID","Name","Category","Brand","In Stock","Current Stock","Unit Price","Stock Value","Updated"],e)&&K("Stock report downloaded")},disabled:I,children:"\ud83d\udcc4 Generate stock report"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>{if(!Jt.length)return void J("No low-stock items to queue right now");const e=(new Date).toISOString();J(""),K(""),kt(t=>{const n=[...t],r=new Map(n.map((e,t)=>[e.productId,t]));return Jt.forEach(t=>{var a;if(null===t||void 0===t||!t._id)return;const i=Number(null!==(a=t.stockAmount)&&void 0!==a?a:0),s=Math.max(1,Yt>i?Yt-i:Yt||1),l={productId:t._id,name:t.name||"",category:t.category||"",stockAmount:i,reorderQty:s,threshold:Number.isFinite(Number(ft))?Number(ft):void 0,status:"pending",notes:"Auto generated from low stock threshold",createdAt:e,requestedBy:(null===o||void 0===o?void 0:o.name)||(null===o||void 0===o?void 0:o.email)||"System"};r.has(t._id)?n[r.get(t._id)]=ke(ke({},n[r.get(t._id)]),l):(r.set(t._id,n.length),n.push(l))}),n}),K("Low-stock items queued for reorder")},children:"\u26a1 Queue low-stock items"})]}),(0,_e.jsxs)("div",{className:"muted-text text-xs",children:[Jt.length," item",1===Jt.length?"":"s"," at or below the threshold of ",Yt,"."]})]}),(0,_e.jsx)("div",{className:"table-scroller",children:(0,_e.jsxs)("table",{className:"data-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"Product"}),(0,_e.jsx)("th",{children:"On hand"}),(0,_e.jsx)("th",{children:"Stock actions"}),(0,_e.jsx)("th",{children:"Reorder prep"})]})}),(0,_e.jsx)("tbody",{children:I?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:4,className:"empty-cell",children:"Refreshing inventory\u2026"})}):0===Kt.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:4,className:"empty-cell",children:pt?"No products match your search.":"No products available."})}):Kt.map(e=>{var t,n,r,a,i,s;const l=gt[e._id]||{},c=bt[e._id]||{},d=wt===e._id,u=Number(null!==(t=null===e||void 0===e?void 0:e.stockAmount)&&void 0!==t?t:0),h=Number(null!==(n=null===e||void 0===e?void 0:e.price)&&void 0!==n?n:0),p=Number.isFinite(h)?h*u:null;return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("div",{className:"font-semibold text-sm text-wrap",children:(null===e||void 0===e?void 0:e.name)||"Unnamed product"}),(0,_e.jsx)("div",{className:"muted-text text-xs text-wrap",children:((null===e||void 0===e?void 0:e.category)||"Uncategorised")+" \u2022 "+((null===e||void 0===e?void 0:e.brand)||"Brand N/A")})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-2xs",children:[(0,_e.jsxs)("span",{className:"font-semibold",children:[u.toLocaleString()," unit",1===u?"":"s"]}),(0,_e.jsx)("span",{className:"muted-text text-xs",children:null!==e&&void 0!==e&&e.inStock?"Available":"Out of stock"}),Number.isFinite(p)&&(0,_e.jsx)("span",{className:"muted-text text-xs",children:cf(p)}),u<=Yt&&(0,_e.jsx)("span",{className:"badge badge-amber badge-sm",children:"Low stock"})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-2xs",children:[(0,_e.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,_e.jsx)("input",{type:"number",className:"input input-sm",min:"0",placeholder:String(u),value:null!==(r=l.set)&&void 0!==r?r:"",onChange:t=>an(e._id,"set",t.target.value),style:{maxWidth:120}}),(0,_e.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>(e=>{var t;const n=null===(t=gt[e])||void 0===t?void 0:t.set;void 0!==n&&""!==n?sn(e,n):J("Enter a stock amount to apply")})(e._id),disabled:d,children:d?"Saving\u2026":"Set stock"})]}),(0,_e.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,_e.jsx)("input",{type:"number",className:"input input-sm",min:"0",placeholder:"Reduce by\u2026",value:null!==(a=l.reduce)&&void 0!==a?a:"",onChange:t=>an(e._id,"reduce",t.target.value),style:{maxWidth:120}}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>(e=>{var t,n;const r=nn[e];if(!r)return void J("Product not found");const a=null===(t=gt[e])||void 0===t?void 0:t.reduce;if(!a)return void J("Enter a quantity to reduce");const i=Number(a);if(!Number.isFinite(i)||i<=0)return void J("Reduction must be greater than zero");const s=Number(null!==(n=r.stockAmount)&&void 0!==n?n:0),o=Math.max(0,s-i);sn(e,o)})(e._id),disabled:d,children:d?"Saving\u2026":"Reduce"})]})]})}),(0,_e.jsx)("td",{children:(0,_e.jsx)("div",{className:"stack-2xs",children:(0,_e.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,_e.jsx)("input",{type:"number",className:"input input-sm",min:"1",placeholder:"Qty",value:null!==(i=c.qty)&&void 0!==i?i:"",onChange:t=>xt(n=>ke(ke({},n),{},{[e._id]:ke(ke({},n[e._id]),{},{qty:t.target.value})})),style:{maxWidth:96}}),(0,_e.jsx)("input",{type:"text",className:"input input-sm",placeholder:"Note",value:null!==(s=c.notes)&&void 0!==s?s:"",onChange:t=>xt(n=>ke(ke({},n),{},{[e._id]:ke(ke({},n[e._id]),{},{notes:t.target.value})}))}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>(e=>{var t;const n=nn[e];if(!n)return void J("Product not found");const r=bt[e]||{},a=Number(r.qty);if(!Number.isFinite(a)||a<=0)return void J("Enter a reorder quantity greater than zero");const i=(r.notes||"").trim(),s=Number(ft),l={productId:e,name:n.name||"",category:n.category||"",stockAmount:Number(null!==(t=n.stockAmount)&&void 0!==t?t:0),reorderQty:Math.max(1,Math.floor(a)),threshold:Number.isFinite(s)?s:void 0,status:"pending",notes:i,createdAt:(new Date).toISOString(),requestedBy:(null===o||void 0===o?void 0:o.name)||(null===o||void 0===o?void 0:o.email)||"Admin"};kt(t=>{const n=Array.isArray(t)?[...t]:[],r=n.findIndex(t=>t.productId===e);return r>=0?n[r]=ke(ke({},n[r]),l):n.push(l),n}),xt(t=>ke(ke({},t),{},{[e]:{qty:"",notes:""}})),J(""),K("Added ".concat(n.name||"item"," to reorder list"))})(e._id),children:"Add to reorder"})]})})})]},e._id||e.id)})})]})})]}),(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Reorder workspace"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Consolidate inventory shortages and generate purchase requests for suppliers."})]}),(0,_e.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,_e.jsxs)("select",{className:"input",value:At,onChange:e=>Ct(e.target.value),children:[(0,_e.jsx)("option",{value:"all",children:"All items"}),(0,_e.jsx)("option",{value:"pending",children:"Pending"}),(0,_e.jsx)("option",{value:"ordered",children:"Marked ordered"})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>{J("");const e=(_t||"").trim(),t=Xt.map(t=>{var n,r;const a=nn[t.productId],i=Number(null!==(n=null===a||void 0===a?void 0:a.price)&&void 0!==n?n:0),s=Number(null!==(r=t.reorderQty)&&void 0!==r?r:0),o=Number.isFinite(i)&&Number.isFinite(s)?i*s:"";return[t.productId,t.name,t.category,t.stockAmount,s,t.status,i,o,t.notes,e,t.createdAt,t.requestedBy]});on("reorder-report-".concat(Date.now(),".csv"),["Product ID","Name","Category","Current Stock","Reorder Qty","Status","Unit Price","Estimated Total","Item Notes","Report Notes","Created At","Requested By"],t)&&K("Reorder report downloaded")},disabled:0===Xt.length,children:"\ud83d\udcc4 Create reorder report"})]})]}),(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"reorder-report-note",children:"Report notes"}),(0,_e.jsx)("textarea",{id:"reorder-report-note",className:"input",rows:2,placeholder:"Add context that should appear on the exported reorder report",value:_t,onChange:e=>St(e.target.value)}),(0,_e.jsxs)("div",{className:"muted-text text-xs",children:["Estimated spend: ",cf(rn.estimatedSpend)]})]}),(0,_e.jsx)("div",{className:"table-scroller",children:(0,_e.jsxs)("table",{className:"data-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"Product"}),(0,_e.jsx)("th",{children:"Requested"}),(0,_e.jsx)("th",{children:"Status"}),(0,_e.jsx)("th",{children:"Notes"}),(0,_e.jsx)("th",{className:"text-right",children:"Actions"})]})}),(0,_e.jsx)("tbody",{children:0===Xt.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:5,className:"empty-cell",children:0===Nt.length?"No reorder items yet. Add products from the stock control table.":"No items match the selected filter."})}):Xt.map(e=>{var t,n,r,a,i;const s=nn[e.productId],o=Number(null!==(t=null===s||void 0===s?void 0:s.price)&&void 0!==t?t:0),l=Number(null!==(n=e.reorderQty)&&void 0!==n?n:0),c=Number.isFinite(o)&&Number.isFinite(l)?o*l:null;return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-2xs",children:[(0,_e.jsx)("span",{className:"font-semibold text-sm text-wrap",children:e.name}),(0,_e.jsxs)("span",{className:"muted-text text-xs text-wrap",children:[e.category||"\u2014"," \u2022 Threshold ",null!==(r=e.threshold)&&void 0!==r?r:Yt]}),(0,_e.jsxs)("span",{className:"muted-text text-xs",children:["On hand: ",Number(null!==(a=e.stockAmount)&&void 0!==a?a:0).toLocaleString()," unit",1===Number(null!==(i=e.stockAmount)&&void 0!==i?i:0)?"":"s"]})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-2xs",children:[(0,_e.jsxs)("span",{className:"font-semibold",children:[l.toLocaleString()," unit",1===l?"":"s"]}),Number.isFinite(o)&&(0,_e.jsxs)("span",{className:"muted-text text-xs",children:[cf(o)," \u2022 ",null!=c?cf(c):"\u2014"]}),(0,_e.jsx)("span",{className:"muted-text text-xs",children:df(e.createdAt)})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("select",{className:"input input-sm",value:e.status,onChange:t=>{return n=e.productId,r=t.target.value,void kt(e=>e.map(e=>e.productId===n?ke(ke({},e),{},{status:r}):e));var n,r},children:[(0,_e.jsx)("option",{value:"pending",children:"Pending"}),(0,_e.jsx)("option",{value:"ordered",children:"Ordered"})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-2xs",children:[(0,_e.jsx)("span",{className:"muted-text text-sm",children:e.notes||"\u2014"}),(0,_e.jsxs)("span",{className:"muted-text text-xs",children:["Requested by ",e.requestedBy||"Unknown"]})]})}),(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"action-grid justify-end",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>(e=>{var t;null!==e&&void 0!==e&&e.productId&&(y({productId:e.productId,name:e.name,quantity:Math.max(1,Number(null!==(t=e.reorderQty)&&void 0!==t?t:1)),notes:e.notes}),K("Item added to supplier cart"))})(e),children:"Send to supplier cart"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>{return t=e.productId,void kt(e=>e.filter(e=>e.productId!==t));var t},children:"Remove"})]})})]},e.productId)})})]})})]})]}),"order"===x&&(0,_e.jsx)("div",{className:"stack-xl",children:(0,_e.jsxs)("section",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[(0,_e.jsxs)("div",{className:"card stack-md order-summary-card",style:{background:"linear-gradient(135deg, #2563eb, #7c3aed)",color:"#fff",boxShadow:"0 20px 45px rgba(79, 70, 229, 0.28)"},children:[(0,_e.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"text-xs uppercase tracking-wide opacity-80",children:"Customer orders"}),(0,_e.jsx)("span",{className:"text-4xl font-black leading-tight",children:ln.count}),(0,_e.jsx)("span",{className:"text-sm opacity-80",children:"Orders captured in the latest sync"})]}),(0,_e.jsx)("span",{"aria-hidden":!0,className:"text-4xl",children:"\ud83d\udce6"})]}),ln.pending>0&&(0,_e.jsxs)("span",{className:"badge",style:{backgroundColor:"rgba(255,255,255,0.2)",color:"#fff"},children:[ln.pending," pending fulfilment"]}),(0,_e.jsxs)("div",{className:"text-sm",style:{color:"rgba(255,255,255,0.85)"},children:["Revenue impact ",cf(ln.total)]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-sm order-summary-card__action",style:{backgroundColor:"#fff",color:"#1f2937",fontWeight:600,alignSelf:"flex-start"},onClick:()=>En("customers"),children:"customers"===un?"Hide customer orders":"Manage customer orders"})]}),(0,_e.jsxs)("div",{className:"card stack-md order-summary-card",style:{background:"linear-gradient(135deg, #0ea5e9, #22d3ee)",color:"#0f172a",boxShadow:"0 20px 45px rgba(14,165,233,0.25)"},children:[(0,_e.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"text-xs uppercase tracking-wide",style:{color:"rgba(15,23,42,0.7)"},children:"Supplier purchases"}),(0,_e.jsx)("span",{className:"text-4xl font-black leading-tight",children:cn.count}),(0,_e.jsx)("span",{className:"text-sm",style:{color:"rgba(15,23,42,0.7)"},children:"Raised purchase orders ready for action"})]}),(0,_e.jsx)("span",{"aria-hidden":!0,className:"text-4xl",children:"\ud83e\udd1d"})]}),cn.pending>0&&(0,_e.jsxs)("span",{className:"badge",style:{backgroundColor:"rgba(15,23,42,0.08)",color:"#0f172a"},children:[cn.pending," awaiting supplier"]}),(0,_e.jsxs)("div",{className:"text-sm",style:{color:"rgba(15,23,42,0.7)"},children:["Spend committed ",cf(cn.total)]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-sm order-summary-card__action",style:{backgroundColor:"#0f172a",color:"#fff",fontWeight:600,alignSelf:"flex-start"},onClick:()=>En("suppliers"),children:"suppliers"===un?"Hide supplier orders":"Manage supplier orders"})]}),(0,_e.jsxs)("div",{className:"card stack-md order-summary-card",style:{background:"linear-gradient(135deg, #f97316, #facc15)",color:"#7c2d12",boxShadow:"0 20px 45px rgba(249,115,22,0.25)"},children:[(0,_e.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"text-xs uppercase tracking-wide",style:{color:"rgba(124,45,18,0.8)"},children:"Cancellations (30 days)"}),(0,_e.jsx)("span",{className:"text-4xl font-black leading-tight",children:dn.count}),(0,_e.jsx)("span",{className:"text-sm",style:{color:"rgba(124,45,18,0.7)"},children:"Automatically pruned after 30 days"})]}),(0,_e.jsx)("span",{"aria-hidden":!0,className:"text-4xl",children:"\u26a0\ufe0f"})]}),(0,_e.jsx)("div",{className:"text-sm",style:{color:"rgba(124,45,18,0.75)"},children:"Review reasons to reduce repeat issues"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-sm order-summary-card__action",style:{backgroundColor:"#7c2d12",color:"#fff",fontWeight:600,alignSelf:"flex-start"},onClick:()=>En("cancelled"),children:"cancelled"===un?"Hide cancellations":"Review cancellations"})]})]})}),"order"===x&&"customers"===un&&(0,_e.jsxs)("div",{className:"card stack-md order-panel",children:[(0,_e.jsxs)("div",{className:"card-heading",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Customer orders"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:B?"Refreshing data\u2026":"".concat(st.length," order(s) in view")})]}),(0,_e.jsxs)("div",{className:"modal-header-actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>he(),disabled:B,children:B?"Loading\u2026":"Reload"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>hn(null),children:"Hide"})]})]}),(0,_e.jsxs)("div",{className:"stack-md",children:[(0,_e.jsxs)("div",{className:"modal-toolbar",children:[(0,_e.jsx)("input",{className:"input input-sm",placeholder:"Search by contact, status, item, payment\u2026",value:at,onChange:e=>it(e.target.value)}),at&&(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>it(""),children:"Clear"})]}),(0,_e.jsx)("div",{className:"table-scroller modal-table-wrapper",children:(0,_e.jsxs)("table",{className:"data-table data-table--wide modal-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{className:"text-left",children:[(0,_e.jsx)("th",{children:"Order"}),(0,_e.jsx)("th",{children:"Contact"}),(0,_e.jsx)("th",{children:"Payment"}),(0,_e.jsx)("th",{children:"Items"}),(0,_e.jsx)("th",{children:"Total"}),(0,_e.jsx)("th",{children:"Status"}),(0,_e.jsx)("th",{children:"Updated"}),(0,_e.jsx)("th",{className:"text-right",children:"Actions"})]})}),(0,_e.jsx)("tbody",{children:B?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:8,className:"empty-cell",children:"Loading orders\u2026"})}):0===st.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:8,className:"empty-cell",children:"No customer orders match your filters."})}):st.map(e=>{var t,n,r;const a=Array.isArray(null===e||void 0===e?void 0:e.items)?e.items:[],i=(null===e||void 0===e?void 0:e.status)||"Pending",s=i.toLowerCase(),o="pending"===s?"badge badge-amber":s.includes("cancel")?"badge badge-gray":"badge badge-green",l=(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)||"".concat((null===e||void 0===e?void 0:e.contact)||"order","-").concat((null===e||void 0===e?void 0:e.createdAt)||""),c=!s.includes("cancel"),d="pending"===s,u="pending"===s,h="confirmed"===s,p=bn===(null===e||void 0===e?void 0:e._id),m=String((null===e||void 0===e||null===(t=e.paymentInfo)||void 0===t?void 0:t.paymentStatus)||"").toLowerCase(),f=null===e||void 0===e||null===(n=e.paymentInfo)||void 0===n?void 0:n.receiptUrl,v=null===e||void 0===e||null===(r=e.paymentInfo)||void 0===r?void 0:r.slipUrl,g="paid"===m&&Boolean(f),y=!g&&Boolean(v);return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"font-medium break-words",children:(null===e||void 0===e?void 0:e._id)||"\u2014"}),(0,_e.jsxs)("span",{className:"muted-text text-xs",children:["Placed ",df(null===e||void 0===e?void 0:e.createdAt)]})]})}),(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.contact)||"\u2014"}),(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.paymentMethod)||"\u2014"}),(0,_e.jsx)("td",{children:0===a.length?(0,_e.jsx)("span",{className:"muted-text text-sm",children:"No line items"}):(0,_e.jsx)("div",{className:"stack-xs",children:a.map((e,t)=>(0,_e.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.productName)||(null===e||void 0===e?void 0:e.name)," \xd7 ",null===e||void 0===e?void 0:e.quantity," (",cf(null===e||void 0===e?void 0:e.price),")"]},"".concat(l,"-item-").concat(t)))})}),(0,_e.jsx)("td",{children:cf(null===e||void 0===e?void 0:e.totalAmount)}),(0,_e.jsx)("td",{children:(0,_e.jsx)("span",{className:o,children:i})}),(0,_e.jsx)("td",{children:df((null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.createdAt))}),(0,_e.jsx)("td",{className:"text-right",children:(0,_e.jsxs)("div",{className:"action-grid justify-end",children:[g&&(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>Rn(e),children:"View receipt"}),y&&(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>Rn(e,v),children:"View slip"}),u&&(0,_e.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Tn(e._id,"Confirmed"),disabled:p,children:p?"Updating\u2026":"Mark confirmed"}),h&&(0,_e.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Tn(e._id,"Delivered"),disabled:p,children:p?"Updating\u2026":"Mark delivered"}),c&&d?(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>(e=>{vn(e),yn((null===e||void 0===e?void 0:e.cancelReason)||"Admin decision"),mn(!0)})(e),disabled:B,children:"Cancel order"}):null,!d&&c&&(0,_e.jsx)("span",{className:"muted-text text-xs",children:"Order locked"}),!c&&(0,_e.jsx)("span",{className:"muted-text text-xs",children:"Already cancelled"})]})})]},l)})})]})})]})]}),"order"===x&&"suppliers"===un&&(0,_e.jsxs)("div",{className:"card stack-md order-panel",children:[(0,_e.jsxs)("div",{className:"card-heading",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Orders placed with suppliers"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:z?"Refreshing data\u2026":"".concat(ct.length," supplier order(s) loaded")})]}),(0,_e.jsxs)("div",{className:"modal-header-actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>pe(),disabled:z,children:z?"Loading\u2026":"Reload"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>hn(null),children:"Hide"})]})]}),(0,_e.jsxs)("div",{className:"stack-md",children:[(0,_e.jsxs)("div",{className:"modal-toolbar",children:[(0,_e.jsx)("input",{className:"input input-sm",placeholder:"Search supplier, status, notes\u2026",value:ot,onChange:e=>lt(e.target.value)}),ot&&(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>lt(""),children:"Clear"})]}),(0,_e.jsx)("div",{className:"table-scroller modal-table-wrapper",children:(0,_e.jsxs)("table",{className:"data-table data-table--wide modal-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"Order"}),(0,_e.jsx)("th",{children:"Supplier"}),(0,_e.jsx)("th",{children:"Items"}),(0,_e.jsx)("th",{children:"Total"}),(0,_e.jsx)("th",{children:"Status"}),(0,_e.jsx)("th",{children:"Payment"}),(0,_e.jsx)("th",{children:"Updated"}),(0,_e.jsx)("th",{className:"text-right",children:"Actions"})]})}),(0,_e.jsx)("tbody",{children:z?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:8,className:"empty-cell",children:"Loading supplier orders\u2026"})}):0===ct.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:8,className:"empty-cell",children:"No supplier orders match your filters."})}):ct.map(e=>{const t=Array.isArray(null===e||void 0===e?void 0:e.items)?e.items:[],n=(null===e||void 0===e?void 0:e.status)||"Pending",r=n.toLowerCase(),a="pending"===r?"badge badge-amber":"ordered"===r||"confirmed"===r?"badge badge-green":"badge badge-gray",i=(()=>{if(t.length>0){var n;const e=null===(n=t[0])||void 0===n?void 0:n.supplierId;if("string"===typeof e)return e;if(null!==e&&void 0!==e&&e.name)return e.name;if(null!==e&&void 0!==e&&e.email)return e.email}return(null===e||void 0===e?void 0:e.contact)||"\u2014"})(),s=(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)||"".concat(i||"supplier","-").concat((null===e||void 0===e?void 0:e.createdAt)||"");return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"font-medium break-words",children:(null===e||void 0===e?void 0:e._id)||"\u2014"}),(null===e||void 0===e?void 0:e.notes)&&(0,_e.jsx)("span",{className:"muted-text text-xs",children:e.notes})]})}),(0,_e.jsx)("td",{children:i}),(0,_e.jsx)("td",{children:0===t.length?(0,_e.jsx)("span",{className:"muted-text text-sm",children:"No line items"}):(0,_e.jsx)("div",{className:"stack-xs",children:t.map((e,t)=>(0,_e.jsxs)("div",{children:[null===e||void 0===e?void 0:e.name," \xd7 ",null===e||void 0===e?void 0:e.quantity," (",cf(null===e||void 0===e?void 0:e.price),")"]},"".concat(s,"-supplier-item-").concat(t)))})}),(0,_e.jsx)("td",{children:cf(null===e||void 0===e?void 0:e.totalCost)}),(0,_e.jsx)("td",{children:(0,_e.jsx)("span",{className:a,children:n})}),(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.paymentMethod)||"\u2014"}),(0,_e.jsx)("td",{children:df((null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.createdAt))}),(0,_e.jsx)("td",{className:"text-right",children:(0,_e.jsxs)("div",{className:"action-grid justify-end",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>(e=>{kn(e),Sn({status:(null===e||void 0===e?void 0:e.status)||"Pending",notes:(null===e||void 0===e?void 0:e.notes)||""}),jn(!0)})(e),children:"Update"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>(e=>{Pn(e),Cn(!0)})(e),children:"Delete"})]})})]},s)})})]})})]})]}),"order"===x&&"cancelled"===un&&(0,_e.jsxs)("div",{className:"card stack-md order-panel",children:[(0,_e.jsxs)("div",{className:"card-heading",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Cancelled orders (last 30 days)"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:V?"Refreshing data\u2026":"".concat(ht.length," recent cancellation(s)")})]}),(0,_e.jsxs)("div",{className:"modal-header-actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>me(),disabled:V,children:V?"Loading\u2026":"Reload"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>hn(null),children:"Hide"})]})]}),(0,_e.jsxs)("div",{className:"stack-md",children:[(0,_e.jsxs)("div",{className:"modal-toolbar",children:[(0,_e.jsx)("input",{className:"input input-sm",placeholder:"Search contact, reason, payment\u2026",value:dt,onChange:e=>ut(e.target.value)}),dt&&(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>ut(""),children:"Clear"})]}),(0,_e.jsx)("div",{className:"table-scroller modal-table-wrapper",children:(0,_e.jsxs)("table",{className:"data-table data-table--wide modal-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"Cancelled order"}),(0,_e.jsx)("th",{children:"Contact"}),(0,_e.jsx)("th",{children:"Payment"}),(0,_e.jsx)("th",{children:"Total"}),(0,_e.jsx)("th",{children:"Reason"}),(0,_e.jsx)("th",{children:"Cancelled"}),(0,_e.jsx)("th",{children:"Items"})]})}),(0,_e.jsx)("tbody",{children:V?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:7,className:"empty-cell",children:"Loading cancelled orders\u2026"})}):0===ht.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:7,className:"empty-cell",children:"No cancellations recorded in the last 30 days."})}):ht.map(e=>{const t=Array.isArray(null===e||void 0===e?void 0:e.items)?e.items:[],n=(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.originalOrderId)||"".concat((null===e||void 0===e?void 0:e.contact)||"cancelled","-").concat((null===e||void 0===e?void 0:e.cancelledAt)||"");return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"font-medium break-words",children:(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.originalOrderId)||"\u2014"}),(null===e||void 0===e?void 0:e.originalOrderId)&&(0,_e.jsxs)("span",{className:"muted-text text-xs",children:["Original #",e.originalOrderId]})]})}),(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.contact)||"\u2014"}),(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.paymentMethod)||"\u2014"}),(0,_e.jsx)("td",{children:cf(null===e||void 0===e?void 0:e.totalAmount)}),(0,_e.jsx)("td",{children:(null===e||void 0===e?void 0:e.cancelReason)||"Not specified"}),(0,_e.jsx)("td",{children:df(null===e||void 0===e?void 0:e.cancelledAt)}),(0,_e.jsx)("td",{children:0===t.length?(0,_e.jsx)("span",{className:"muted-text text-sm",children:"No line items"}):(0,_e.jsx)("div",{className:"stack-xs",children:t.map((e,t)=>(0,_e.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.productName)||(null===e||void 0===e?void 0:e.name)," \xd7 ",null===e||void 0===e?void 0:e.quantity," (",cf(null===e||void 0===e?void 0:e.price),")"]},"".concat(n,"-cancelled-item-").concat(t)))})})]},n)})})]})})]})]}),pn&&(0,_e.jsx)("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:Fn,children:(0,_e.jsxs)("form",{className:"card modal-card stack-md",onSubmit:async e=>{if(e.preventDefault(),fn)try{await af("".concat(nf,"/orders/cancel/").concat(fn._id),{method:"PUT",headers:ke({"Content-Type":"application/json"},le),body:JSON.stringify({cancelReason:(null===gn||void 0===gn?void 0:gn.trim())||"Admin decision"})}),K("Order cancelled successfully"),Fn(),await he({suppressError:!0}),await me({suppressError:!0})}catch(a_){J(a_.message)}},onClick:e=>e.stopPropagation(),children:[(0,_e.jsx)("button",{type:"button",className:"modal-close","aria-label":"Close cancel order modal",onClick:Fn,children:"\xd7"}),(0,_e.jsx)("div",{className:"card-heading",children:(0,_e.jsx)("h3",{className:"heading-md",children:"Cancel customer order"})}),(0,_e.jsx)("div",{className:"modal-body",children:(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsxs)("p",{className:"muted-text text-sm",children:["You are about to cancel order ",(0,_e.jsx)("strong",{children:null===fn||void 0===fn?void 0:fn._id}),". The customer will no longer see it in their active list."]}),(0,_e.jsx)("label",{className:"label",htmlFor:"cancel-reason",children:"Cancellation reason"}),(0,_e.jsx)("textarea",{id:"cancel-reason",className:"input",rows:3,value:gn,onChange:e=>yn(e.target.value),required:!0})]})}),(0,_e.jsxs)("div",{className:"modal-footer",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-outline",onClick:Fn,children:"Keep order"}),(0,_e.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Confirm cancel"})]})]})}),wn&&Nn&&(0,_e.jsx)("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:Dn,children:(0,_e.jsxs)("form",{className:"card modal-card stack-md",onSubmit:async e=>{if(e.preventDefault(),Nn)try{await af("".concat(nf,"/admin-orders/").concat(Nn._id),{method:"PUT",headers:ke({"Content-Type":"application/json"},le),body:JSON.stringify({status:_n.status,notes:_n.notes})}),K("Supplier order updated"),Dn(),await pe({suppressError:!0})}catch(a_){J(a_.message)}},onClick:e=>e.stopPropagation(),children:[(0,_e.jsx)("button",{type:"button",className:"modal-close","aria-label":"Close supplier order update modal",onClick:Dn,children:"\xd7"}),(0,_e.jsx)("div",{className:"card-heading",children:(0,_e.jsx)("h3",{className:"heading-md",children:"Update supplier order"})}),(0,_e.jsxs)("div",{className:"modal-body",children:[(0,_e.jsxs)("div",{className:"stack-sm",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"muted-text text-xs uppercase tracking-wide",children:"Order id"}),(0,_e.jsx)("span",{className:"font-medium break-words",children:null===Nn||void 0===Nn?void 0:Nn._id})]}),(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"muted-text text-xs uppercase tracking-wide",children:"Supplier"}),(0,_e.jsx)("span",{children:(e=>{const t=null===Nn||void 0===Nn||null===(e=Nn.items)||void 0===e?void 0:e[0],n=null===t||void 0===t?void 0:t.supplierId;return n?"string"===typeof n?n:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.email)||"\u2014":"\u2014"})()})]}),(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("span",{className:"muted-text text-xs uppercase tracking-wide",children:"Items"}),(0,_e.jsx)("div",{className:"stack-xs",children:((null===Nn||void 0===Nn?void 0:Nn.items)||[]).map((e,t)=>(0,_e.jsxs)("div",{children:[null===e||void 0===e?void 0:e.name," \xd7 ",null===e||void 0===e?void 0:e.quantity," (",cf(null===e||void 0===e?void 0:e.price),")"]},"edit-item-".concat(t)))})]})]}),(0,_e.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"supplier-order-status",children:"Status"}),(0,_e.jsxs)("select",{id:"supplier-order-status",className:"input",value:_n.status,onChange:e=>Sn(t=>ke(ke({},t),{},{status:e.target.value})),children:[(0,_e.jsx)("option",{value:"Pending",children:"Pending"}),(0,_e.jsx)("option",{value:"Ordered",children:"Ordered"}),(0,_e.jsx)("option",{value:"Confirmed",children:"Confirmed"}),(0,_e.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"supplier-order-notes",children:"Notes"}),(0,_e.jsx)("textarea",{id:"supplier-order-notes",className:"input",rows:3,value:_n.notes,onChange:e=>Sn(t=>ke(ke({},t),{},{notes:e.target.value})),placeholder:"Optional notes for your team or supplier"})]})]})]}),(0,_e.jsxs)("div",{className:"modal-footer",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-outline",onClick:Dn,children:"Cancel"}),(0,_e.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Save changes"})]})]})}),An&&Ln&&(0,_e.jsx)("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:On,children:(0,_e.jsxs)("div",{className:"card modal-card stack-md",onClick:e=>e.stopPropagation(),children:[(0,_e.jsx)("button",{type:"button",className:"modal-close","aria-label":"Close delete supplier order modal",onClick:On,children:"\xd7"}),(0,_e.jsx)("div",{className:"card-heading",children:(0,_e.jsx)("h3",{className:"heading-md",children:"Delete supplier order"})}),(0,_e.jsx)("div",{className:"modal-body",children:(0,_e.jsxs)("p",{className:"muted-text text-sm",children:["This will permanently remove order ",(0,_e.jsx)("strong",{children:null===Ln||void 0===Ln?void 0:Ln._id})," from the supplier purchase queue. Continue?"]})}),(0,_e.jsxs)("div",{className:"modal-footer",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-outline",onClick:On,children:"Keep order"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-danger",onClick:async()=>{if(Ln)try{await af("".concat(nf,"/admin-orders/").concat(Ln._id),{method:"DELETE",headers:ke({},le)}),K("Supplier order removed"),On(),await pe({suppressError:!0})}catch(a_){J(a_.message)}},children:"Delete order"})]})]})}),"suppliers"===x&&(0,_e.jsx)("div",{className:"card",children:(0,_e.jsx)(Yr,{})}),"sales"===x&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("section",{className:"grid gap-4 sm:grid-cols-3",children:[(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Total orders"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:kr.totalOrders})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Refunded"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:kr.refunded})]}),(0,_e.jsxs)("div",{className:"card",children:[(0,_e.jsx)("div",{className:"text-slate-500",children:"Recent orders"}),(0,_e.jsx)("div",{className:"text-3xl font-black",children:null!==(n=null===(r=kr.recent)||void 0===r?void 0:r.length)&&void 0!==n?n:0})]})]}),(0,_e.jsx)("div",{className:"card overflow-x-auto",children:(0,_e.jsxs)("table",{className:"min-w-[720px] w-full",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{className:"text-left",children:[(0,_e.jsx)("th",{children:"#"}),(0,_e.jsx)("th",{children:"Customer"}),(0,_e.jsx)("th",{children:"Status"}),(0,_e.jsx)("th",{children:"Total"})]})}),(0,_e.jsx)("tbody",{children:0===Sr.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:4,className:"py-6 text-center text-slate-500",children:"No data yet"})}):Sr.map(e=>(0,_e.jsxs)("tr",{className:"border-t border-white/10",children:[(0,_e.jsx)("td",{children:e.number}),(0,_e.jsx)("td",{children:e.customerName}),(0,_e.jsx)("td",{children:e.status}),(0,_e.jsx)("td",{children:cf(e.total)})]},e._id))})]})})]}),"finance"===x&&(0,_e.jsx)(Fm,{}),"settings"===x&&(0,_e.jsx)("div",{className:"card space-y-4",children:(0,_e.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:(0,_e.jsxs)("div",{className:"rounded-xl border border-slate-200 dark:border-white/10 p-3",children:[(0,_e.jsx)("label",{className:"label mb-2 block",children:"Theme"}),(0,_e.jsxs)("select",{className:"input",value:c,onChange:e=>d(e.target.value),children:[(0,_e.jsx)("option",{value:"light",children:"Light"}),(0,_e.jsx)("option",{value:"dark",children:"Dark"})]})]})})})]}),Gn&&(0,_e.jsx)("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:jr,children:(0,_e.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=qn.name.trim(),n=qn.description.trim(),r=qn.category.trim(),a=qn.brand.trim(),i=Number(qn.price),s=Number(qn.stockAmount||0),o="create"===Kn;if(K(""),J(""),!t)return J("Product name is required");if(!Number.isFinite(i)||i<=0)return J("Enter a valid price");if(!n)return J("Description is required");if(!r)return J("Category is required");if(!a)return J("Brand is required");if(qn.inStock&&(!Number.isFinite(s)||s<0))return J("Enter a valid stock amount");if(o&&!Hn)return J("Please select a product image");const l=new FormData;l.append("name",t),l.append("price",String(i)),l.append("description",n),l.append("category",r),l.append("brand",a),l.append("inStock",qn.inStock?"true":""),l.append("stockAmount",qn.inStock?String(s||0):"0"),Hn&&l.append("image",Hn);const c=o?"".concat(rf,"/products"):"".concat(rf,"/products/").concat(qn._id),d=o?"POST":"PUT";Xn(!0);try{const e=await fetch(c,{method:d,headers:le,body:l}),t=await e.json().catch(()=>({}));if(!e.ok)throw new Error((null===t||void 0===t?void 0:t.message)||(o?"Failed to add product":"Failed to update product"));K(o?"Product created":"Product updated"),Yn(!1),$n("create"),Vn(zn),Wn(null),await ue({suppressError:!0})}catch(a_){J(a_.message)}finally{Xn(!1)}},className:"card modal-card modal-card--wide stack-md",onClick:e=>e.stopPropagation(),children:[(0,_e.jsx)("button",{type:"button",className:"modal-close","aria-label":"create"===Kn?"Close add product modal":"Close edit product modal",onClick:jr,children:"\xd7"}),(0,_e.jsx)("div",{className:"card-heading",children:(0,_e.jsx)("h3",{className:"heading-md",children:"create"===Kn?"Add product":"Edit product"})}),(0,_e.jsx)("div",{className:"modal-body",children:(0,_e.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"product-name",children:"Name"}),(0,_e.jsx)("input",{id:"product-name",className:"input",value:qn.name,onChange:e=>Nr("name",e.target.value),placeholder:"e.g. Heavy duty drill",required:!0})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"product-price",children:"Price (Rs.)"}),(0,_e.jsx)("input",{id:"product-price",className:"input",type:"number",min:"0",step:"0.01",value:qn.price,onChange:e=>Nr("price",e.target.value),required:!0})]}),(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"product-description",children:"Description"}),(0,_e.jsx)("textarea",{id:"product-description",className:"input",rows:3,value:qn.description,onChange:e=>Nr("description",e.target.value),placeholder:"Short summary of the product",required:!0})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"product-category",children:"Category"}),(0,_e.jsx)("input",{id:"product-category",className:"input",value:qn.category,onChange:e=>Nr("category",e.target.value),placeholder:"e.g. Power tools",required:!0})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",htmlFor:"product-brand",children:"Brand"}),(0,_e.jsx)("input",{id:"product-brand",className:"input",value:qn.brand,onChange:e=>Nr("brand",e.target.value),placeholder:"e.g. Bosch",required:!0})]}),(0,_e.jsxs)("div",{className:"md:col-span-2 flex items-center gap-2",children:[(0,_e.jsx)("input",{id:"product-instock",type:"checkbox",checked:qn.inStock,onChange:e=>Nr("inStock",e.target.checked)}),(0,_e.jsx)("label",{className:"label",htmlFor:"product-instock",children:"In stock"})]}),(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",htmlFor:"product-image",children:"Product image"}),(0,_e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_e.jsx)("input",{id:"product-image",className:"input",type:"file",accept:"image/*",onChange:e=>{var t;return Wn((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}}),(0,_e.jsx)("p",{className:"muted-text text-xs",children:"Upload JPG or PNG up to 2MB."})]}),"edit"===Kn&&qn.imageUrl&&!Hn&&(0,_e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_e.jsx)("img",{src:uf(qn.imageUrl),alt:qn.name,style:{width:72,height:72,objectFit:"cover",borderRadius:"0.75rem"},onError:e=>{e.currentTarget.style.display="none"}}),(0,_e.jsx)("span",{className:"muted-text text-sm",children:"Current image"})]})]})]})}),(0,_e.jsxs)("div",{className:"modal-footer",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:jr,disabled:Jn,children:"Cancel"}),(0,_e.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:Jn,children:Jn?"create"===Kn?"Adding\u2026":"Saving\u2026":"create"===Kn?"Add product":"Save changes"})]})]})}),dr&&(0,_e.jsx)("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:()=>ur(!1),children:(0,_e.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),J(""),K(""),!ar.name||!ar.email)return J("Name and email are required.");try{if(cr(!0),"create"===sr){const e=ke(ke({},ar),{},{role:ar.role?ar.role.toLowerCase():"user",password:ar.password||"changeme123"}),t=await fetch("".concat(nf,"/users"),{method:"POST",headers:ke({"Content-Type":"application/json"},le),body:JSON.stringify(e)});if(!t.ok)throw new Error((await t.json().catch(()=>({}))).message||"Create failed");K("User created")}else{const e={name:ar.name,email:ar.email,age:ar.age?Number(ar.age):void 0,address:ar.address||void 0,role:ar.role?ar.role.toLowerCase():"user"},t=await fetch("".concat(nf,"/users/").concat(ar._id),{method:"PUT",headers:ke({"Content-Type":"application/json"},le),body:JSON.stringify(e)});if(!t.ok)throw new Error((await t.json().catch(()=>({}))).message||"Update failed");K("User updated")}ur(!1),await ce()}catch(t){J(t.message)}finally{cr(!1)}},className:"card modal-card stack-md",onClick:e=>e.stopPropagation(),children:[(0,_e.jsx)("button",{type:"button",className:"modal-close","aria-label":"create"===sr?"Close create user modal":"Close edit user modal",onClick:()=>ur(!1),children:"\xd7"}),(0,_e.jsx)("div",{className:"card-heading",children:(0,_e.jsx)("h3",{className:"heading-md",children:"create"===sr?"Create user":"Edit user"})}),(0,_e.jsx)("div",{className:"modal-body",children:(0,_e.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",children:"Name"}),(0,_e.jsx)("input",{className:"input",value:ar.name,onChange:e=>ir(ke(ke({},ar),{},{name:e.target.value}))})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",children:"Email"}),(0,_e.jsx)("input",{className:"input",type:"email",value:ar.email,onChange:e=>ir(ke(ke({},ar),{},{email:e.target.value}))})]}),"create"===sr&&(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",children:"Password"}),(0,_e.jsx)("input",{className:"input",type:"password",value:ar.password,onChange:e=>ir(ke(ke({},ar),{},{password:e.target.value})),placeholder:"Default: changeme123"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",children:"Age"}),(0,_e.jsx)("input",{className:"input",type:"number",value:ar.age,onChange:e=>ir(ke(ke({},ar),{},{age:e.target.value}))})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",children:"Address"}),(0,_e.jsx)("input",{className:"input",value:ar.address,onChange:e=>ir(ke(ke({},ar),{},{address:e.target.value}))})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",children:"Role"}),(0,_e.jsx)("select",{className:"input",value:ar.role,onChange:e=>ir(ke(ke({},ar),{},{role:e.target.value})),children:(L.length?L.map(e=>e.name):["admin","customer care manager","staff","user"]).map(e=>(0,_e.jsx)("option",{value:e,children:e},e))})]})]})}),(0,_e.jsxs)("div",{className:"modal-footer",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>ur(!1),disabled:lr,children:"Cancel"}),(0,_e.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:lr,children:lr?"Saving...":"create"===sr?"Create user":"Save changes"})]})]})}),br&&(0,_e.jsx)("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:()=>xr(!1),children:(0,_e.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),J(""),K(""),!pr.name)return J("Role name is required.");try{if(yr(!0),"create"===fr){const e=await fetch("".concat(nf,"/roles"),{method:"POST",headers:ke({"Content-Type":"application/json"},le),body:JSON.stringify(pr)});if(!e.ok)throw new Error((await e.json().catch(()=>({}))).message||"Create role failed");K("Role created")}else{const e=await fetch("".concat(nf,"/roles/").concat(pr._id),{method:"PUT",headers:ke({"Content-Type":"application/json"},le),body:JSON.stringify(pr)});if(!e.ok)throw new Error((await e.json().catch(()=>({}))).message||"Update role failed");K("Role updated")}xr(!1),await de()}catch(t){J(t.message)}finally{yr(!1)}},className:"card modal-card modal-card--wide stack-md",onClick:e=>e.stopPropagation(),children:[(0,_e.jsx)("button",{type:"button",className:"modal-close","aria-label":"create"===fr?"Close create role modal":"Close edit role modal",onClick:()=>xr(!1),children:"\xd7"}),(0,_e.jsx)("div",{className:"card-heading",children:(0,_e.jsx)("h3",{className:"heading-md",children:"create"===fr?"Create role":"Edit role"})}),(0,_e.jsx)("div",{className:"modal-body",children:(0,_e.jsxs)("div",{className:"stack-md",children:[(0,_e.jsxs)("div",{className:"grid md:grid-cols-2 gap-3 mb-4",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",children:"Role name"}),(0,_e.jsx)("input",{className:"input",value:pr.name,onChange:e=>mr(ke(ke({},pr),{},{name:e.target.value})),placeholder:"e.g. admin, store_manager, inventory_manager"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",children:"Description"}),(0,_e.jsx)("input",{className:"input",value:pr.description,onChange:e=>mr(ke(ke({},pr),{},{description:e.target.value})),placeholder:"Optional description"})]})]}),(0,_e.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:bf.map(e=>(0,_e.jsxs)("div",{className:"rounded-xl border border-slate-200 dark:border-white/10 p-3",children:[(0,_e.jsx)("div",{className:"font-bold mb-2",children:e.title}),(0,_e.jsx)("div",{className:"grid md:grid-cols-2 gap-2",children:e.items.map(e=>{var t;return(0,_e.jsxs)("label",{className:"flex gap-2 items-center",children:[(0,_e.jsx)("input",{type:"checkbox",checked:(null===(t=pr.privileges)||void 0===t?void 0:t.includes(e.id))||!1,onChange:t=>{const n=t.target.checked;mr(t=>{const r=new Set(t.privileges||[]);return n?r.add(e.id):r.delete(e.id),ke(ke({},t),{},{privileges:[...r]})})}}),(0,_e.jsx)("span",{children:e.label})]},e.id)})})]},e.title))})]})}),(0,_e.jsxs)("div",{className:"modal-footer",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>xr(!1),disabled:gr,children:"Cancel"}),(0,_e.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:gr,children:gr?"Saving...":"create"===fr?"Create role":"Save changes"})]})]})})]})}const _f=function(e){let{onOrdersLoaded:t}=e;const[n,r]=(0,i.useState)([]),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)(""),{token:c}=Ae(),d=(0,i.useCallback)(async()=>{if(c){s(!0);try{const e=await fetch("http://localhost:5000/api/admin-orders/supplier",{headers:{Authorization:c?"Bearer ".concat(c):""}});if(!e.ok)throw new Error("Failed to fetch received orders");const n=await e.json();r(n),"function"===typeof t&&t(n)}catch(e){console.error(e),l("Server error")}finally{s(!1)}}},[t,c]),u=async(e,t)=>{try{const n=await fetch("http://localhost:5000/api/admin-orders/".concat(e,"/respond"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:c?"Bearer ".concat(c):""},body:JSON.stringify({action:t})}),r=await n.json();n.ok?(alert("accept"===t?"Order accepted successfully!":"Order declined."),d()):alert(r.message||"Failed to update order")}catch(n){console.error(n),alert("Error updating order")}};return(0,i.useEffect)(()=>{d()},[d]),a?(0,_e.jsx)("p",{children:"Loading orders..."}):o?(0,_e.jsx)("p",{style:{color:"red"},children:o}):(0,_e.jsxs)("div",{className:"received-orders",children:[(0,_e.jsx)("h2",{children:"Received Orders"}),(0,_e.jsxs)("table",{children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"Order ID"}),(0,_e.jsx)("th",{children:"Items"}),(0,_e.jsx)("th",{children:"Total"}),(0,_e.jsx)("th",{children:"Payment"}),(0,_e.jsx)("th",{children:"Slip"}),(0,_e.jsx)("th",{children:"Supplier status"}),(0,_e.jsx)("th",{children:"Actions"})]})}),(0,_e.jsx)("tbody",{children:n.map(e=>{var t,n;return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:e._id}),(0,_e.jsx)("td",{children:0===(e.items||[]).length?(0,_e.jsx)("span",{className:"muted-text",children:"No items"}):(0,_e.jsx)("div",{className:"stack-xs",children:e.items.map(t=>(0,_e.jsxs)("div",{children:[t.name," \xd7 ",t.quantity," @ ",Dr(t.price)]},"".concat(e._id,"-").concat(t.productId)))})}),(0,_e.jsx)("td",{children:Dr(e.totalCost)}),(0,_e.jsx)("td",{children:e.paymentMethod}),(0,_e.jsx)("td",{children:"Bank Transfer"===e.paymentMethod&&e.slip?(0,_e.jsx)("a",{href:"http://localhost:5000".concat(e.slip),target:"_blank",rel:"noreferrer",children:"View Slip"}):"N/A"}),(0,_e.jsx)("td",{children:(null===(t=e.items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.supplierStatus)||"Pending"}),(0,_e.jsx)("td",{children:((t,n)=>{const r=((null===(t=e.items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.supplierStatus)||"Pending").toLowerCase();return"accepted"===r?(0,_e.jsx)("span",{className:"badge badge-green",children:"Accepted"}):"declined"===r?(0,_e.jsx)("span",{className:"badge badge-gray",children:"Declined"}):(0,_e.jsxs)("div",{className:"flex gap-2",children:[(0,_e.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>u(e._id,"accept"),children:"Accept"}),(0,_e.jsx)("button",{className:"btn btn-outline btn-sm",onClick:()=>u(e._id,"decline"),children:"Decline"})]})})()})]},e._id)})})]})]})},Sf="http://localhost:5000".replace(/\/$/,""),Af=e=>{let{title:t,value:n,description:r,accent:a}=e;return(0,_e.jsxs)("div",{className:"card stack-xs",style:a?{borderTop:"4px solid ".concat(a)}:void 0,children:[(0,_e.jsx)("span",{className:"muted-heading text-xs uppercase tracking-wide",children:t}),(0,_e.jsx)("span",{className:"text-3xl font-semibold",children:n}),r&&(0,_e.jsx)("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:r})]})};function Cf(){var e;const{user:t,theme:n,toggleTheme:r,token:a,updateProfile:s,changePassword:o,uploadAvatar:l,deleteAvatar:c,logout:d}=Ae(),u=te(),h=(0,i.useMemo)(()=>((null===t||void 0===t?void 0:t.name)||"S").trim().split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase(),[t]),[p,m]=(0,i.useState)("dashboard"),[f,v]=(0,i.useState)({products:0,pendingOrders:0,acceptedOrders:0}),[g,y]=(0,i.useState)(!1),[b,x]=(0,i.useState)({name:(null===t||void 0===t?void 0:t.name)||"",email:(null===t||void 0===t?void 0:t.email)||"",address:(null===t||void 0===t?void 0:t.address)||""}),[w,j]=(0,i.useState)(""),[N,k]=(0,i.useState)(""),[_,S]=(0,i.useState)(!1),A=(0,i.useRef)(null),[C,L]=(0,i.useState)(!1),[P,E]=(0,i.useState)({current:"",next:"",confirm:""}),[F,T]=(0,i.useState)(""),[R,D]=(0,i.useState)(""),[O,I]=(0,i.useState)(!1);(0,i.useEffect)(()=>{x({name:(null===t||void 0===t?void 0:t.name)||"",email:(null===t||void 0===t?void 0:t.email)||"",address:(null===t||void 0===t?void 0:t.address)||""})},[t]);const M=(0,i.useCallback)(async()=>{if(a){y(!0);try{var e;const t={Authorization:a?"Bearer ".concat(a):""},[n,r]=await Promise.all([fetch("".concat(Sf,"/supplier-products"),{headers:t}),fetch("".concat(Sf,"/api/admin-orders/supplier"),{headers:t})]),i=async e=>{if((e.headers.get("content-type")||"").includes("application/json"))return e.json();const t=await e.text();return t?{message:t}:null},s=await i(n),o=await i(r);if(!n.ok)throw new Error(s&&"object"===typeof s&&s.message||"string"===typeof s&&s||"Failed to load supplier products");if(!r.ok)throw new Error(o&&"object"===typeof o&&o.message||"string"===typeof o&&o||"Failed to load supplier orders");const l=Array.isArray(s)?s:null!==(e=null===s||void 0===s?void 0:s.supplierProducts)&&void 0!==e?e:[],c=Array.isArray(o)?o:[],d=c.filter(e=>{var t,n;return"pending"===String((null===(t=e.items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.supplierStatus)||e.status||"").toLowerCase()}).length,u=c.filter(e=>{var t,n;return"accepted"===String((null===(t=e.items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.supplierStatus)||e.status||"").toLowerCase()}).length;v({products:Array.isArray(l)?l.length:0,pendingOrders:d,acceptedOrders:u})}catch(t){console.error("Failed to load supplier metrics",t),v({products:0,pendingOrders:0,acceptedOrders:0})}finally{y(!1)}}},[a]);(0,i.useEffect)(()=>{M()},[M]);const B="dashboard"===p?"Supplier overview":"profile"===p?"Profile details":"supplying"===p?"Supplying workspace":"Settings",U=(0,i.useCallback)(e=>{if(!Array.isArray(e))return;const t=e.filter(e=>{var t,n;return"pending"===String((null===(t=e.items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.supplierStatus)||e.status||"").toLowerCase()}).length,n=e.filter(e=>{var t,n;return"accepted"===String((null===(t=e.items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.supplierStatus)||e.status||"").toLowerCase()}).length;v(e=>ke(ke({},e),{},{pendingOrders:t,acceptedOrders:n}))},[]);return(0,_e.jsx)("div",{className:"admin-dashboard",children:(0,_e.jsxs)("div",{className:"dashboard-shell dashboard-shell--two-column multi-dashboard",children:[(0,_e.jsxs)("aside",{className:"card dashboard-sidebar",children:[(0,_e.jsxs)("div",{className:"sidebar-profile",children:[null!==t&&void 0!==t&&t.avatar?(0,_e.jsx)("img",{alt:"avatar",src:t.avatar,className:"avatar avatar--md"}):(0,_e.jsx)("div",{className:"avatar avatar--md avatar--fallback",children:h}),(0,_e.jsxs)("div",{className:"sidebar-profile__meta",children:[(0,_e.jsx)("div",{className:"font-semibold",children:(null===t||void 0===t?void 0:t.name)||"Supplier"}),(0,_e.jsx)("div",{className:"text-xs text-muted",children:null===t||void 0===t?void 0:t.email})]})]}),(0,_e.jsxs)("nav",{className:"dashboard-nav stack-sm",children:[(0,_e.jsxs)("button",{type:"button",className:"sidebar-link ".concat("dashboard"===p?"is-active":""),onClick:()=>m("dashboard"),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udcca"}),(0,_e.jsx)("span",{children:"Dashboard"})]}),(0,_e.jsxs)("button",{type:"button",className:"sidebar-link ".concat("profile"===p?"is-active":""),onClick:()=>m("profile"),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83d\udc64"}),(0,_e.jsx)("span",{children:"Profile details"})]}),(0,_e.jsxs)("button",{type:"button",className:"sidebar-link ".concat("supplying"===p?"is-active":""),onClick:()=>m("supplying"),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\ud83e\udd1d"}),(0,_e.jsx)("span",{children:"Supplying"})]}),(0,_e.jsxs)("button",{type:"button",className:"sidebar-link ".concat("settings"===p?"is-active":""),onClick:()=>m("settings"),children:[(0,_e.jsx)("span",{className:"sidebar-link__icon",children:"\u2699\ufe0f"}),(0,_e.jsx)("span",{children:"Settings"})]})]}),(0,_e.jsx)("div",{className:"sidebar-footer",children:(0,_e.jsxs)("button",{type:"button",className:"btn btn-danger w-full",onClick:()=>{d(),u("/login",{replace:!0})},children:[(0,_e.jsx)("span",{children:"\ud83d\udeaa"}),(0,_e.jsx)("span",{children:"Logout"})]})})]}),(0,_e.jsxs)("section",{className:"dashboard-main stack-lg",children:[(0,_e.jsxs)("header",{className:"card dashboard-header",children:[(0,_e.jsxs)("div",{className:"dashboard-header__title",children:[(0,_e.jsx)("span",{className:"eyebrow",children:"Supplier workspace"}),(0,_e.jsx)("h2",{className:"heading-lg",children:B}),(0,_e.jsx)("p",{className:"muted-text",children:"Manage your catalogue, respond to orders, and keep details up to date."})]}),(0,_e.jsx)("div",{className:"dashboard-header__actions",children:(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"dark"===n?"Light mode":"Dark mode"})})]}),"dashboard"===p&&(0,_e.jsxs)("div",{className:"stack-lg",children:[(0,_e.jsxs)("section",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[(0,_e.jsx)(Af,{title:"Published products",value:g?"\u2026":f.products,description:"Listed in the supplier catalogue",accent:"#6366f1"}),(0,_e.jsx)(Af,{title:"Pending orders",value:g?"\u2026":f.pendingOrders,description:"Awaiting your response",accent:"#f97316"}),(0,_e.jsx)(Af,{title:"Accepted orders",value:g?"\u2026":f.acceptedOrders,description:"Marked as accepted in the last sync",accent:"#22c55e"})]}),(0,_e.jsx)("div",{className:"card",children:(0,_e.jsx)(ip,{types:["order-supplier","order-supplier-accept","order-supplier-decline","payment-supplier"]})})]}),"profile"===p&&(0,_e.jsxs)("div",{className:"stack-lg",children:[(N||w)&&(0,_e.jsx)("div",{className:"status-banner ".concat(N?"status-banner--error":"status-banner--success"),children:N||w}),(0,_e.jsxs)("div",{className:"card profile-hero",children:[(0,_e.jsxs)("div",{className:"profile-hero__media stack-sm",children:[(0,_e.jsx)("div",{className:"profile-avatar-frame",children:null!==t&&void 0!==t&&t.avatar?(0,_e.jsx)("img",{src:t.avatar,alt:"avatar",className:"profile-avatar-img"}):(0,_e.jsx)("div",{className:"avatar avatar--xl avatar--fallback",children:h})}),(0,_e.jsxs)("div",{className:"action-grid",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>{var e;C||null===(e=A.current)||void 0===e||e.click()},disabled:C,children:C?"Uploading\u2026":null!==t&&void 0!==t&&t.avatar?"Change photo":"Upload photo"}),(null===t||void 0===t?void 0:t.avatar)&&(0,_e.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:async()=>{if(null!==t&&void 0!==t&&t.avatar&&!C&&window.confirm("Remove your profile photo?")){L(!0),k(""),j("");try{await c(),j("Profile photo removed")}catch(e){k(e.message||"Failed to remove photo")}finally{L(!1)}}},disabled:C,children:"Remove"})]}),(0,_e.jsx)("input",{ref:A,type:"file",accept:"image/*",className:"sr-only",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){if(!n.type.startsWith("image/"))return k("Please choose an image file"),void(e.target.value="");if(n.size>2097152)return k("Profile photos must be smaller than 2MB"),void(e.target.value="");L(!0),k(""),j("");try{await l(n),j("Profile photo updated")}catch(r){k(r.message||"Failed to upload photo")}finally{L(!1),e.target.value=""}}}}),(0,_e.jsx)("span",{className:"muted-text text-xs",children:"JPG or PNG up to 2MB."})]}),(0,_e.jsxs)("div",{className:"profile-hero__info stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:(null===t||void 0===t?void 0:t.name)||"Supplier profile"}),(0,_e.jsx)("span",{className:"muted-text",children:null===t||void 0===t?void 0:t.email}),(0,_e.jsxs)("div",{className:"profile-hero__badges",children:[(0,_e.jsx)("span",{className:"badge badge-green",children:"Supplier"}),(0,_e.jsxs)("span",{className:"badge badge-gray",children:["ID \u2022 ",(null===t||void 0===t||null===(e=t._id)||void 0===e?void 0:e.slice(-6))||"000000"]})]})]}),(0,_e.jsx)("p",{className:"profile-hero__copy muted-text",children:"Keep your business details up to date so the Smart Hardware team can connect with you quickly about catalogue changes and purchase orders."})]}),(0,_e.jsxs)("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,7fr)_minmax(0,5fr)]",children:[(0,_e.jsxs)("form",{className:"card stack-md",onSubmit:async e=>{e.preventDefault(),k(""),j("");const t=(b.name||"").trim();if(!t)return k("Name is required");try{var n,r;S(!0),await s({name:t,address:(null===(n=b.address)||void 0===n||null===(r=n.trim)||void 0===r?void 0:r.call(n))||""}),j("Profile updated")}catch(a){k(a.message||"Failed to update profile")}finally{S(!1)}},children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Business details"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Update your primary contact information for store administrators."})]}),(0,_e.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",children:"Contact name"}),(0,_e.jsx)("input",{className:"input",value:b.name,onChange:e=>x(t=>ke(ke({},t),{},{name:e.target.value})),placeholder:"Acme Supplies",autoComplete:"name"})]}),(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",children:"Email"}),(0,_e.jsx)("input",{className:"input",value:b.email,disabled:!0,readOnly:!0,"aria-readonly":"true"}),(0,_e.jsx)("p",{className:"muted-text text-xs",children:"Email is managed by the administrator."})]}),(0,_e.jsxs)("div",{className:"md:col-span-2",children:[(0,_e.jsx)("label",{className:"label",children:"Business address"}),(0,_e.jsx)("textarea",{className:"input",rows:3,value:b.address,onChange:e=>x(t=>ke(ke({},t),{},{address:e.target.value})),placeholder:"123 Industrial Park",autoComplete:"street-address"})]})]}),(0,_e.jsxs)("div",{className:"action-grid justify-end",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>{x({name:(null===t||void 0===t?void 0:t.name)||"",email:(null===t||void 0===t?void 0:t.email)||"",address:(null===t||void 0===t?void 0:t.address)||""}),k(""),j("")},disabled:_,children:"Reset"}),(0,_e.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:_,children:_?"Saving\u2026":"Save changes"})]})]}),(0,_e.jsxs)("form",{className:"card stack-md",onSubmit:async e=>{if(e.preventDefault(),T(""),D(""),!P.current||!P.next)return T("Enter your current and new password");if(P.next!==P.confirm)return T("New passwords do not match");try{I(!0),await o(P.current,P.next),D("Password updated"),E({current:"",next:"",confirm:""})}catch(t){T(t.message||"Failed to update password")}finally{I(!1)}},children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Password"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Choose a strong, unique password to protect your account."})]}),(0,_e.jsxs)("div",{className:"grid gap-3 md:grid-cols-1",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",children:"Current password"}),(0,_e.jsx)("input",{className:"input",type:"password",value:P.current,onChange:e=>E(t=>ke(ke({},t),{},{current:e.target.value})),autoComplete:"current-password"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",children:"New password"}),(0,_e.jsx)("input",{className:"input",type:"password",value:P.next,onChange:e=>E(t=>ke(ke({},t),{},{next:e.target.value})),autoComplete:"new-password"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{className:"label",children:"Confirm new password"}),(0,_e.jsx)("input",{className:"input",type:"password",value:P.confirm,onChange:e=>E(t=>ke(ke({},t),{},{confirm:e.target.value})),autoComplete:"new-password"})]})]}),F&&(0,_e.jsx)("div",{className:"alert alert-danger",children:F}),R&&(0,_e.jsx)("div",{className:"alert alert-success",children:R}),(0,_e.jsx)("div",{className:"action-grid justify-end",children:(0,_e.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:O,children:O?"Updating\u2026":"Update password"})})]})]})]}),"supplying"===p&&(0,_e.jsxs)("div",{className:"stack-lg",children:[(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Catalogue"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Manage the products you provide to Smart Hardware customers."})]}),(0,_e.jsx)(Gr,{})]}),(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Orders from admin"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Accept or decline purchase orders placed by the store team."})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:M,children:"Reload orders"})]}),(0,_e.jsx)(_f,{onOrdersLoaded:U})]})]}),"settings"===p&&(0,_e.jsxs)("div",{className:"card stack-md",children:[(0,_e.jsx)("h3",{className:"heading-md",children:"Display preferences"}),(0,_e.jsx)("p",{className:"muted-text text-sm",children:"Switch between dark and light mode any time."}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"dark"===n?"Switch to light mode":"Switch to dark mode"})]})]})]})})}const Lf=em("pk_test_51SAFNAHA4HOCdU4ig1HnCpq2FKpDxrqte3bJoJx1fsB0kgIb2JSFklhVv6JSi0uTrg6zTmCuKSE62ksm6B7wzTWy00OjlQ1Sle");const Pf=function(){var e;const{removeFromCart:t}=(0,i.useContext)(Oe),n=Z(),r=te(),a=(null===(e=n.state)||void 0===e?void 0:e.selectedItems)||[],[s,o]=(0,i.useState)(""),[l,c]=(0,i.useState)("Pay Online"),d=a.reduce((e,t)=>e+t.price*t.quantity,0);return(0,_e.jsxs)("div",{className:"checkout-page",children:[(0,_e.jsx)("h2",{children:"Checkout"}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{children:"Contact:"}),(0,_e.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value),placeholder:"Enter your contact number"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("label",{children:"Payment Method:"}),(0,_e.jsxs)("select",{value:l,onChange:e=>c(e.target.value),children:[(0,_e.jsx)("option",{value:"Pay Online",children:"Pay Online"}),(0,_e.jsx)("option",{value:"Pay Later",children:"Pay Later"})]})]}),(0,_e.jsx)("h3",{children:"Order Summary"}),a.map(e=>(0,_e.jsxs)("p",{children:[e.name," x ",e.quantity," = ",Dr(e.price*e.quantity)]},e.productId)),(0,_e.jsxs)("h4",{children:["Subtotal: ",Dr(d)]}),(0,_e.jsx)("button",{onClick:async()=>{if(!s||!/^\d+$/.test(s))return void alert("Please enter a valid contact number");if(0===a.length)return void alert("No items selected for checkout");const e=a.map(e=>({productId:e.productId||e._id,productName:e.name,quantity:e.quantity,price:e.price})),n={contact:s,paymentMethod:l,items:e};try{const e=localStorage.getItem("token");if(!e)return alert("You must login first"),void r("/login");console.log("\ud83d\udce6 Sending orderData:",n);const i=await fetch("http://localhost:5000/api/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(n)}),s=await i.json();if(console.log("\u2705 Order API response:",s),!i.ok)return void alert(s.message||"Failed to place order");if("Pay Online"===l){console.log("\ud83d\udcb3 Creating Stripe Checkout Session...");const t=await fetch("http://localhost:5000/api/payments/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({amount:Math.round(100*d),currency:"usd",orderId:s.order._id})}),n=await t.json();console.log("\u2705 Payment API response:",n);const{id:r,error:a}=n;if(!r)return void alert("Failed to initialize Stripe Checkout: "+(a||"Unknown error"));const i=await Lf;await i.redirectToCheckout({sessionId:r})}else alert("Order placed successfully!"),a.forEach(e=>t(e.productId)),r("/dashboard?tab=orders")}catch(i){console.error("\u274c Error placing order:",i),alert("Something went wrong. Try again.")}},children:"Place Order"})]})},Ef=e=>null==e||isNaN(e)?"LKR 0.00":"LKR ".concat(Number(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),Ff=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return e}};const Tf=function(){const{orderId:e}=ne(),t=te(),[n,r]=(0,i.useState)(null),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null);if((0,i.useEffect)(()=>{e&&(async()=>{try{var t,n;const a=localStorage.getItem("token");if(!a)throw new Error("You must be logged in to view receipts");const i=await fetch("http://localhost:5000/api/receipts/".concat(e),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!i.ok){const e=await i.json();throw new Error(e.message||"Failed to fetch receipt")}const s=await i.json();console.log("\ud83d\udcc4 Receipt data received:",s),console.log("\ud83d\udce6 Order items:",null===(t=s.receipt)||void 0===t||null===(n=t.order)||void 0===n?void 0:n.items),r(s.receipt),l(null)}catch(a){console.error("Error fetching receipt:",a),l(a.message)}finally{s(!1)}})()},[e]),a)return(0,_e.jsx)("div",{className:"receipt-container",children:(0,_e.jsx)("div",{className:"receipt-loading",children:"Loading receipt..."})});if(o)return(0,_e.jsx)("div",{className:"receipt-container",children:(0,_e.jsxs)("div",{className:"receipt-error",children:[(0,_e.jsx)("h3",{children:"Error Loading Receipt"}),(0,_e.jsx)("p",{children:o}),(0,_e.jsx)("button",{className:"btn btn-primary",onClick:()=>t(-1),children:"Go Back"})]})});if(!n)return(0,_e.jsx)("div",{className:"receipt-container",children:(0,_e.jsxs)("div",{className:"receipt-error",children:[(0,_e.jsx)("h3",{children:"Receipt Not Found"}),(0,_e.jsx)("button",{className:"btn btn-primary",onClick:()=>t(-1),children:"Go Back"})]})});const{order:c,payment:d,customer:u,company:h}=n;if(!c||!d||!u||!h)return(0,_e.jsx)("div",{className:"receipt-container",children:(0,_e.jsxs)("div",{className:"receipt-error",children:[(0,_e.jsx)("h3",{children:"Incomplete Receipt Data"}),(0,_e.jsx)("p",{children:"Some receipt information is missing. Please try again or contact support."}),(0,_e.jsx)("button",{className:"btn btn-primary",onClick:()=>t(-1),children:"Go Back"})]})});const p=Array.isArray(c.items)?c.items:[];return console.log("\ud83d\uded2 Rendering receipt with items:",p),(0,_e.jsxs)("div",{className:"receipt-container",children:[(0,_e.jsxs)("div",{className:"receipt-actions no-print",children:[(0,_e.jsx)("button",{className:"btn btn-secondary",onClick:()=>t(-1),children:"\u2190 Back to Orders"}),(0,_e.jsxs)("div",{className:"receipt-actions-right",children:[(0,_e.jsx)("button",{className:"btn btn-outline",onClick:()=>{window.print()},children:"\ud83d\udda8\ufe0f Print"}),(0,_e.jsx)("button",{className:"btn btn-primary",onClick:async()=>{const e=document.title,t=(null===n||void 0===n?void 0:n.receiptNumber)||"receipt",r="Receipt-".concat(t);document.title=r;const a=document.createElement("div");a.id="pdf-download-hint",a.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n      color: white;\n      padding: 16px 24px;\n      border-radius: 12px;\n      box-shadow: 0 20px 40px -20px rgba(16, 185, 129, 0.6);\n      z-index: 10000;\n      font-family: system-ui, -apple-system, sans-serif;\n      font-weight: 600;\n      animation: slideInRight 0.3s ease;\n    ",a.innerHTML='\n      <div style="display: flex; align-items: center; gap: 12px;">\n        <span style="font-size: 24px;">\ud83d\udca1</span>\n        <div>\n          <div style="font-size: 14px; margin-bottom: 4px;">Select "Save as PDF" in the print dialog</div>\n          <div style="font-size: 12px; opacity: 0.9;">Destination: Save as PDF</div>\n        </div>\n      </div>\n    ';const i=document.createElement("style");i.textContent="\n      @keyframes slideInRight {\n        from { transform: translateX(400px); opacity: 0; }\n        to { transform: translateX(0); opacity: 1; }\n      }\n      @media print {\n        #pdf-download-hint { display: none !important; }\n      }\n    ",document.head.appendChild(i),document.body.appendChild(a);const s=()=>{a&&a.parentNode&&(a.style.animation="slideInRight 0.3s ease reverse",setTimeout(()=>{a&&a.parentNode&&a.parentNode.removeChild(a)},300)),document.title=e,i&&i.parentNode&&i.parentNode.removeChild(i)};setTimeout(()=>{window.print(),setTimeout(s,1e3)},500);const o=()=>{s(),window.removeEventListener("afterprint",o)};window.addEventListener("afterprint",o)},title:"Opens print dialog - select 'Save as PDF' as destination",children:"\ud83d\udce5 Save as PDF"})]})]}),(0,_e.jsxs)("div",{className:"receipt-document",children:[(0,_e.jsxs)("header",{className:"receipt-header",children:[(0,_e.jsxs)("div",{className:"receipt-company",children:[(0,_e.jsx)("h1",{children:(null===h||void 0===h?void 0:h.name)||"Smart Hardware Shop"}),(0,_e.jsx)("p",{children:(null===h||void 0===h?void 0:h.address)||"Address not available"}),(0,_e.jsxs)("p",{children:[(null===h||void 0===h?void 0:h.phone)||"N/A"," | ",(null===h||void 0===h?void 0:h.email)||"N/A"]})]}),(0,_e.jsxs)("div",{className:"receipt-info",children:[(0,_e.jsx)("h2",{children:"RECEIPT"}),(0,_e.jsxs)("p",{children:[(0,_e.jsx)("strong",{children:"Receipt #:"})," ",(null===n||void 0===n?void 0:n.receiptNumber)||"N/A"]}),(0,_e.jsxs)("p",{children:[(0,_e.jsx)("strong",{children:"Date:"})," ",Ff(null===n||void 0===n?void 0:n.generatedAt)]})]})]}),(0,_e.jsx)("hr",{className:"receipt-divider"}),(0,_e.jsxs)("section",{className:"receipt-section",children:[(0,_e.jsx)("h3",{children:"Bill To:"}),(0,_e.jsx)("p",{children:(0,_e.jsx)("strong",{children:(null===u||void 0===u?void 0:u.name)||"N/A"})}),(0,_e.jsx)("p",{children:(null===u||void 0===u?void 0:u.email)||"N/A"}),(0,_e.jsxs)("p",{children:["Contact: ",(null===c||void 0===c?void 0:c.contact)||"N/A"]})]}),(0,_e.jsx)("section",{className:"receipt-section",children:(0,_e.jsxs)("div",{className:"receipt-meta-grid",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"receipt-label",children:"Order Number:"}),(0,_e.jsx)("p",{className:"receipt-value",children:(null===c||void 0===c?void 0:c.orderNumber)||"N/A"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"receipt-label",children:"Order Date:"}),(0,_e.jsx)("p",{className:"receipt-value",children:Ff(null===c||void 0===c?void 0:c.createdAt)})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"receipt-label",children:"Payment Method:"}),(0,_e.jsxs)("p",{className:"receipt-value",children:["stripe"===(null===d||void 0===d?void 0:d.method)?"Online Payment (Card)":"slip"===(null===d||void 0===d?void 0:d.method)?"Bank Transfer":(null===d||void 0===d?void 0:d.method)||"N/A",(null===d||void 0===d?void 0:d.cardBrand)&&(null===d||void 0===d?void 0:d.cardLast4)&&(0,_e.jsxs)("span",{className:"receipt-card-info",children:[" ","(",d.cardBrand.toUpperCase()," \u2022\u2022\u2022\u2022 ",d.cardLast4,")"]})]})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"receipt-label",children:"Payment Status:"}),(0,_e.jsx)("p",{className:"receipt-value receipt-value--paid",children:null!==d&&void 0!==d&&d.paymentStatus?d.paymentStatus.toUpperCase():"N/A"})]})]})}),(0,_e.jsx)("hr",{className:"receipt-divider"}),(0,_e.jsxs)("section",{className:"receipt-section",children:[(0,_e.jsx)("h3",{children:"Order Items:"}),(0,_e.jsxs)("table",{className:"receipt-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"Item"}),(0,_e.jsx)("th",{children:"Quantity"}),(0,_e.jsx)("th",{children:"Unit Price"}),(0,_e.jsx)("th",{children:"Total"})]})}),(0,_e.jsx)("tbody",{children:p.length>0?p.map((e,t)=>(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:e.productName||"Unnamed Product"}),(0,_e.jsx)("td",{children:e.quantity||0}),(0,_e.jsx)("td",{children:Ef(e.price||0)}),(0,_e.jsx)("td",{children:Ef((e.price||0)*(e.quantity||0))})]},e.productId||t)):(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:"4",style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:"No items found in this order"})})})]})]}),(0,_e.jsx)("hr",{className:"receipt-divider"}),(0,_e.jsx)("section",{className:"receipt-section",children:(0,_e.jsxs)("div",{className:"receipt-total",children:[(0,_e.jsxs)("div",{className:"receipt-total-row",children:[(0,_e.jsx)("span",{children:"Subtotal:"}),(0,_e.jsx)("span",{children:Ef((null===c||void 0===c?void 0:c.totalAmount)||0)})]}),(0,_e.jsxs)("div",{className:"receipt-total-row receipt-total-row--final",children:[(0,_e.jsx)("span",{children:"Total Paid:"}),(0,_e.jsx)("span",{children:Ef((null===d||void 0===d?void 0:d.amount)||(null===c||void 0===c?void 0:c.totalAmount)||0)})]})]})}),(0,_e.jsxs)("footer",{className:"receipt-footer",children:[(0,_e.jsx)("p",{children:"Thank you for your purchase!"}),(0,_e.jsxs)("p",{className:"receipt-footer-note",children:["This is an official receipt for your order. For any inquiries, please contact us at"," ",(null===h||void 0===h?void 0:h.email)||"support@smarthardware.lk"," or ",(null===h||void 0===h?void 0:h.phone)||"+94 11 234 5678","."]})]})]})]})};const Rf=function(){const{cartItems:e,removeFromCart:t,updateQuantity:n}=(0,i.useContext)(Ge),r=te(),a=e.reduce((e,t)=>{var n,r;const a=Number(null!==(n=null===t||void 0===t?void 0:t.price)&&void 0!==n?n:0),i=Number(null!==(r=null===t||void 0===t?void 0:t.quantity)&&void 0!==r?r:0);return Number.isFinite(a)&&Number.isFinite(i)?e+a*i:e},0);return(0,_e.jsx)("div",{className:"admin-cart-page",children:(0,_e.jsxs)("div",{className:"cart-container",children:[(0,_e.jsx)("h2",{children:"Admin Supplier Cart"}),0===e.length?(0,_e.jsxs)("div",{className:"cart-empty",children:[(0,_e.jsx)("div",{className:"cart-empty__icon","aria-hidden":"true",children:"\ud83d\uded2"}),(0,_e.jsx)("h3",{children:"No supplier items yet"}),(0,_e.jsx)("p",{className:"muted",children:"Browse supplier listings and add products you want to restock."}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>r(-1),children:"Back to supplier products"})]}):(0,_e.jsxs)("div",{className:"cart-layout",children:[(0,_e.jsx)("section",{className:"cart-items-grid",children:e.map((a,i)=>{var s,o,l;const c=Number(null!==(s=null===a||void 0===a?void 0:a.price)&&void 0!==s?s:0),d=Number(null!==(o=null===a||void 0===a?void 0:a.quantity)&&void 0!==o?o:0)||1,u=Number.isFinite(c*d)?c*d:0;return(0,_e.jsxs)("article",{className:"cart-item",children:[(0,_e.jsxs)("figure",{className:"cart-item__media",children:[(0,_e.jsx)("img",{src:null!==(l=a.img)&&void 0!==l&&l.startsWith("http")?a.img:a.img?"http://localhost:5000".concat(a.img):"https://via.placeholder.com/260x180?text=Product",alt:a.name}),(0,_e.jsxs)("figcaption",{className:"muted",children:["Supplier SKU: ",a.productId]})]}),(0,_e.jsxs)("div",{className:"cart-item__body",children:[(0,_e.jsxs)("header",{className:"cart-item__header",children:[(0,_e.jsx)("h3",{children:a.name}),(0,_e.jsxs)("span",{className:"cart-item__price",children:[Dr(c)," per unit"]})]}),(0,_e.jsxs)("p",{className:"cart-item__total",children:["Line total ",(0,_e.jsx)("span",{children:Dr(u)})]}),(0,_e.jsxs)("div",{className:"cart-item__controls",children:[(0,_e.jsxs)("div",{className:"quantity","aria-label":"Adjust quantity",children:[(0,_e.jsx)("button",{onClick:()=>(t=>{var r;const a=e.find(e=>e.productId===t);if(!a)return;const i=Number(null!==(r=a.quantity)&&void 0!==r?r:0);i>1&&n(t,i-1)})(a.productId),"aria-label":"Decrease quantity",children:"\u2212"}),(0,_e.jsx)("input",{type:"number",value:d,onChange:e=>((e,t)=>{const r=parseInt(t)||1;n(e,r)})(a.productId,e.target.value),min:"1"}),(0,_e.jsx)("button",{onClick:()=>(t=>{var r;const a=e.find(e=>e.productId===t);if(!a)return;const i=Number(null!==(r=a.quantity)&&void 0!==r?r:0)+1;n(t,i)})(a.productId),"aria-label":"Increase quantity",children:"+"})]}),(0,_e.jsxs)("div",{className:"cart-item__actions",children:[(0,_e.jsx)("button",{className:"purchase",onClick:()=>(e=>{var t,n;const a=Number(null!==(t=null===e||void 0===e?void 0:e.price)&&void 0!==t?t:0),i=Number(null!==(n=null===e||void 0===e?void 0:e.quantity)&&void 0!==n?n:0)||1,s={productId:e.productId||e.id,name:e.name,price:a,quantity:i,img:e.img,supplierId:e.supplierId};s.supplierId?r("/AdminCheckout",{state:{items:[s],total:s.price*s.quantity,checkoutMode:"single",cartProductIds:[s.productId]}}):alert("Supplier reference missing. Remove and re-add this product.")})(a),disabled:!a.supplierId,children:"Make purchase"}),(0,_e.jsx)("button",{className:"remove",onClick:()=>t(a.productId),children:"Remove"})]})]}),!a.supplierId&&(0,_e.jsx)("p",{className:"helper-text",children:"Supplier reference missing. Remove and re-add this product."})]})]},a.productId||"".concat(i,"-").concat((null===a||void 0===a?void 0:a.name)||"item"))})}),(0,_e.jsxs)("aside",{className:"cart-summary",children:[(0,_e.jsxs)("div",{className:"cart-summary__header",children:[(0,_e.jsx)("h3",{children:"Purchase summary"}),(0,_e.jsx)("p",{className:"muted",children:"Review quantities and finish checkout when you're ready."})]}),(0,_e.jsxs)("div",{className:"cart-summary__line",children:[(0,_e.jsx)("span",{children:"Subtotal"}),(0,_e.jsx)("span",{children:Dr(a)})]}),(0,_e.jsxs)("div",{className:"cart-summary__line cart-summary__line--total",children:[(0,_e.jsx)("span",{children:"Total payable"}),(0,_e.jsx)("span",{children:Dr(a)})]}),(0,_e.jsx)("button",{className:"place-order",onClick:()=>{if(0===e.length)return void alert("No items in the cart to place order!");const t=e.map(e=>{var t,n;return{productId:e.productId||e.id,name:e.name,price:Number(null!==(t=null===e||void 0===e?void 0:e.price)&&void 0!==t?t:0),quantity:Number(null!==(n=null===e||void 0===e?void 0:e.quantity)&&void 0!==n?n:0)||1,img:e.img,supplierId:e.supplierId}});console.log("\ud83d\uded2 Cart Items before checkout:",e),console.log("\ud83d\uded2 Normalized OrderItems to send:",t);const n=t.filter(e=>!e.supplierId);if(n.length>0)return console.error("\u274c Missing supplierId in:",n),void alert("Some items are missing supplierId. Please re-add products to cart.");r("/AdminCheckout",{state:{items:t,total:a}})},children:"Proceed to checkout"})]})]})]})})},Df=e=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2}).format(Number(e)||0);const Of=function(){const e=te(),t=Z(),{clearCart:n,removeFromCart:r}=(0,i.useContext)(Ge),[a]=(0,i.useState)(()=>{const e=t.state||{};return{items:Array.isArray(e.items)?e.items:[],total:Number(e.total||0),mode:e.checkoutMode||"full",cartProductIds:Array.isArray(e.cartProductIds)?e.cartProductIds:[]}}),s=a.items,o=a.total,[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)("Cash Payment"),[h,p]=(0,i.useState)(""),[m,f]=(0,i.useState)(!1),[v,g]=(0,i.useState)(""),[y,b]=(0,i.useState)(""),[x,w]=(0,i.useState)(null),j=(0,i.useRef)(null),[N,k]=(0,i.useState)(!1),[_,S]=(0,i.useState)(!1),A="Bank Transfer"===d,C=e=>{const t=e.trim().replace(/\s/g,"");return/^0\d{9}$/.test(t)},L=e=>e.trim()?e.trim().split(/\s+/).length:0,P=e=>!e.trim()||L(e)>=5,E=(0,i.useMemo)(()=>s.reduce((e,t)=>e+Number(t.quantity||0),0),[s]),F=(0,i.useMemo)(()=>{var e;if(!s.length)return null;const t=1===s.length?s[0].name:"".concat(s.length," supplier items"),n=s.map(e=>"".concat(e.name," \xd7 ").concat(e.quantity)).join(", ");return{productId:s.map(e=>e.productId).join("-"),name:t,quantity:1,price:o,supplierId:(null===(e=s[0])||void 0===e?void 0:e.supplierId)||null,prefillNotes:n}},[s,o]),T=()=>{var e;F&&(g(""),null===(e=j.current)||void 0===e||e.click())};return s.length?(0,_e.jsx)("div",{className:"admin-checkout-page",children:(0,_e.jsxs)("div",{className:"checkout-container",children:[(0,_e.jsxs)("section",{className:"checkout-hero",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h1",{children:"Finalize supplier purchase"}),(0,_e.jsx)("p",{children:"Confirm contact details, choose a payment route, and attach any slips before submitting."})]}),(0,_e.jsxs)("div",{className:"checkout-pills",children:[(0,_e.jsxs)("span",{children:[s.length," items"]}),(0,_e.jsxs)("span",{children:[E," units"]}),(0,_e.jsx)("span",{children:Df(o)})]})]}),y&&(0,_e.jsx)("div",{className:"checkout-banner checkout-banner--success",children:y}),v&&(0,_e.jsx)("div",{className:"checkout-banner checkout-banner--error",children:v}),(0,_e.jsxs)("div",{className:"checkout-grid",children:[(0,_e.jsxs)("section",{className:"checkout-card checkout-card--form",children:[(0,_e.jsxs)("header",{className:"checkout-card__header",children:[(0,_e.jsx)("h2",{children:"Contact & payment"}),(0,_e.jsx)("p",{children:"Provide a point of contact for suppliers and tell us how you paid."})]}),(0,_e.jsxs)("div",{className:"checkout-fieldset",children:[(0,_e.jsx)("label",{htmlFor:"checkout-contact",children:"Contact number"}),(0,_e.jsx)("input",{id:"checkout-contact",type:"tel",value:l,onChange:e=>c(e.target.value),onBlur:()=>k(!0),placeholder:"e.g. 0712345678",autoComplete:"tel",maxLength:"10",pattern:"0[0-9]{9}",title:"Enter a 10-digit phone number starting with 0",className:N&&l&&!C(l)?"invalid":""}),(0,_e.jsx)("small",{className:"field-help ".concat(N&&l&&!C(l)?"field-help--error":""),children:N&&l&&!C(l)?"\u274c Invalid format. Use 10 digits starting with 0 (e.g., 0712345678)":"Enter 10 digits starting with 0 (e.g., 0712345678)"})]}),(0,_e.jsxs)("div",{className:"checkout-fieldset",children:[(0,_e.jsx)("label",{htmlFor:"checkout-notes",children:"Internal notes (optional)"}),(0,_e.jsx)("textarea",{id:"checkout-notes",rows:3,value:h,onChange:e=>p(e.target.value),onBlur:()=>S(!0),placeholder:"Add reminders for the finance team or delivery instructions (minimum 5 words if provided)",className:_&&h.trim()&&!P(h)?"invalid":""}),(0,_e.jsx)("small",{className:"field-help ".concat(_&&h.trim()&&!P(h)?"field-help--error":""),children:h.trim()?(0,_e.jsxs)(_e.Fragment,{children:["Word count: ",L(h),_&&!P(h)&&(0,_e.jsx)("span",{className:"text-error",children:" (minimum 5 words required)"})]}):"Optional field - minimum 5 words if you choose to add notes"})]}),(0,_e.jsxs)("div",{className:"checkout-fieldset",children:[(0,_e.jsx)("label",{htmlFor:"checkout-method",children:"Payment method"}),(0,_e.jsxs)("select",{id:"checkout-method",value:d,onChange:e=>u(e.target.value),children:[(0,_e.jsx)("option",{value:"Cash Payment",children:"Cash payment"}),(0,_e.jsx)("option",{value:"Bank Transfer",children:"Bank transfer"})]})]}),A&&(0,_e.jsxs)("div",{className:"checkout-slip-card",children:[(0,_e.jsxs)("div",{className:"checkout-slip-card__header",children:[(0,_e.jsx)("h3",{children:"Bank transfer slip"}),(0,_e.jsx)("p",{children:"Upload the deposit slip so finance can reconcile this purchase."})]}),(0,_e.jsx)("input",{type:"file",ref:j,onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;const r="SUP-".concat(Date.now()),a={paymentName:(null===F||void 0===F?void 0:F.name)||n.name,referenceId:r,amount:o,notes:(null===F||void 0===F?void 0:F.prefillNotes)||"",slipFile:n,fileName:n.name};w(a),b('Slip "'.concat(a.paymentName,'" attached for this order.')),g(""),e.target&&(e.target.value="")},accept:"image/*,.pdf",style:{display:"none"}}),x?(0,_e.jsxs)("div",{className:"checkout-slip-card__body",children:[(0,_e.jsxs)("div",{className:"slip-meta",children:[(0,_e.jsx)("span",{className:"slip-status",children:"Slip attached"}),(0,_e.jsx)("h4",{children:x.paymentName||"Supplier payment"}),(0,_e.jsxs)("dl",{children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("dt",{children:"Reference"}),(0,_e.jsx)("dd",{children:x.referenceId||"\u2014"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("dt",{children:"Amount"}),(0,_e.jsx)("dd",{children:Df(x.amount)})]})]}),x.notes&&(0,_e.jsx)("p",{className:"slip-notes",children:x.notes}),x.fileName&&(0,_e.jsxs)("p",{className:"slip-notes",children:["File: ",x.fileName]})]}),(0,_e.jsxs)("div",{className:"checkout-slip-card__actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:T,children:"Replace slip"}),(0,_e.jsx)("button",{type:"button",className:"btn btn-link",onClick:()=>{w(null),b("Slip attachment removed."),j.current&&(j.current.value="")},children:"Remove"})]})]}):(0,_e.jsxs)("div",{className:"checkout-slip-card__body checkout-slip-card__body--empty",children:[(0,_e.jsx)("p",{children:"Attach the scanned deposit slip. Click \u201cUpload slip\u201d to pick the image or PDF from your device and we\u2019ll attach it to this order."}),(0,_e.jsx)("button",{type:"button",className:"btn btn-primary",onClick:T,children:"Upload slip"})]})]})]}),(0,_e.jsxs)("aside",{className:"checkout-summary-card",children:[(0,_e.jsxs)("header",{className:"checkout-summary__header",children:[(0,_e.jsx)("h2",{children:"Order summary"}),(0,_e.jsx)("p",{children:"Double-check quantities before confirming the purchase."})]}),(0,_e.jsx)("ul",{className:"checkout-line-items",children:s.map(e=>(0,_e.jsxs)("li",{children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h4",{children:e.name}),(0,_e.jsxs)("p",{children:[e.quantity," units \xd7 ",Df(e.price)]})]}),(0,_e.jsx)("span",{children:Df(e.price*e.quantity)})]},e.productId))}),(0,_e.jsxs)("div",{className:"checkout-summary__totals",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("span",{children:"Subtotal"}),(0,_e.jsx)("span",{children:Df(o)})]}),(0,_e.jsxs)("div",{className:"checkout-summary__totals--accent",children:[(0,_e.jsx)("span",{children:"Amount payable"}),(0,_e.jsx)("span",{children:Df(o)})]})]}),(0,_e.jsx)("button",{className:"btn btn-primary checkout-submit",type:"button",onClick:async()=>{if(g(""),b(""),!l.trim())return void g("Please enter a contact number.");const t=l.trim().replace(/\s/g,"");if(!/^0\d{9}$/.test(t))return void g("Contact number must be 10 digits starting with 0 (e.g., 0712345678).");if(h.trim()){if(h.trim().split(/\s+/).length<5)return void g("Internal notes must contain at least 5 words if provided.")}if(!s.length)return void g("Your checkout session has expired. Please return to the cart.");if(A&&(null===x||void 0===x||!x.slipFile))return void g("Attach your bank transfer slip before placing the order.");f(!0);const i=new FormData;i.append("contact",l.trim()),i.append("paymentMethod",d),i.append("totalCost",o),i.append("status","Pending"),i.append("items",JSON.stringify(s));const c=[h,null===x||void 0===x?void 0:x.notes].filter(Boolean).join(" | ");c&&i.append("notes",c),A&&null!==x&&void 0!==x&&x.slipFile&&i.append("slip",x.slipFile);try{const t=localStorage.getItem("token"),s=await fetch("".concat("http://localhost:5000","/api/admin-orders"),{method:"POST",headers:t?{Authorization:"Bearer ".concat(t)}:{},body:i}),o=await s.json();s.ok?("single"===a.mode&&a.cartProductIds.length?a.cartProductIds.forEach(e=>r(e)):n(),alert("Order placed successfully!"),e("/AdminDashboard")):g(o.message||"Failed to place order. Please try again.")}catch(u){g("Something went wrong while placing the order. Please try again."),console.error("\u274c Error placing order:",u)}finally{f(!1)}},disabled:m,children:m?"Placing order\u2026":"Confirm purchase"})]})]})]})}):(0,_e.jsx)("div",{className:"admin-checkout-page",children:(0,_e.jsx)("div",{className:"checkout-container",children:(0,_e.jsxs)("div",{className:"checkout-empty",children:[(0,_e.jsx)("h2",{children:"Checkout session expired"}),(0,_e.jsx)("p",{children:"Head back to the supplier cart to refresh your items and start again."}),(0,_e.jsx)("button",{className:"btn btn-primary",type:"button",onClick:()=>e("/AdminCart"),children:"Return to supplier cart"})]})})})};const If=function(){var e;const[t,n]=(0,i.useState)([]),[r,a]=(0,i.useState)([]),[s,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(""),[m,f]=(0,i.useState)("asc"),v=te(),g=Z();return(0,i.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch("http://localhost:5000/api/admin-orders",{headers:{"Content-Type":"application/json",Authorization:e?"Bearer ".concat(e):""}});if(!t.ok)throw new Error("Failed to fetch orders: ".concat(t.status));const r=await t.json(),i=Array.isArray(r)?r:[];n(i),a(i)}catch(e){console.error("Error fetching orders:",e),alert("Error connecting to server.")}finally{o(!1)}})()},[null===(e=g.state)||void 0===e?void 0:e.refresh]),(0,_e.jsxs)("div",{className:"admin-orders-page",children:[(0,_e.jsx)("h2",{children:"Admin Orders"}),(0,_e.jsxs)("div",{style:{marginBottom:"15px",display:"flex",gap:"5px"},children:[(0,_e.jsx)("input",{type:"text",placeholder:"Search Orders",value:l,onChange:e=>c(e.target.value),style:{padding:"5px",width:"250px"}}),(0,_e.jsx)("button",{onClick:()=>{const e=l.toLowerCase(),t=n=>null!=n&&("object"===typeof n?Array.isArray(n)?n.some(e=>t(e)):Object.values(n).some(e=>t(e)):n.toString().toLowerCase().includes(e)),a=r.filter(e=>t(e));n(a),u(0===a.length)},children:"Search"}),(0,_e.jsxs)("select",{value:h,onChange:e=>(e=>{if(!e)return;p(e);const r=[...t].sort((t,n)=>{var r,a,i,s;let o=t[e],l=n[e];return"createdAt"===e&&(o=o?new Date(o).getTime():0,l=l?new Date(l).getTime():0),"number"===typeof o&&"number"===typeof l?"asc"===m?o-l:l-o:"asc"===m?((null===(r=o)||void 0===r?void 0:r.toString())||"").localeCompare((null===(a=l)||void 0===a?void 0:a.toString())||""):((null===(i=l)||void 0===i?void 0:i.toString())||"").localeCompare((null===(s=o)||void 0===s?void 0:s.toString())||"")});n(r),f("asc"===m?"desc":"asc")})(e.target.value),style:{padding:"5px"},children:[(0,_e.jsx)("option",{value:"",children:"Sort By"}),(0,_e.jsx)("option",{value:"totalCost",children:"Total Cost"}),(0,_e.jsx)("option",{value:"createdAt",children:"Created Date"}),(0,_e.jsx)("option",{value:"status",children:"Status"})]})]}),s?(0,_e.jsx)("p",{children:"Loading orders..."}):(0,_e.jsxs)("table",{className:"orders-table",children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"Order ID"}),(0,_e.jsx)("th",{children:"Supplier"}),(0,_e.jsx)("th",{children:"Total Cost"}),(0,_e.jsx)("th",{children:"Status"}),(0,_e.jsx)("th",{children:"Items"}),(0,_e.jsx)("th",{children:"Notes"}),(0,_e.jsx)("th",{children:"Created At"}),(0,_e.jsx)("th",{children:"Actions"})]})}),(0,_e.jsx)("tbody",{children:d?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:"8",style:{textAlign:"center"},children:"No orders found."})}):0===t.length?(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:"8",style:{textAlign:"center"},children:"No orders available."})}):t.map(e=>{var t;return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:e._id}),(0,_e.jsx)("td",{children:"string"===typeof e.supplierId?e.supplierId:(null===(t=e.supplierId)||void 0===t?void 0:t.name)||"N/A"}),(0,_e.jsx)("td",{children:Dr(e.totalCost)}),(0,_e.jsx)("td",{children:e.status||"Pending"}),(0,_e.jsx)("td",{children:Array.isArray(e.items)&&e.items.length>0?e.items.map((e,t)=>(0,_e.jsxs)("div",{children:[e.name," \xd7 ",e.quantity," (",Dr(e.price),")"]},t)):"No items"}),(0,_e.jsx)("td",{children:e.notes||"None"}),(0,_e.jsx)("td",{children:e.createdAt?new Date(e.createdAt).toLocaleString():"N/A"}),(0,_e.jsxs)("td",{children:[(0,_e.jsx)("button",{className:"update-btn",onClick:()=>(e=>{v("/AdminUpdateOrder/".concat(e))})(e._id),children:"Update"}),(0,_e.jsx)("button",{className:"cancel-btn",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to cancel this order?"))try{const t=localStorage.getItem("token"),r=await fetch("http://localhost:5000/api/admin-orders/".concat(e,"/cancel"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t?"Bearer ".concat(t):""}}),i=await r.json();r.ok?(alert(i.message||"Order cancelled successfully"),n(t=>t.filter(t=>t._id!==e)),a(t=>t.filter(t=>t._id!==e))):alert(i.message||"Failed to cancel order")}catch(t){console.error("Error cancelling order:",t),alert("Error cancelling order.")}})(e._id),children:"Cancel"})]})]},e._id)})})]})]})};const Mf=function(){var e;const[t,n]=(0,i.useState)(null),r=te(),{id:a}=ne();return(0,i.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Rr.get("http://localhost:5000/api/admin-orders/".concat(a),{headers:{Authorization:e?"Bearer ".concat(e):""}});console.log("Fetched admin order:",t.data),n(t.data||null)}catch(a_){console.error("Error fetching admin order:",a_),alert("Failed to fetch order data.")}})()},[a]),t?(0,_e.jsxs)("div",{className:"admin-update-order-container",children:[(0,_e.jsx)("h1",{children:"Update Admin Order"}),(0,_e.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Updating admin order:",t),(async()=>{try{var e;const n=localStorage.getItem("token");200===(await Rr.put("http://localhost:5000/api/admin-orders/".concat(a),{supplierId:(null===(e=t.supplierId)||void 0===e?void 0:e._id)||null,status:t.status,notes:t.notes,items:t.items.map(e=>({name:e.name,quantity:e.quantity,price:e.price,supplierId:e.supplierId,productId:e.productId})),totalCost:t.items.reduce((e,t)=>e+t.price*t.quantity,0)},{headers:{Authorization:n?"Bearer ".concat(n):""}})).status&&(alert("Order updated successfully!"),r("/AdminOrders",{state:{refresh:!0}}))}catch(a_){console.error("Error updating admin order:",a_),alert("Failed to update order.")}})()},children:[(0,_e.jsxs)("p",{children:[(0,_e.jsx)("strong",{children:"Supplier:"})," ",(null===(e=t.supplierId)||void 0===e?void 0:e.name)||"N/A"]}),(0,_e.jsxs)("p",{children:[(0,_e.jsx)("strong",{children:"Total Cost:"})," ",Dr(t.items.reduce((e,t)=>e+t.price*t.quantity,0))]}),(0,_e.jsx)("h3",{children:"Items:"}),t.items.map((e,r)=>(0,_e.jsxs)("div",{style:{marginBottom:"15px"},className:"item-block",children:[(0,_e.jsxs)("p",{children:[(0,_e.jsx)("strong",{children:e.name})," @ ",Dr(e.price)]}),(0,_e.jsx)("label",{children:"Quantity:"}),(0,_e.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:e=>((e,r)=>{const a=[...t.items];a[e].quantity=Number(r),n(ke(ke({},t),{},{items:a}))})(r,e.target.value)})]},r)),(0,_e.jsx)("br",{}),(0,_e.jsx)("button",{type:"submit",children:"Update Order"})]})]}):(0,_e.jsx)("p",{children:"Loading admin order..."})};function Bf(){const[e,t]=(0,i.useState)("Recording your payment\u2026"),[n,r]=(0,i.useState)(!0),a=te();return(0,i.useEffect)(()=>{(async()=>{try{const e=new URLSearchParams(window.location.search).get("session_id");if(!e)return t("\u274c Missing session_id in URL."),void r(!1);const n=localStorage.getItem("token"),i=await fetch("http://localhost:5000/api/payments/stripe/record-session",{method:"POST",headers:ke({"Content-Type":"application/json"},n?{Authorization:"Bearer ".concat(n)}:{}),body:JSON.stringify({sessionId:e})}),s=await i.json();i.ok?(t("\u2705 Payment saved! Redirecting to your dashboard\u2026"),setTimeout(()=>a("/dashboard?tab=orders"),3e3)):t("\u274c "+((null===s||void 0===s?void 0:s.message)||(null===s||void 0===s?void 0:s.error)||"Failed to save payment."))}catch(e){console.error("Payment success error:",e),t("\u274c Failed to save payment due to an error.")}finally{r(!1)}})()},[a]),(0,_e.jsxs)("div",{style:{maxWidth:640,margin:"60px auto",textAlign:"center"},children:[(0,_e.jsx)("h1",{children:"Payment Successful"}),(0,_e.jsx)("p",{children:e}),!n&&(0,_e.jsx)("a",{href:"/dashboard?tab=orders",style:{textDecoration:"underline"},children:"Go to Dashboard"})]})}const Uf="http://localhost:5000".replace(/\/$/,""),zf=e=>e?String(e).replace(/[{}]/g,"").trim():"";function qf(){const[e]=lt(),t=te(),{user:n,token:r}=Ae(),a=zf(e.get("productId")||""),s=e.get("productName")||"",o=e.get("rid"),[l,c]=(0,i.useState)({id:a,name:s}),[d,u]=(0,i.useState)(5),[h,p]=(0,i.useState)(""),[m,f]=(0,i.useState)(""),[v,g]=(0,i.useState)([]),[y,b]=(0,i.useState)([]),[x,w]=(0,i.useState)([]),[j,N]=(0,i.useState)(null),[k,_]=(0,i.useState)(!1),[S,A]=(0,i.useState)(""),[C,L]=(0,i.useState)([]),[P,E]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(!n)return void t("/login");let e=!1;return async function(){if(A(""),L([]),N(null),E(!1),o)try{const t={Authorization:"Bearer ".concat(r),"x-user-id":n._id,"x-user-role":n.role,"x-user-name":n.name},{data:i}=await Rr.get("".concat(Uf,"/api/reviews/").concat(o),{headers:t});if(e)return;N(i),u(i.rating),p(i.title||""),f(i.comment||"");const l=Array.isArray(i.images)?i.images:[];b(l),w(l),c({id:zf(i.targetKey||i.targetId||a),name:i.targetName||s})}catch(n_){var t,i;if(!e)A((null===n_||void 0===n_||null===(t=n_.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)||n_.message||"Failed to load review")}else if(b([]),w([]),a)try{const t={Authorization:"Bearer ".concat(r),"x-user-id":n._id,"x-user-role":n.role,"x-user-name":n.name},{data:i}=await Rr.get("".concat(Uf,"/api/reviews/product/").concat(a,"/can-review"),{headers:t});if(e)return;var l;if(!i.canReview&&i.hasReviewed)A('You have already reviewed this product. You can edit your existing review from "My Reviews".'),N(i.existingReview);else c({id:a,name:s||(null===(l=i.product)||void 0===l?void 0:l.name)||"Unknown Product"})}catch(n_){var d,h;if(console.error("\u274c Error checking product details:",n_),console.log("\u27a1\ufe0f productId:",a,"\u27a1\ufe0f productName:",s),!e)A((null===n_||void 0===n_||null===(d=n_.response)||void 0===d||null===(h=d.data)||void 0===h?void 0:h.message)||"Error checking product details")}else console.warn("\u26a0\ufe0f Missing productId or productName:",{productId:a,productName:s}),A("Product information is missing")}(),()=>{e=!0}},[o,a,s,n,r,t]);const F=m.trim()?m.trim().split(/\s+/).filter(Boolean).length:0,T=F<5,R=async()=>{if((()=>{const e=[];return d>=1&&d<=5||e.push("Rating must be 1..5"),h.length>200&&e.push("Title is too long (max 200)"),(m.trim()?m.trim().split(/\s+/).filter(Boolean).length:0)<5&&e.push("Comment must be at least 5 words"),m.length>3e3&&e.push("Comment is too long (max 3000)"),v.length+x.length>5&&e.push("Maximum 5 images allowed"),L(e),0===e.length})()){_(!0),A(""),L([]);try{const e={Authorization:"Bearer ".concat(r),"x-user-id":n._id,"x-user-role":n.role,"x-user-name":n.name},a=new FormData;a.append("targetType","Product"),l.id&&a.append("targetId",zf(l.id)),a.append("targetName",l.name),a.append("rating",d),a.append("title",h),a.append("comment",m),j&&a.append("retainImages",JSON.stringify(x)),v.forEach(e=>{a.append("images",e)}),j?await Rr.patch("".concat(Uf,"/api/reviews/").concat(j._id),a,{headers:e}):await Rr.post("".concat(Uf,"/api/reviews"),a,{headers:e}),E(!0),setTimeout(()=>{const e=zf(l.id||l._id||l.targetId||l.targetKey);if(!e||24!==e.length)return alert("\u26a0\ufe0f Invalid productId, redirecting to dashboard."),void t("/dashboard?tab=orders");t("/product/".concat(e,"/reviews"))},2e3)}catch(n_){var e,a,i,s;A((null===n_||void 0===n_||null===(e=n_.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||n_.message||"Server error"),L((null===n_||void 0===n_||null===(i=n_.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.errors)||[])}finally{_(!1)}}};return n?S&&!j?(0,_e.jsx)("div",{className:"submit-review-container",children:(0,_e.jsxs)("div",{className:"error-message",children:[(0,_e.jsx)("h2",{children:"Unable to Submit Review"}),(0,_e.jsx)("p",{children:S}),(0,_e.jsx)("button",{onClick:()=>t(-1),className:"btn btn-secondary btn-sm",children:"Go Back"})]})}):P?(0,_e.jsx)("div",{className:"submit-review-container",children:(0,_e.jsxs)("div",{className:"success-message",children:[(0,_e.jsx)("h2",{children:"\u2705 Review Submitted Successfully!"}),(0,_e.jsx)("p",{children:"Thank you for your feedback. Your review has been submitted and will be visible to other customers."}),(0,_e.jsx)("p",{children:"Redirecting you to the reviews page..."})]})}):(0,_e.jsx)("div",{className:"submit-review-container",children:(0,_e.jsxs)("div",{className:"review-form-card",children:[(0,_e.jsx)("h2",{children:j?"Edit Your Review":"Write a Review"}),(0,_e.jsxs)("div",{className:"product-info",children:[(0,_e.jsxs)("h3",{children:["Product: ",l.name]}),(0,_e.jsxs)("p",{className:"product-id",children:["ID: ",l.id]})]}),j&&(0,_e.jsx)("div",{className:"edit-notice",children:(0,_e.jsx)("p",{children:"You are editing your existing review for this product."})}),(0,_e.jsxs)("form",{onSubmit:e=>{e.preventDefault(),R()},children:[(0,_e.jsxs)("div",{className:"form-group",children:[(0,_e.jsx)("label",{children:"Rating *"}),(0,_e.jsx)(Jr,{value:d,onChange:u}),(0,_e.jsx)("small",{children:"Rate this product from 1 to 5 stars"})]}),(0,_e.jsxs)("div",{className:"form-group",children:[(0,_e.jsx)("label",{htmlFor:"title",children:"Review Title"}),(0,_e.jsx)("input",{id:"title",type:"text",value:h,onChange:e=>p(e.target.value),placeholder:"Summarize your experience (optional)",maxLength:200}),(0,_e.jsxs)("small",{children:[h.length,"/200 characters"]})]}),(0,_e.jsxs)("div",{className:"form-group",children:[(0,_e.jsx)("label",{htmlFor:"comment",children:"Your Review *"}),(0,_e.jsx)("textarea",{id:"comment",value:m,onChange:e=>f(e.target.value),placeholder:"Share your thoughts about this product...",rows:6,maxLength:3e3,required:!0}),(0,_e.jsxs)("small",{children:[m.length,"/3000 characters \u2022 ",F," word",1===F?"":"s"]}),T&&(0,_e.jsx)("p",{className:"error",children:"Please write at least 5 words to help other shoppers."})]}),j&&y.length>0&&(0,_e.jsxs)("div",{className:"form-group",children:[(0,_e.jsx)("label",{children:"Existing Photos"}),(0,_e.jsx)("small",{children:"Select photos to keep. Unselected images will be removed when you save."}),(0,_e.jsx)("div",{className:"image-previews existing",children:y.map((e,t)=>{const n=(e=>{if(!e)return"";const t=e.replace(/\\/g,"/");if(/^https?:\/\//i.test(t))return t;const n=t.startsWith("/")?t:"/".concat(t);return"".concat(Uf).concat(n)})(e),r=x.includes(e);return(0,_e.jsxs)("div",{className:"image-preview ".concat(r?"kept":"removed"),children:[(0,_e.jsx)("img",{src:n,alt:"Existing attachment ".concat(t+1)}),(0,_e.jsx)("button",{type:"button",onClick:()=>(e=>{w(t=>t.includes(e)?(A(""),t.filter(t=>t!==e)):t.length+v.length+1>5?(A("You can keep or upload a maximum of 5 images in total"),t):(A(""),[...t,e]))})(e),className:"toggle-image ".concat(r?"toggle-remove":"toggle-restore"),children:r?"Remove":"Keep"})]},t)})})]}),(0,_e.jsxs)("div",{className:"form-group",children:[(0,_e.jsx)("label",{htmlFor:"images",children:"Add Photos (Optional)"}),(0,_e.jsx)("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files);if(t.length+v.length+x.length>5)return void A("You can upload a maximum of 5 images");const n=t.filter(e=>e.type.startsWith("image/")?!(e.size>5242880)||(A("Each image must be less than 5MB"),!1):(A("Only image files are allowed"),!1));g(e=>[...e,...n]),A(""),e.target.value=""},disabled:v.length+x.length>=5}),(0,_e.jsx)("small",{children:"You can upload up to 5 images (max 5MB each)"}),v.length>0&&(0,_e.jsx)("div",{className:"image-previews",children:v.map((e,t)=>(0,_e.jsxs)("div",{className:"image-preview",children:[(0,_e.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview ".concat(t+1)}),(0,_e.jsx)("button",{type:"button",onClick:()=>(e=>{g(t=>t.filter((t,n)=>n!==e))})(t),className:"remove-image",children:"\xd7"})]},t))})]}),C.length>0&&(0,_e.jsx)("div",{className:"error-list",children:C.map((e,t)=>(0,_e.jsx)("p",{className:"error",children:e},t))}),S&&(0,_e.jsx)("div",{className:"error-message",children:(0,_e.jsx)("p",{children:S})}),(0,_e.jsxs)("div",{className:"form-actions",children:[(0,_e.jsx)("button",{type:"button",onClick:()=>t(-1),className:"btn-cancel",disabled:k,children:"Cancel"}),(0,_e.jsx)("button",{type:"submit",className:"btn-submit",disabled:k||!m.trim()||m.length<5,children:k?"Submitting...":j?"Update Review":"Submit Review"})]})]})]})}):(0,_e.jsx)("div",{className:"submit-review-container",children:(0,_e.jsxs)("div",{className:"auth-required",children:[(0,_e.jsx)("h2",{children:"Authentication Required"}),(0,_e.jsx)("p",{children:"Please log in to write a review."}),(0,_e.jsx)("button",{onClick:()=>t("/login"),className:"btn-login",children:"Go to Login"})]})})}const Vf="http://localhost:5000".replace(/\/$/,""),Hf=e=>{if(!e)return"";const t=e.replace(/\\/g,"/");if(/^https?:\/\//i.test(t))return t;const n=t.startsWith("/")?t:"/".concat(t);return"".concat(Vf).concat(n)},Wf=["images","image","imageUrl","media","attachments","photos"],Gf=["images","image","imageUrl","media","attachments","photos"],Yf=e=>{if(!e)return[];const t=e=>e?"string"===typeof e?e:"object"===typeof e?Array.isArray(e)?e.map(t).filter(Boolean):e.url||e.path||e.src||e.href||null:String(e):null;if(Array.isArray(e))return e.flatMap(e=>t(e)).filter(Boolean);if("string"===typeof e){try{const n=JSON.parse(e);if(Array.isArray(n))return n.flatMap(e=>t(e)).filter(Boolean)}catch(Dc){}return[e]}if("object"===typeof e){const n=t(e);if(Array.isArray(n))return n.filter(Boolean);if(n)return[n]}return[]},Kf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wf;if(!e)return[];for(const n of t){const t=Yf(e[n]);if(t.length)return t}return[]},$f=e=>{if(!e)return e;const t=Kf(e,Gf);return ke(ke({},e),{},{displayImages:t})},Jf=e=>{if(!e)return e;const t=Kf(e,Wf);return ke(ke({},e),{},{displayImages:t,replies:Array.isArray(e.replies)?e.replies.map($f):[]})};function Xf(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function Qf(){const{id:e}=ne(),t=te(),{user:n,token:r}=Ae(),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)({averageRating:0,totalReviews:0}),[u,h]=(0,i.useState)(1),[p,m]=(0,i.useState)(1),[f,v]=(0,i.useState)(!0),[g,y]=(0,i.useState)(!0),[b,x]=(0,i.useState)(""),[w,j]=(0,i.useState)(""),N=(0,i.useCallback)(async()=>{v(!0),x("");try{const{data:t}=await Rr.get("".concat(Vf,"/products/").concat(e));s(e=>ke(ke({},e),t))}catch(r){var t,n;x((null===r||void 0===r||null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||r.message||"Failed to load product details")}finally{v(!1)}},[e]),k=(0,i.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;y(!0),j("");try{var a,i,o,c,u,p,f,v,g;const y={params:{page:t,limit:5}};n&&r&&(y.headers={Authorization:"Bearer ".concat(r),"x-user-id":n._id,"x-user-role":n.role,"x-user-name":n.name});const{data:b}=await Rr.get("".concat(Vf,"/api/reviews/product/").concat(e),y);l((b.reviews||[]).map(Jf)),h((null===(a=b.pagination)||void 0===a?void 0:a.page)||t),m((null===(i=b.pagination)||void 0===i?void 0:i.pages)||1),d({averageRating:Number((null===(o=b.product)||void 0===o?void 0:o.averageRating)||0),totalReviews:Number(null!==(c=null!==(u=null!==(p=null===(f=b.product)||void 0===f?void 0:f.totalReviews)&&void 0!==p?p:null===(v=b.pagination)||void 0===v?void 0:v.total)&&void 0!==u?u:null===(g=b.reviews)||void 0===g?void 0:g.length)&&void 0!==c?c:0)}),b.product&&s(e=>ke(ke({},e),b.product))}catch(w){var b,x;l([]),j((null===w||void 0===w||null===(b=w.response)||void 0===b||null===(x=b.data)||void 0===x?void 0:x.message)||w.message||"Failed to load reviews")}finally{y(!1)}},[e,r,n]);(0,i.useEffect)(()=>{N()},[N]),(0,i.useEffect)(()=>{k(1)},[k]);const _=(0,i.useMemo)(()=>{if(c.totalReviews>0)return Math.round(10*c.averageRating)/10;if(!o.length)return 0;const e=o.reduce((e,t)=>e+(t.rating||0),0)/o.length;return Math.round(10*e)/10},[o,c]),S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.length?(0,_e.jsx)("div",{className:"review-images",children:e.map((e,n)=>(0,_e.jsx)("img",{src:Hf(e),alt:"Attachment ".concat(n+1," for ").concat(t||"this review"),className:"review-image",onClick:()=>window.open(Hf(e),"_blank"),onError:e=>{e.currentTarget.onerror=null,e.currentTarget.style.display="none"}},n))}):null},A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?(0,_e.jsx)("div",{className:"reply-images",children:e.map((e,t)=>(0,_e.jsx)("img",{src:Hf(e),alt:"Store response attachment ".concat(t+1),className:"reply-image",onClick:()=>window.open(Hf(e),"_blank"),onError:e=>{e.currentTarget.onerror=null,e.currentTarget.style.display="none"}},t))}):null},C=f||g;return(0,_e.jsxs)("div",{className:"product-reviews-container",children:[(0,_e.jsxs)("div",{className:"product-reviews-header",children:[(0,_e.jsxs)("div",{className:"product-summary",children:[(null===a||void 0===a?void 0:a.imageUrl)&&(0,_e.jsx)("img",{src:Hf(a.imageUrl),alt:a.name,className:"product-summary-image"}),(0,_e.jsxs)("div",{className:"product-summary-details",children:[(0,_e.jsx)("h1",{children:(null===a||void 0===a?void 0:a.name)||"Product Reviews"}),a&&(0,_e.jsxs)("p",{className:"product-meta",children:[(0,_e.jsxs)("span",{children:["Brand: ",a.brand||"N/A"]}),(0,_e.jsxs)("span",{children:["Category: ",a.category||"N/A"]})]}),(0,_e.jsxs)("div",{className:"product-rating-summary",children:[(0,_e.jsx)(Jr,{value:_,readOnly:!0,size:24}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("strong",{children:_}),(0,_e.jsx)("span",{children:" out of 5"})]}),(0,_e.jsxs)("span",{className:"rating-count",children:["(",c.totalReviews," reviews)"]})]})]})]}),(0,_e.jsxs)("div",{className:"product-actions",children:[(0,_e.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>t("/product/".concat(e)),children:"Back to Product"}),(0,_e.jsx)("button",{type:"button",className:"btn-primary",onClick:()=>{if(!n)return void t("/login",{state:{from:"/product/".concat(e,"/reviews")}});const r=encodeURIComponent((null===a||void 0===a?void 0:a.name)||"");t("/submit-review?productId=".concat(e,"&productName=").concat(r))},children:"Write a Review"})]})]}),b&&(0,_e.jsx)("div",{className:"error-message",children:(0,_e.jsx)("p",{children:b})}),w&&(0,_e.jsxs)("div",{className:"error-message",children:[(0,_e.jsx)("p",{children:w}),(0,_e.jsx)("button",{type:"button",className:"btn-retry",onClick:()=>k(u),children:"Try Again"})]}),C&&(0,_e.jsx)("div",{className:"loading",children:"Loading product reviews..."}),!C&&!o.length&&!w&&(0,_e.jsxs)("div",{className:"no-reviews",children:[(0,_e.jsx)("h3",{children:"No Reviews Yet"}),(0,_e.jsx)("p",{children:"Be the first to share your experience with this product."})]}),!C&&o.length>0&&(0,_e.jsx)("div",{className:"reviews-list",children:o.map(e=>{const t=Array.isArray(e.displayImages)?e.displayImages:Kf(e,Wf);return(0,_e.jsxs)("div",{className:"review-item-card",children:[(0,_e.jsxs)("div",{className:"review-header",children:[(0,_e.jsxs)("div",{className:"product-info",children:[(0,_e.jsx)("h3",{className:"product-name",children:e.userName||"Verified Customer"}),(0,_e.jsxs)("p",{className:"review-date",children:["Reviewed on ",Xf(e.createdAt)]})]}),(0,_e.jsxs)("div",{className:"review-rating",children:[(0,_e.jsx)(Jr,{value:e.rating,readOnly:!0}),(0,_e.jsxs)("span",{className:"rating-number",children:[e.rating,"/5"]})]})]}),e.title&&(0,_e.jsx)("h4",{className:"review-title",children:e.title}),e.comment&&(0,_e.jsx)("p",{className:"review-comment",children:e.comment}),S(t,e.title||(null===a||void 0===a?void 0:a.name)),Array.isArray(e.replies)&&e.replies.length>0&&(0,_e.jsxs)("div",{className:"admin-replies",children:[(0,_e.jsx)("h5",{children:"Store Response"}),e.replies.map((e,t)=>{const n=Array.isArray(e.displayImages)?e.displayImages:Kf(e,Gf);return(0,_e.jsxs)("div",{className:"admin-reply",children:[(0,_e.jsxs)("div",{className:"reply-header",children:[(0,_e.jsx)("span",{className:"admin-name",children:e.adminName||"Store Admin"}),e.createdAt&&(0,_e.jsx)("span",{className:"reply-date",children:Xf(e.createdAt)})]}),(0,_e.jsx)("p",{className:"reply-message",children:e.message}),A(n)]},e._id||t)})]})]},e._id||e.reviewNo)})}),p>1&&!C&&(0,_e.jsxs)("div",{className:"pagination",children:[(0,_e.jsx)("button",{type:"button",className:"pagination-btn",onClick:()=>k(u-1),disabled:u<=1||g,children:"Previous"}),(0,_e.jsxs)("span",{className:"pagination-info",children:["Page ",u," of ",p]}),(0,_e.jsx)("button",{type:"button",className:"pagination-btn",onClick:()=>k(u+1),disabled:u>=p||g,children:"Next"})]})]})}function Zf(){return(0,_e.jsx)(Jm,{initialTab:"care"})}const ev="http://localhost:5000".replace(/\/$/,""),tv={pending:"badge badge-amber",processing:"badge badge-blue",accepted:"badge badge-green",declined:"badge badge-red"},nv=function(){return String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},rv=e=>{var t;return"staff"===(null===e||void 0===e?void 0:e.authorType)?"Support":(null===e||void 0===e||null===(t=e.author)||void 0===t?void 0:t.name)||"You"};function av(){var e;const{token:t}=Ae(),[n,r]=(0,i.useState)(!0),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)(""),[p,m]=(0,i.useState)(!1),f=(0,i.useMemo)(()=>o.find(e=>(null===e||void 0===e?void 0:e._id)===c)||null,[o,c]),v=async()=>{try{r(!0),s("");const e=await fetch("".concat(ev,"/api/refunds/mine"),{headers:{"Content-Type":"application/json",Authorization:t?"Bearer ".concat(t):void 0}});if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error((null===t||void 0===t?void 0:t.message)||"Failed to load refund requests")}const n=await e.json(),a=Array.isArray(null===n||void 0===n?void 0:n.data)?n.data:[];l(a),a.length&&!c&&d(a[0]._id)}catch(e){s((null===e||void 0===e?void 0:e.message)||"Unable to load refund requests"),l([])}finally{r(!1)}};(0,i.useEffect)(()=>{if(!t)return r(!1),void s("You need to be logged in to view refunds");v()},[t]);return(0,_e.jsxs)("section",{className:"my-refunds stack-lg",children:[(0,_e.jsxs)("header",{className:"stack-sm",children:[(0,_e.jsx)("h2",{className:"heading-md",children:"Refunds & returns"}),(0,_e.jsx)("p",{className:"muted-text",children:"Track the status of your refund and return requests. You can add extra details for our team at any time."})]}),(0,_e.jsxs)("div",{className:"card stack-sm",style:{padding:"20px"},children:[(0,_e.jsxs)("div",{className:"refunds-toolbar",children:[(0,_e.jsxs)("div",{className:"stack-xs",children:[(0,_e.jsx)("strong",{children:"Need to start a new refund?"}),(0,_e.jsxs)("span",{children:["Visit your ",(0,_e.jsx)(it,{to:"/CustomerOrders",children:"order history"})," and choose the item you want to request a refund for."]})]}),(0,_e.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:v,disabled:n,children:n?"Refreshing":"Refresh"})]}),a&&(0,_e.jsx)("div",{className:"status-banner status-banner--error",children:a}),n?(0,_e.jsx)("p",{children:"Loading refund requests\u2026"}):0===o.length?(0,_e.jsx)("div",{className:"orders-empty-state",children:"You have not submitted any refund requests yet."}):(0,_e.jsxs)("div",{className:"refunds-layout",children:[(0,_e.jsx)("aside",{className:"refunds-list",children:o.map(e=>{var t,n,r,a;const i=String(e.status||"pending").toLowerCase(),s=tv[i]||"badge",o=Dr(((null===(t=e.item)||void 0===t?void 0:t.price)||0)*((null===(n=e.item)||void 0===n?void 0:n.quantity)||1)),l=e.createdAt?new Date(e.createdAt).toLocaleString():"";return(0,_e.jsxs)("button",{type:"button",onClick:()=>d(e._id),className:"refunds-list__item ".concat(e._id===c?"is-active":""),children:[(0,_e.jsxs)("div",{className:"refunds-list__head",children:[(0,_e.jsx)("span",{className:s,children:nv(i)}),(0,_e.jsx)("span",{className:"refunds-list__date",children:l})]}),(0,_e.jsx)("div",{className:"refunds-list__title",children:null===(r=e.item)||void 0===r?void 0:r.productName}),(0,_e.jsxs)("div",{className:"refunds-list__meta",children:["Qty ",(null===(a=e.item)||void 0===a?void 0:a.quantity)||1," \xb7 ",o]})]},e._id)})}),(0,_e.jsx)("article",{className:"refunds-detail",children:f?(0,_e.jsxs)("div",{className:"stack-md",children:[(0,_e.jsxs)("header",{className:"stack-xs",children:[(0,_e.jsx)("h3",{children:null===(e=f.item)||void 0===e?void 0:e.productName}),(0,_e.jsxs)("div",{className:"refunds-detail__status",children:[(0,_e.jsx)("span",{className:"refunds-detail__label",children:"Status"}),(0,_e.jsx)("span",{className:"refund-status-badge refund-status-badge--".concat(f.status),children:nv(f.status)})]}),(0,_e.jsxs)("div",{className:"refunds-detail__summary",children:[(0,_e.jsx)("span",{children:"Requested on"}),(0,_e.jsx)("span",{children:f.createdAt?new Date(f.createdAt).toLocaleString():""})]})]}),(0,_e.jsxs)("section",{className:"stack-sm",children:[(0,_e.jsx)("span",{className:"refunds-detail__label",children:"Reason"}),(0,_e.jsx)("p",{children:f.reason})]}),f.message&&(0,_e.jsxs)("section",{className:"stack-sm",children:[(0,_e.jsx)("span",{className:"refunds-detail__label",children:"Your note"}),(0,_e.jsx)("p",{children:f.message})]}),Array.isArray(f.messages)&&f.messages.length>0&&(0,_e.jsxs)("section",{className:"stack-sm",children:[(0,_e.jsx)("span",{className:"refunds-detail__label",children:"Conversation"}),(0,_e.jsx)("div",{className:"refund-thread",children:(0,_e.jsx)("ul",{className:"refund-thread__list",children:f.messages.map((e,t)=>(0,_e.jsxs)("li",{children:[(0,_e.jsxs)("div",{className:"refund-thread__meta",children:[(0,_e.jsx)("strong",{children:rv(e)}),(0,_e.jsx)("span",{children:e.createdAt?new Date(e.createdAt).toLocaleString():""})]}),(0,_e.jsx)("p",{children:e.message})]},"".concat(e.createdAt||t,"-").concat(t)))})})]}),(0,_e.jsxs)("form",{className:"refund-reply stack-sm",onSubmit:async e=>{if(e.preventDefault(),f&&u.trim()){m(!0);try{const e=await fetch("".concat(ev,"/api/refunds/").concat(f._id,"/reply"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t?"Bearer ".concat(t):void 0},body:JSON.stringify({message:u.trim()})}),n=await e.json().catch(()=>({}));if(!e.ok)throw new Error((null===n||void 0===n?void 0:n.message)||"Failed to send reply");l(e=>e.map(e=>e._id===n._id?n:e)),h("")}catch(n){alert((null===n||void 0===n?void 0:n.message)||"Failed to send reply")}finally{m(!1)}}},children:[(0,_e.jsx)("label",{htmlFor:"refund-reply",children:"Add an update for our team"}),(0,_e.jsx)("textarea",{id:"refund-reply",rows:3,placeholder:"Provide more context or attach additional details.",value:u,onChange:e=>h(e.target.value),disabled:p}),(0,_e.jsx)("div",{className:"refund-form__actions",children:(0,_e.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:p||!u.trim(),children:p?"Sending\u2026":"Send update"})})]})]}):(0,_e.jsx)("div",{className:"orders-empty-state",children:"Select a refund request to see the details."})})]})]})]})}function iv(){return(0,_e.jsx)(av,{})}const sv=Gh("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ov=Gh("package-2",[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]]),lv=Gh("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),cv=Gh("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),dv=Gh("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),uv=Gh("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),hv=Gh("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]),pv="http://localhost:5000".replace(/\/$/,""),mv=[{name:"Inventory Management",description:"Plan, monitor, and optimize stock in real time. Automated low-stock alerts keep every project on track.",icon:sv,ctaLabel:"View dashboard",path:"/InventoryDashboard",requiresAuth:!0},{name:"Equipment Rental",description:"Source premium, well-maintained tools on demand. Flexible rental periods with instant online booking.",icon:ov,ctaLabel:"Browse tools",path:"/customer-products",requiresAuth:!1},{name:"Fast Delivery",description:"Same-day dispatch for in-stock items and live delivery tracking so your crews never have to wait.",icon:lv,ctaLabel:"Track orders",path:"/CustomerOrders",requiresAuth:!0},{name:"Extended Warranty",description:"Safeguard every purchase with coverage for repairs, replacements, and priority technical support.",icon:cv,ctaLabel:"Contact support",path:"/caredashboard",requiresAuth:!0}],fv=[{id:1,content:"The inventory portal transformed how we schedule crews. Downtime is down 40% since switching to Smart Hardware.",author:"Sarah Johnson",role:"Operations Manager, BuildRight Construction"},{id:2,content:"Their experts walked us through the best tooling mix for our new line. We hit deadlines without overspending.",author:"Michael Chen",role:"Owner, Chen's Furniture Workshop"},{id:3,content:"Reliable rentals and rapid delivery keep multi-site projects moving. It's like adding a logistics team overnight.",author:"David Rodriguez",role:"Project Manager, Urban Development Co."}],vv=[{id:"fallback-1",name:"Heavy Duty Impact Drill",description:"Industrial-grade drill with precision torque control for everyday site use.",price:129.99,category:"Power Tools",brand:"HardTech",imageUrl:"/images/POW.POW.627290870_1725432863741.webp"},{id:"fallback-2",name:"Pro Series Combination Pliers",description:"Hardened jaws and insulated grips keep crews productive and safe.",price:24.5,category:"Hand Tools",brand:"HardTech",imageUrl:"/images/combination-cutting-plier-500x500.webp"},{id:"fallback-3",name:"Smart Laser Distance Meter",description:"Bluetooth-enabled measurements with \xb11mm accuracy and cloud syncing.",price:89,category:"Measuring Tools",brand:"SmartMeasure",imageUrl:"/images/istockphoto-1448349078-612x612.jpg"},{id:"fallback-4",name:"Safety Pro Helmet & Visor Kit",description:"Lightweight composite shell with integrated visor for rugged sites.",price:54.75,category:"Safety Equipment",brand:"ShieldGuard",imageUrl:"/images/realistic-hand-tools-claw-hammer-with-yellow-accents-and-adjustable-wrench-free-png.webp"}];const gv=function(){const e=te(),t=Z(),{user:n}=Ae(),[r,a]=(0,i.useState)([]),[s,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(""),d=(0,i.useMemo)(()=>pv,[]);(0,i.useEffect)(()=>{const e=new AbortController;return async function(){try{o(!0),c("");const t=await fetch("".concat(pv,"/products"),{signal:e.signal});if(!t.ok)throw new Error("Unable to load products (".concat(t.status,")"));const n=await t.json(),r=Array.isArray(n)?n.slice(0,4):[];a(r.length?r:vv)}catch(a_){if("AbortError"===a_.name)return;console.error("Failed to load featured products:",a_),c("We couldn't load featured products right now. Please try again soon."),a(vv)}finally{e.signal.aborted||o(!1)}}(),()=>e.abort()},[]),(0,i.useEffect)(()=>{var n;const r=null===(n=t.state)||void 0===n?void 0:n.scrollTo;if(!r)return;const a=window.setTimeout(()=>{const e=document.getElementById(r);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},120);return e(t.pathname,{replace:!0}),()=>window.clearTimeout(a)},[t.state,t.pathname,e]);const u=()=>e("/customer-products");return(0,_e.jsx)("div",{className:"home-page",children:(0,_e.jsxs)("main",{className:"home-main",children:[(0,_e.jsx)("section",{className:"hero-section",id:"hero",children:(0,_e.jsxs)("div",{className:"hero-container",children:[(0,_e.jsxs)("div",{className:"hero-content",children:[(0,_e.jsx)("span",{className:"hero-eyebrow",children:"Professional Hardware Solutions"}),(0,_e.jsx)("h1",{className:"hero-title",children:"Equip every project with precision tools and frictionless management."}),(0,_e.jsx)("p",{className:"hero-description",children:"Streamline procurement, track inventory in real time, and deliver best-in-class customer experiences with the Smart Hardware platform."}),(0,_e.jsxs)("div",{className:"hero-actions",children:[(0,_e.jsx)("button",{className:"hero-primary",type:"button",onClick:u,children:"Browse Products"}),(0,_e.jsxs)("button",{className:"hero-secondary",type:"button",onClick:()=>{if(n){var t;const r=null===(t=n.role)||void 0===t?void 0:t.toLowerCase();e("admin"===r?"/AdminDashboard":"supplier"===r?"/SupplierDashboard":"customer care manager"===r?"/caredashboard":"/dashboard")}else e("/register")},children:[n?"Open Dashboard":"Management Solutions",(0,_e.jsx)(dv,{className:"icon","aria-hidden":"true"})]})]}),!n&&(0,_e.jsxs)("div",{className:"hero-auth",children:[(0,_e.jsx)("span",{children:"New to Smart Hardware?"}),(0,_e.jsx)("button",{type:"button",onClick:()=>e("/register"),children:"Create an account"}),(0,_e.jsx)("span",{className:"divider","aria-hidden":"true",children:"\xb7"}),(0,_e.jsx)("button",{type:"button",onClick:()=>e("/login"),children:"Sign in"})]}),(0,_e.jsxs)("div",{className:"hero-stats",children:[(0,_e.jsxs)("div",{className:"hero-stat",children:[(0,_e.jsx)("strong",{children:"2K+"}),(0,_e.jsx)("span",{children:"Products ready to ship"})]}),(0,_e.jsxs)("div",{className:"hero-stat",children:[(0,_e.jsx)("strong",{children:"98%"}),(0,_e.jsx)("span",{children:"On-time delivery rate"})]}),(0,_e.jsxs)("div",{className:"hero-stat",children:[(0,_e.jsx)("strong",{children:"24/7"}),(0,_e.jsx)("span",{children:"Specialist support"})]})]})]}),(0,_e.jsxs)("div",{className:"hero-visual",children:[(0,_e.jsx)("img",{src:"/images/OSH-Hardware-Shop.jpg",alt:"Hardware tools",loading:"lazy"}),(0,_e.jsxs)("div",{className:"hero-card",children:[(0,_e.jsx)("div",{className:"card-icon",children:(0,_e.jsx)(uv,{size:20,"aria-hidden":"true"})}),(0,_e.jsxs)("div",{className:"card-content",children:[(0,_e.jsx)("p",{children:"Smart restock reminders"}),(0,_e.jsx)("span",{children:"Get proactive alerts before supplies run low."})]})]})]})]})}),(0,_e.jsxs)("section",{className:"featured-products-section",id:"featured-products",children:[(0,_e.jsxs)("div",{className:"section-heading",children:[(0,_e.jsx)("span",{className:"section-eyebrow",children:"Featured Products"}),(0,_e.jsx)("h2",{children:"Tools teams rely on every day"}),(0,_e.jsx)("p",{children:"Hand-picked selections from our catalogue, refreshed weekly based on demand and customer feedback."})]}),l&&(0,_e.jsxs)("div",{className:"section-alert",children:[l," Showing curated highlights instead."]}),(0,_e.jsx)("div",{className:"product-grid","aria-live":"polite",children:s?Array.from({length:4}).map((e,t)=>(0,_e.jsx)("div",{className:"product-card skeleton"},"skeleton-".concat(t))):r.map(t=>{const n=(r=t.imageUrl)?/^https?:\/\//i.test(r)?r:"".concat(d).concat(r.startsWith("/")?"":"/").concat(r):"/images/logoo.png";var r;const a=t._id||t.id;return(0,_e.jsxs)("article",{className:"product-card",children:[(0,_e.jsx)("div",{className:"product-image",children:(0,_e.jsx)("img",{src:n,alt:t.name,loading:"lazy"})}),(0,_e.jsxs)("div",{className:"product-body",children:[(0,_e.jsx)("span",{className:"product-category",children:t.category||"Hardware"}),(0,_e.jsx)("h3",{className:"product-name",children:t.name}),(0,_e.jsx)("p",{className:"product-description",children:t.description}),(0,_e.jsxs)("div",{className:"product-meta",children:[(0,_e.jsx)("span",{className:"product-price",children:(i=t.price,void 0===i||null===i||Number.isNaN(Number(i))?"Contact for pricing":Dr(i))}),(0,_e.jsxs)("span",{className:"product-stock",children:[(0,_e.jsx)(Yh,{size:16,"aria-hidden":"true"}),t.brand?"".concat(t.brand):t.inStock?"In stock":"Popular"]})]}),(0,_e.jsx)("button",{type:"button",className:"product-cta",onClick:()=>null!==a&&void 0!==a&&a.toString().startsWith("fallback-")?u():e("/product/".concat(a)),children:"View Details"})]})]},a);var i})}),(0,_e.jsx)("div",{className:"section-actions",children:(0,_e.jsx)("button",{type:"button",onClick:u,className:"outlined-button",children:"View all products"})})]}),(0,_e.jsxs)("section",{className:"services-section",id:"services",children:[(0,_e.jsxs)("div",{className:"section-heading",children:[(0,_e.jsx)("span",{className:"section-eyebrow",children:"Our Services"}),(0,_e.jsx)("h2",{children:"Comprehensive support from supply to maintenance"}),(0,_e.jsx)("p",{children:"Every subscription unlocks integrated workflows, dedicated specialists, and data-driven insights tailored to your role."})]}),(0,_e.jsx)("div",{className:"services-grid",children:mv.map(t=>(0,_e.jsxs)("article",{className:"service-card",children:[(0,_e.jsx)("div",{className:"service-icon",children:(0,_e.jsx)(t.icon,{size:26,"aria-hidden":"true"})}),(0,_e.jsx)("h3",{children:t.name}),(0,_e.jsx)("p",{children:t.description}),(0,_e.jsxs)("button",{type:"button",onClick:()=>(t=>{t.path&&(!t.requiresAuth||n?e(t.path):e("/login"))})(t),children:[t.ctaLabel,(0,_e.jsx)(dv,{size:16,"aria-hidden":"true"})]})]},t.name))})]}),(0,_e.jsxs)("section",{className:"testimonials-section",id:"testimonials",children:[(0,_e.jsxs)("div",{className:"section-heading",children:[(0,_e.jsx)("span",{className:"section-eyebrow",children:"Testimonials"}),(0,_e.jsx)("h2",{children:"Trusted by field teams and facility managers alike"})]}),(0,_e.jsx)("div",{className:"testimonials-grid",children:fv.map(e=>(0,_e.jsxs)("figure",{className:"testimonial-card",children:[(0,_e.jsx)(hv,{className:"quote-icon",size:28,"aria-hidden":"true"}),(0,_e.jsx)("blockquote",{children:e.content}),(0,_e.jsxs)("figcaption",{children:[(0,_e.jsx)("span",{className:"avatar","aria-hidden":"true",children:e.author.charAt(0)}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("strong",{children:e.author}),(0,_e.jsx)("span",{children:e.role})]})]})]},e.id))})]}),(0,_e.jsx)("section",{className:"cta-section",children:(0,_e.jsxs)("div",{className:"cta-card",children:[(0,_e.jsx)("h2",{children:"Ready to modernize your hardware operations?"}),(0,_e.jsx)("p",{children:"Unlock unified product catalogues, role-based dashboards, and instant analytics for every stakeholder."}),(0,_e.jsxs)("div",{className:"cta-actions",children:[(0,_e.jsx)("button",{type:"button",className:"hero-primary",onClick:u,children:"Explore catalogue"}),(0,_e.jsxs)("button",{type:"button",className:"hero-secondary",onClick:()=>{if(n){var t;const r=null===(t=n.role)||void 0===t?void 0:t.toLowerCase();e("admin"===r?"/AdminDashboard":"supplier"===r?"/SupplierDashboard":"customer care manager"===r?"/caredashboard":"/dashboard")}else e("/login")},children:["Talk to our team",(0,_e.jsx)(dv,{className:"icon","aria-hidden":"true"})]})]})]})})]})})},yv=[{year:"2015",title:"Humble beginnings",copy:"We opened our first counter with a handful of power tools and a promise to bring reliable hardware to local builders."},{year:"2018",title:"Supplier partnerships",copy:"Expanded into smart hardware through close collaborations with leading manufacturers across Asia and Europe."},{year:"2021",title:"Service-first evolution",copy:"Launched on-site support, custom sourcing, and repair concierge to help pros keep every project on track."},{year:"2024",title:"Connected supply chain",copy:"Rolled out our digital storefront and inventory automation, giving teams real-time visibility from quote to delivery."}],bv=[{icon:"\ud83d\udee0\ufe0f",title:"Craftsmanship",copy:"We stand behind every product we stock. If it isn't workshop-worthy, it doesn't make the shelf."},{icon:"\ud83e\udd1d",title:"Partnership",copy:"From the weekend tinkerer to national contractors, we stay in the trenches until the job is done."},{icon:"\u26a1",title:"Responsiveness",copy:"Fast quotes, faster deliveries, and proactive alerts keep your crew focused on the build\u2014never the backlog."}];function xv(){return(0,_e.jsxs)("main",{className:"about",children:[(0,_e.jsxs)("section",{className:"about__hero",children:[(0,_e.jsx)("p",{className:"eyebrow",children:"Who we are"}),(0,_e.jsx)("h1",{children:"Powering every build with smarter hardware"}),(0,_e.jsx)("p",{className:"lead",children:"HardTech blends trusted tooling with connected logistics so your projects never miss a beat. We combine decades of retail experience with a forward-looking inventory platform crafted for contractors, suppliers, and facilities teams across Sri Lanka."}),(0,_e.jsxs)("div",{className:"hero-actions",children:[(0,_e.jsx)(it,{to:"/customer-products",className:"btn btn-primary",children:"Explore catalogue"}),(0,_e.jsx)("a",{href:"#values",className:"btn btn-outline",children:"Our values"})]})]}),(0,_e.jsxs)("section",{className:"about__grid","aria-labelledby":"about-values",id:"values",children:[(0,_e.jsxs)("div",{className:"about__grid-copy",children:[(0,_e.jsx)("h2",{id:"about-values",children:"Built around your site, not our shelves"}),(0,_e.jsx)("p",{children:"Whether you are scaling a residential development or maintaining a factory floor, we keep stock moving and teams aligned. Our blended inventory model unifies supplier feeds, warehouse levels, and custom orders into a single source of truth so you get what you need\u2014exactly when you need it."})]}),(0,_e.jsx)("ul",{className:"about__values",children:bv.map(e=>(0,_e.jsxs)("li",{children:[(0,_e.jsx)("span",{className:"value-icon","aria-hidden":"true",children:e.icon}),(0,_e.jsx)("h3",{children:e.title}),(0,_e.jsx)("p",{children:e.copy})]},e.title))})]}),(0,_e.jsxs)("section",{className:"about__timeline","aria-labelledby":"about-story",children:[(0,_e.jsx)("h2",{id:"about-story",children:"A timeline of getting things done"}),(0,_e.jsx)("ol",{children:yv.map(e=>(0,_e.jsxs)("li",{children:[(0,_e.jsx)("div",{className:"timeline-year",children:e.year}),(0,_e.jsxs)("div",{className:"timeline-card",children:[(0,_e.jsx)("h3",{children:e.title}),(0,_e.jsx)("p",{children:e.copy})]})]},e.year))})]}),(0,_e.jsx)("section",{className:"about__cta","aria-labelledby":"cta-heading",children:(0,_e.jsxs)("div",{className:"cta-card",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"eyebrow",children:"Ready to partner?"}),(0,_e.jsx)("h2",{id:"cta-heading",children:"Let\u2019s kit out your next project"}),(0,_e.jsx)("p",{children:"Our specialists are on call to source custom hardware, plan recurring shipments, and tailor the HardTech platform for your operations team."})]}),(0,_e.jsxs)("div",{className:"cta-actions",children:[(0,_e.jsx)(it,{to:"/register",className:"btn btn-primary",children:"Create customer account"}),(0,_e.jsx)(it,{to:"/register-supplier",className:"btn btn-secondary",children:"Join as supplier"})]})]})})]})}const wv=Gh("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),jv=Gh("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Nv=Gh("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),kv=Gh("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),_v=Gh("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Sv=Gh("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Av=Gh("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);const Cv=function(){const e=te(),t=Z(),{user:n,logout:r,theme:a,toggleTheme:s,deleteAccount:o}=Ae(),{cartItems:l}=(0,i.useContext)(Oe),[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),[f,v]=(0,i.useState)(!1),g=(0,i.useRef)(null),y=(0,i.useRef)(null),b=(0,i.useMemo)(()=>n?(l||[]).reduce((e,t)=>e+(t.quantity||0),0):0,[l,n]),x=(0,i.useMemo)(()=>{var e,t;const r=((null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.email)||"Guest User").trim().split(/\s+/);return((null===(e=r[0])||void 0===e?void 0:e[0])||"G").toUpperCase()+((null===(t=r[1])||void 0===t?void 0:t[0])||"").toUpperCase()},[null===n||void 0===n?void 0:n.name,null===n||void 0===n?void 0:n.email]),w=()=>{h(!1),m(!1)},j=(0,i.useMemo)(()=>"user"===String((null===n||void 0===n?void 0:n.role)||"").toLowerCase(),[null===n||void 0===n?void 0:n.role]),N=async()=>{if(!n)return void e("/login");if(window.confirm("Delete your SmartHardware account? This action is permanent and cannot be undone."))try{v(!0);const t=await o();w(),e("/"),window.alert((null===t||void 0===t?void 0:t.message)||"Your account has been deleted.")}catch(a_){window.alert(a_.message||"Failed to delete account")}finally{v(!1)}};(0,i.useEffect)(()=>{const e=e=>{u&&g.current&&!g.current.contains(e.target)&&h(!1),p&&y.current&&!y.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[u,p]);const k=t=>{e(t),w()},_=()=>{if(!n)return void e("/login");const t=((null===n||void 0===n?void 0:n.role)||"").toLowerCase();e("admin"===t?"/AdminDashboard":"supplier"===t?"/SupplierDashboard":"customer care manager"===t?"/caredashboard":"/dashboard"),w()},S=()=>{if(!n)return void e("/login");const t=((null===n||void 0===n?void 0:n.role)||"").toLowerCase();e("admin"===t?"/AdminDashboard#profile":"supplier"===t?"/SupplierDashboard#profile":"customer care manager"===t?"/caredashboard#profile":"/dashboard#profile"),w()},A=t=>{t.preventDefault();const n=c.trim(),r=n?"/customer-products?search=".concat(encodeURIComponent(n)):"/customer-products";e(r),w()},C=[{label:"Home",isActive:"/"===t.pathname,onClick:()=>k("/")},{label:"Products",isActive:t.pathname.startsWith("/customer-products")||t.pathname.startsWith("/product/"),onClick:()=>k("/customer-products")},{label:"Services",onClick:()=>(n=>{var r;w(),"/"!==t.pathname?e("/",{state:{scrollTo:n}}):null===(r=document.getElementById(n))||void 0===r||r.scrollIntoView({behavior:"smooth"})})("services")},{label:"About",isActive:"/about"===t.pathname,onClick:()=>k("/about")}];return(0,_e.jsxs)("header",{className:"site-header",children:[(0,_e.jsxs)("div",{className:"header-inner",children:[(0,_e.jsx)("div",{className:"brand",onClick:()=>k("/"),role:"button",tabIndex:0,children:(0,_e.jsxs)("div",{className:"brand-text",children:[(0,_e.jsx)("span",{className:"brand-name",children:"SmartHardware"}),(0,_e.jsx)("span",{className:"brand-subtitle",children:"Future-proof hardware hub"})]})}),(0,_e.jsx)("nav",{className:"primary-nav","aria-label":"Primary navigation",children:C.map(e=>(0,_e.jsx)("button",{type:"button",className:"nav-link ".concat(e.isActive?"active":""),onClick:e.onClick,children:e.label},e.label))}),(0,_e.jsxs)("div",{className:"header-actions",children:[(0,_e.jsxs)("form",{className:"search-form",onSubmit:A,children:[(0,_e.jsx)("input",{type:"search",placeholder:"Search tools, brands, or SKU",value:c,onChange:e=>d(e.target.value),"aria-label":"Search products"}),(0,_e.jsx)("button",{type:"submit",className:"search-submit","aria-label":"Submit search",children:(0,_e.jsx)(wv,{size:16,"aria-hidden":"true"})})]}),(0,_e.jsxs)("div",{className:"icon-cluster",children:[(0,_e.jsx)("button",{type:"button",className:"icon-button theme-toggle",onClick:s,title:"dark"===a?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle theme",children:"dark"===a?(0,_e.jsx)(jv,{size:16}):(0,_e.jsx)(Nv,{size:16})}),(0,_e.jsxs)("button",{type:"button",className:"icon-button cart-button",onClick:()=>{n?(e("/customercart"),w()):e("/login")},"aria-label":"View cart",children:[(0,_e.jsx)(uv,{size:16,"aria-hidden":"true"}),b>0&&(0,_e.jsx)("span",{className:"badge",children:b})]}),n?(0,_e.jsxs)("div",{className:"account-controls",ref:y,children:[(0,_e.jsx)("button",{type:"button",className:"icon-button profile-button",onClick:_,title:"Open dashboard","aria-label":"Open dashboard",children:(0,_e.jsx)(kv,{size:16,"aria-hidden":"true"})}),(0,_e.jsx)("button",{type:"button",className:"icon-button account-menu-toggle",onClick:()=>m(e=>!e),"aria-label":"Open account menu",children:(0,_e.jsx)(_v,{size:16,"aria-hidden":"true"})}),p&&(0,_e.jsxs)("div",{className:"account-menu",role:"menu",children:[(0,_e.jsxs)("div",{className:"account-summary",children:[(0,_e.jsx)("span",{className:"avatar","aria-hidden":"true",children:x}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{children:(null===n||void 0===n?void 0:n.name)||"Smart Hardware user"}),(0,_e.jsx)("span",{children:null===n||void 0===n?void 0:n.email})]})]}),(0,_e.jsx)("button",{type:"button",onClick:S,role:"menuitem",children:"View profile"}),j&&(0,_e.jsx)("button",{type:"button",onClick:N,role:"menuitem",className:"danger",disabled:f,children:f?"Deleting\u2026":"Delete account"}),(0,_e.jsx)("button",{type:"button",onClick:r,role:"menuitem",className:"danger",children:"Log out"})]})]}):(0,_e.jsxs)("div",{className:"auth-buttons",children:[(0,_e.jsx)("button",{type:"button",className:"text-button",onClick:()=>k("/login"),children:"Sign in"}),(0,_e.jsx)("button",{type:"button",className:"solid-button",onClick:()=>k("/register"),children:"Create account"}),(0,_e.jsx)("button",{type:"button",className:"text-button",onClick:()=>k("/register-supplier"),children:"Become a supplier"})]})]}),(0,_e.jsx)("button",{type:"button",className:"icon-button mobile-toggle",onClick:()=>h(e=>!e),"aria-label":"Toggle navigation",children:u?(0,_e.jsx)(Sv,{size:20,"aria-hidden":"true"}):(0,_e.jsx)(Av,{size:20,"aria-hidden":"true"})})]})]}),u&&(0,_e.jsxs)("div",{className:"mobile-panel",ref:g,children:[(0,_e.jsxs)("form",{className:"mobile-search",onSubmit:A,children:[(0,_e.jsx)("input",{type:"search",placeholder:"Search products...",value:c,onChange:e=>d(e.target.value)}),(0,_e.jsx)("button",{type:"submit",children:(0,_e.jsx)(wv,{size:16,"aria-hidden":"true"})})]}),(0,_e.jsx)("div",{className:"mobile-nav",children:C.map(e=>(0,_e.jsx)("button",{type:"button",onClick:e.onClick,children:e.label},e.label))}),n?(0,_e.jsxs)("div",{className:"mobile-account",children:[(0,_e.jsxs)("div",{className:"mobile-account-summary",children:[(0,_e.jsx)("span",{className:"avatar","aria-hidden":"true",children:x}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{children:(null===n||void 0===n?void 0:n.name)||"Smart Hardware user"}),(0,_e.jsx)("span",{children:null===n||void 0===n?void 0:n.email})]})]}),(0,_e.jsx)("button",{type:"button",onClick:_,children:"Go to dashboard"}),(0,_e.jsx)("button",{type:"button",onClick:S,children:"View profile"}),j&&(0,_e.jsx)("button",{type:"button",onClick:N,className:"danger",disabled:f,children:f?"Deleting\u2026":"Delete account"}),(0,_e.jsx)("button",{type:"button",onClick:r,className:"danger",children:"Sign out"})]}):(0,_e.jsxs)("div",{className:"mobile-auth",children:[(0,_e.jsx)("button",{type:"button",onClick:()=>k("/login"),children:"Sign in"}),(0,_e.jsx)("button",{type:"button",onClick:()=>k("/register"),children:"Create customer account"}),(0,_e.jsx)("button",{type:"button",onClick:()=>k("/register-supplier"),children:"Become a supplier"})]})]})]})},Lv=Gh("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Pv=Gh("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Ev=Gh("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Fv=Gh("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Tv=Gh("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Rv=Gh("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Dv=Gh("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);const Ov=function(){const e=te(),t=Z(),n=(new Date).getFullYear(),r=n=>{n&&("/"===t.pathname?"undefined"!==typeof window&&window.requestAnimationFrame(()=>{const e=document.getElementById(n);null===e||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"})}):e("/",{state:{scrollTo:n}}))},a=t=>{t&&e(t)};return(0,_e.jsxs)("footer",{className:"site-footer",children:[(0,_e.jsxs)("div",{className:"footer-top",children:[(0,_e.jsxs)("div",{className:"footer-brand",children:[(0,_e.jsx)("div",{className:"footer-logo",children:(0,_e.jsx)("span",{children:"SmartHardware"})}),(0,_e.jsx)("p",{children:"Streamline procurement, manage tooling, and keep every project on schedule with SmartHardware\u2019s integrated hardware platform."}),(0,_e.jsxs)("div",{className:"footer-social",children:[(0,_e.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit SmartHardware on Facebook",children:(0,_e.jsx)(Lv,{size:18,"aria-hidden":"true"})}),(0,_e.jsx)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit SmartHardware on Twitter",children:(0,_e.jsx)(Pv,{size:18,"aria-hidden":"true"})}),(0,_e.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit SmartHardware on Instagram",children:(0,_e.jsx)(Ev,{size:18,"aria-hidden":"true"})}),(0,_e.jsx)("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit SmartHardware on LinkedIn",children:(0,_e.jsx)(Fv,{size:18,"aria-hidden":"true"})})]})]}),(0,_e.jsxs)("div",{className:"footer-links",children:[(0,_e.jsx)("h4",{children:"Quick Links"}),(0,_e.jsx)("button",{type:"button",onClick:()=>r("hero"),children:"Overview"}),(0,_e.jsx)("button",{type:"button",onClick:()=>r("featured-products"),children:"Featured products"}),(0,_e.jsx)("button",{type:"button",onClick:()=>r("services"),children:"Services"}),(0,_e.jsx)("button",{type:"button",onClick:()=>r("testimonials"),children:"Testimonials"}),(0,_e.jsx)("button",{type:"button",onClick:()=>a("/customer-products"),children:"Catalogue"})]}),(0,_e.jsxs)("div",{className:"footer-links",children:[(0,_e.jsx)("h4",{children:"Solutions"}),(0,_e.jsx)("button",{type:"button",onClick:()=>a("/InventoryDashboard"),children:"Inventory dashboard"}),(0,_e.jsx)("button",{type:"button",onClick:()=>a("/CustomerOrders"),children:"Order tracking"}),(0,_e.jsx)("button",{type:"button",onClick:()=>a("/caredashboard"),children:"Customer care"}),(0,_e.jsx)("button",{type:"button",onClick:()=>a("/customercart"),children:"Shopping cart"}),(0,_e.jsx)("span",{children:"Enterprise onboarding"})]}),(0,_e.jsxs)("div",{className:"footer-contact",children:[(0,_e.jsx)("h4",{children:"Contact"}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Tv,{size:18,"aria-hidden":"true"}),(0,_e.jsx)("span",{children:"123 Hardware Street, Industrial District, Colombo"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Rv,{size:18,"aria-hidden":"true"}),(0,_e.jsx)("span",{children:"+94 11 456 7890"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Dv,{size:18,"aria-hidden":"true"}),(0,_e.jsx)("span",{children:"support@smarthardware.com"})]})]})]}),(0,_e.jsxs)("div",{className:"footer-bottom",children:[(0,_e.jsxs)("p",{children:["\xa9 ",n," SmartHardware. All rights reserved."]}),(0,_e.jsxs)("div",{className:"footer-meta-links",children:[(0,_e.jsx)("a",{href:"/privacy",children:"Privacy"}),(0,_e.jsx)("a",{href:"/terms",children:"Terms"}),(0,_e.jsx)("a",{href:"mailto:support@smarthardware.com",children:"Support"})]})]})]})},Iv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mv=(()=>new Set(Iv))(),Bv=e=>180*e/Math.PI,Uv=e=>{const t=Bv(Math.atan2(e[1],e[0]));return qv(t)},zv={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Uv,rotateZ:Uv,skewX:e=>Bv(Math.atan(e[1])),skewY:e=>Bv(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},qv=e=>((e%=360)<0&&(e+=360),e),Vv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Hv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Wv={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vv,scaleY:Hv,scale:e=>(Vv(e)+Hv(e))/2,rotateX:e=>qv(Bv(Math.atan2(e[6],e[5]))),rotateY:e=>qv(Bv(Math.atan2(-e[2],e[0]))),rotateZ:Uv,rotate:Uv,skewX:e=>Bv(Math.atan(e[4])),skewY:e=>Bv(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Gv(e){return e.includes("scale")?1:0}function Yv(e,t){if(!e||"none"===e)return Gv(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,a;if(n)r=Wv,a=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=zv,a=t}if(!a)return Gv(t);const i=r[t],s=a[1].split(",").map(Kv);return"function"===typeof i?i(s):s[i]}function Kv(e){return parseFloat(e.trim())}const $v=e=>t=>"string"===typeof t&&t.startsWith(e),Jv=$v("--"),Xv=$v("var(--"),Qv=e=>!!Xv(e)&&Zv.test(e.split("/*")[0].trim()),Zv=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function eg(e){let{top:t,left:n,right:r,bottom:a}=e;return{x:{min:n,max:r},y:{min:t,max:a}}}const tg=(e,t,n)=>e+(t-e)*n;function ng(e){return void 0===e||1===e}function rg(e){let{scale:t,scaleX:n,scaleY:r}=e;return!ng(t)||!ng(n)||!ng(r)}function ag(e){return rg(e)||ig(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ig(e){return sg(e.x)||sg(e.y)}function sg(e){return e&&"0%"!==e}function og(e,t,n){return n+t*(e-n)}function lg(e,t,n,r,a){return void 0!==a&&(e=og(e,a,r)),og(e,n,r)+t}function cg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;e.min=lg(e.min,t,n,r,a),e.max=lg(e.max,t,n,r,a)}function dg(e,t){let{x:n,y:r}=t;cg(e.x,n.translate,n.scale,n.originPoint),cg(e.y,r.translate,r.scale,r.originPoint)}const ug=.999999999999,hg=1.0000000000001;function pg(e,t){e.min=e.min+t,e.max=e.max+t}function mg(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;cg(e,t,n,tg(e.min,e.max,a),r)}function fg(e,t){mg(e.x,t.x,t.scaleX,t.scale,t.originX),mg(e.y,t.y,t.scaleY,t.scale,t.originY)}function vg(e,t){return eg(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const gg=new Set(["width","height","top","left","right","bottom",...Iv]),yg=(e,t,n)=>n>t?t:n<e?e:n,bg={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},xg=ke(ke({},bg),{},{transform:e=>yg(0,1,e)}),wg=ke(ke({},bg),{},{default:1}),jg=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Ng=jg("deg"),kg=jg("%"),_g=jg("px"),Sg=jg("vh"),Ag=jg("vw"),Cg=(()=>ke(ke({},kg),{},{parse:e=>kg.parse(e)/100,transform:e=>kg.transform(100*e)}))(),Lg=e=>t=>t.test(e),Pg=[bg,_g,kg,Ng,Ag,Sg,{test:e=>"auto"===e,parse:e=>e}],Eg=e=>Pg.find(Lg(e));const Fg=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Tg=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Rg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,a]=function(e){const t=Tg.exec(e);if(!t)return[,];const[,n,r,a]=t;return["--".concat(null!==n&&void 0!==n?n:r),a]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Fg(e)?parseFloat(e):e}return Qv(a)?Rg(a,t,n+1):a}const Dg=e=>e===bg||e===_g,Og=new Set(["x","y","z"]),Ig=Iv.filter(e=>!Og.has(e));const Mg={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Yv(n,"x")},y:(e,t)=>{let{transform:n}=t;return Yv(n,"y")}};Mg.translateX=Mg.x,Mg.translateY=Mg.y;const Bg=e=>e,Ug={},zg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],qg={value:null,addProjectionMetrics:null};function Vg(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=zg.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(d.schedule(t),e()),l++,t(o)}const d={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&a?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{o=e,a?i=!0:(a=!0,[n,r]=[r,n],n.forEach(c),t&&qg.value&&qg.value.frameloop[t].push(l),l=0,n.clear(),a=!1,i&&(i=!1,d.process(e)))}};return d}(i,t?n:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:p,postRender:m}=s,f=()=>{const i=Ug.useManualTiming?a.timestamp:performance.now();n=!1,Ug.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(i-a.timestamp,40),1)),a.timestamp=i,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),p.process(a),m.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(f))},v=zg.reduce((t,i)=>{const o=s[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,a.isProcessing||e(f)),o.schedule(t,i,s)},t},{});return{schedule:v,cancel:e=>{for(let t=0;t<zg.length;t++)s[zg[t]].cancel(e)},state:a,steps:s}}const{schedule:Hg,cancel:Wg,state:Gg,steps:Yg}=Vg("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Bg,!0),Kg=new Set;let $g=!1,Jg=!1,Xg=!1;function Qg(){if(Jg){const e=Array.from(Kg).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Ig.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,a]=t;null===(n=e.getValue(r))||void 0===n||n.set(a)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Jg=!1,$g=!1,Kg.forEach(e=>e.complete(Xg)),Kg.clear()}function Zg(){Kg.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Jg=!0)})}class ey{constructor(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=a,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Kg.add(this),$g||($g=!0,Hg.read(Zg),Hg.resolveKeyframes(Qg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const a=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==a)e[0]=a;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===a&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Kg.delete(this)}cancel(){"scheduled"===this.state&&(Kg.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const ty=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function ny(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||ty(e))}const ry=e=>Math.round(1e5*e)/1e5,ay=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const iy=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,sy=(e,t)=>n=>Boolean("string"===typeof n&&iy.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),oy=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[a,i,s,o]=r.match(ay);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},ly=ke(ke({},bg),{},{transform:e=>Math.round((e=>yg(0,255,e))(e))}),cy={test:sy("rgb","red"),parse:oy("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:a=1}=e;return"rgba("+ly.transform(t)+", "+ly.transform(n)+", "+ly.transform(r)+", "+ry(xg.transform(a))+")"}};const dy={test:sy("#"),parse:function(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:cy.transform},uy={test:sy("hsl","hue"),parse:oy("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:a=1}=e;return"hsla("+Math.round(t)+", "+kg.transform(ry(n))+", "+kg.transform(ry(r))+", "+ry(xg.transform(a))+")"}},hy={test:e=>cy.test(e)||dy.test(e)||uy.test(e),parse:e=>cy.test(e)?cy.parse(e):uy.test(e)?uy.parse(e):dy.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?cy.transform(e):uy.transform(e),getAnimatableNone:e=>{const t=hy.parse(e);return t.alpha=0,hy.transform(t)}},py=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const my="number",fy="color",vy=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function gy(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const s=t.replace(vy,e=>(hy.test(e)?(r.color.push(i),a.push(fy),n.push(hy.parse(e))):e.startsWith("var(")?(r.var.push(i),a.push("var"),n.push(e)):(r.number.push(i),a.push(my),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:s,indexes:r,types:a}}function yy(e){return gy(e).values}function by(e){const{split:t,types:n}=gy(e),r=t.length;return e=>{let a="";for(let i=0;i<r;i++)if(a+=t[i],void 0!==e[i]){const t=n[i];a+=t===my?ry(e[i]):t===fy?hy.transform(e[i]):e[i]}return a}}const xy=e=>"number"===typeof e?0:hy.test(e)?hy.getAnimatableNone(e):e;const wy={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(ay))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(py))||void 0===n?void 0:n.length)||0)>0},parse:yy,createTransformer:by,getAnimatableNone:function(e){const t=yy(e);return by(e)(t.map(xy))}},jy=new Set(["brightness","contrast","saturate","opacity"]);function Ny(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(ay)||[];if(!r)return e;const a=n.replace(r,"");let i=jy.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const ky=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,_y=ke(ke({},wy),{},{getAnimatableNone:e=>{const t=e.match(ky);return t?t.map(Ny).join(" "):e}}),Sy=ke(ke({},bg),{},{transform:Math.round}),Ay=ke(ke({borderWidth:_g,borderTopWidth:_g,borderRightWidth:_g,borderBottomWidth:_g,borderLeftWidth:_g,borderRadius:_g,radius:_g,borderTopLeftRadius:_g,borderTopRightRadius:_g,borderBottomRightRadius:_g,borderBottomLeftRadius:_g,width:_g,maxWidth:_g,height:_g,maxHeight:_g,top:_g,right:_g,bottom:_g,left:_g,padding:_g,paddingTop:_g,paddingRight:_g,paddingBottom:_g,paddingLeft:_g,margin:_g,marginTop:_g,marginRight:_g,marginBottom:_g,marginLeft:_g,backgroundPositionX:_g,backgroundPositionY:_g},{rotate:Ng,rotateX:Ng,rotateY:Ng,rotateZ:Ng,scale:wg,scaleX:wg,scaleY:wg,scaleZ:wg,skew:Ng,skewX:Ng,skewY:Ng,distance:_g,translateX:_g,translateY:_g,translateZ:_g,x:_g,y:_g,z:_g,perspective:_g,transformPerspective:_g,opacity:xg,originX:Cg,originY:Cg,originZ:_g}),{},{zIndex:Sy,fillOpacity:xg,strokeOpacity:xg,numOctaves:Sy}),Cy=ke(ke({},Ay),{},{color:hy,backgroundColor:hy,outlineColor:hy,fill:hy,stroke:hy,borderColor:hy,borderTopColor:hy,borderRightColor:hy,borderBottomColor:hy,borderLeftColor:hy,filter:_y,WebkitFilter:_y}),Ly=e=>Cy[e];function Py(e,t){let n=Ly(e);return n!==_y&&(n=wy),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ey=new Set(["auto","none","0"]);class Fy extends ey{constructor(e,t,n,r,a){super(e,t,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),Qv(n))){const r=Rg(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!gg.has(n)||2!==e.length)return;const[r,a]=e,i=Eg(r),s=Eg(a);if(i!==s)if(Dg(i)&&Dg(s))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else Mg[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||ny(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,a=0;for(;a<e.length&&!r;){const t=e[a];"string"===typeof t&&!Ey.has(t)&&gy(t).values.length&&(r=e[a]),a++}if(r&&n)for(const i of t)e[i]=Py(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mg[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,s=r[i];r[i]=Mg[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const Ty=e=>Boolean(e&&e.getVelocity);let Ry;function Dy(){Ry=void 0}const Oy={now:()=>(void 0===Ry&&Oy.set(Gg.isProcessing||Ug.useManualTiming?Gg.timestamp:performance.now()),Ry),set:e=>{Ry=e,queueMicrotask(Dy)}};function Iy(e,t){-1===e.indexOf(t)&&e.push(t)}function My(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class By{constructor(){this.subscriptions=[]}add(e){return Iy(this.subscriptions,e),()=>My(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let a=0;a<r;a++){const r=this.subscriptions[a];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Uy(e,t){return t?e*(1e3/t):0}const zy={current:void 0};class qy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Oy.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Oy.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new By);const n=this.events[e].add(t);return"change"===e?()=>{n(),Hg.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return zy.current&&zy.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Oy.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Uy(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vy(e,t){return new qy(e,t)}const Hy=[...Pg,hy,wy],{schedule:Wy,cancel:Gy}=Vg(queueMicrotask,!1),Yy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ky={};for(const s_ in Yy)Ky[s_]={isEnabled:e=>Yy[s_].some(t=>!!e[t])};const $y=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Jy="undefined"!==typeof window,Xy={current:null},Qy={current:!1};const Zy=new WeakMap;function eb(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function tb(e){return"string"===typeof e||Array.isArray(e)}const nb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rb=["initial",...nb];function ab(e){return eb(e.animate)||rb.some(t=>tb(e[t]))}function ib(e){return Boolean(ab(e)||e.variants)}function sb(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function ob(e,t,n,r){if("function"===typeof t){const[a,i]=sb(r);t=t(void 0!==n?n:e.custom,a,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[a,i]=sb(r);t=t(void 0!==n?n:e.custom,a,i)}return t}const lb=["willChange"],cb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class db{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ey,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Oy.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Hg.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget=ke({},l),this.initialValues=n.initial?ke({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=ab(n),this.isVariantNode=ib(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:u}=d,h=ea(d,lb);for(const p in h){const e=h[p];void 0!==l[p]&&Ty(e)&&e.set(l[p])}}mount(e){var t;this.current=e,Zy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Qy.current||function(){if(Qy.current=!0,Jy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xy.current=e.matches;e.addEventListener("change",t),t()}else Xy.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Xy.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Wg(this.notifyUpdate),Wg(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Mv.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Hg.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Ky){const t=Ky[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<cb.length;n++){const t=cb[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const a=t[r],i=n[r];if(Ty(a))e.addValue(r,a);else if(Ty(i))e.addValue(r,Vy(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{const t=e.getStaticValue(r);e.addValue(r,Vy(void 0!==t?t:a,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Vy(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(Fg(r)||ty(r))?r=parseFloat(r):!(e=>Hy.find(Lg(e)))(r)&&wy.test(t)&&(r=Py(e,t)),this.setBaseTarget(e,Ty(r)?r.get():r)),Ty(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const a=ob(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);a&&(n=a[e])}if(t&&void 0!==n)return n;const a=this.getBaseTargetFromProps(this.props,e);return void 0===a||Ty(a)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new By),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){Wy.render(this.render)}}class ub extends db{constructor(){super(...arguments),this.KeyframeResolver=Fy}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ty(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const hb=(e,t)=>t&&"number"===typeof e?t.transform(e):e,pb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mb=Iv.length;function fb(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const e=t[l];if(Mv.has(l))s=!0;else if(Jv(l))a[l]=e;else{const t=hb(e,Ay[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",a=!0;for(let i=0;i<mb;i++){const s=Iv[i],o=e[s];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(s.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=hb(o,Ay[s]);l||(a=!1,r+="".concat(pb[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function vb(e,t,n,r){let{style:a,vars:i}=t;const s=e.style;let o;for(o in a)s[o]=a[o];for(o in null===r||void 0===r||r.applyProjectionStyles(s,n),i)s.setProperty(o,i[o])}const gb={};function yb(e,t){let{layout:n,layoutId:r}=t;return Mv.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!gb[e]||"opacity"===e)}function bb(e,t,n){const{style:r}=e,a={};for(const s in r){var i;(Ty(r[s])||t.style&&Ty(t.style[s])||yb(s,e)||void 0!==(null===n||void 0===n||null===(i=n.getValue(s))||void 0===i?void 0:i.liveStyle))&&(a[s]=r[s])}return a}class xb extends ub{constructor(){super(...arguments),this.type="html",this.renderInstance=vb}readValueFromInstance(e,t){var n,r;if(Mv.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?Gv(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Yv(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),a=(Jv(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof a?a.trim():a}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return vg(e,n)}build(e,t,n){fb(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return bb(e,t,n)}}const wb=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),jb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Nb={offset:"strokeDashoffset",array:"strokeDasharray"};const kb=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function _b(e,t,n,r,a){let{attrX:i,attrY:s,attrScale:o,pathLength:l,pathSpacing:c=1,pathOffset:d=0}=t;if(fb(e,ea(t,kb),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:h}=e;var p,m;(u.transform&&(h.transform=u.transform,delete u.transform),h.transform||u.transformOrigin)&&(h.transformOrigin=null!==(p=u.transformOrigin)&&void 0!==p?p:"50% 50%",delete u.transformOrigin);h.transform&&(h.transformBox=null!==(m=null===a||void 0===a?void 0:a.transformBox)&&void 0!==m?m:"fill-box",delete u.transformBox);void 0!==i&&(u.x=i),void 0!==s&&(u.y=s),void 0!==o&&(u.scale=o),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=a?jb:Nb;e[i.offset]=_g.transform(-r);const s=_g.transform(t),o=_g.transform(n);e[i.array]="".concat(s," ").concat(o)}(u,l,c,d,!1)}const Sb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ab=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Cb(e,t,n){const r=bb(e,t,n);for(const a in e)if(Ty(e[a])||Ty(t[a])){r[-1!==Iv.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]}return r}class Lb extends ub{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$y}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Mv.has(t)){const e=Ly(t);return e&&e.default||0}return t=Sb.has(t)?t:wb(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Cb(e,t,n)}build(e,t,n){_b(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){vb(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Sb.has(a)?a:wb(a),t.attrs[a])}(e,t,0,r)}mount(e){this.isSVGTag=Ab(e.tagName),super.mount(e)}}const Pb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Eb(e){return"string"===typeof e&&!e.includes("-")&&!!(Pb.indexOf(e)>-1||/[A-Z]/.test(e))}const Fb=(e,t)=>Eb(e)?new Lb(t):new xb(t,{allowProjection:e!==i.Fragment}),Tb=(0,i.createContext)({}),Rb=(0,i.createContext)({strict:!1}),Db=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ob=(0,i.createContext)({});function Ib(e){const{initial:t,animate:n}=function(e,t){if(ab(e)){const{initial:t,animate:n}=e;return{initial:!1===t||tb(t)?t:void 0,animate:tb(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(Ob));return(0,i.useMemo)(()=>({initial:t,animate:n}),[Mb(t),Mb(n)])}function Mb(e){return Array.isArray(e)?e.join(" "):e}const Bb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ub(e,t,n){for(const r in t)Ty(t[r])||yb(r,n)||(e[r]=t[r])}function zb(e,t){const n={};return Ub(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return fb(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function qb(e,t){const n={},r=zb(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Vb=()=>ke(ke({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function Hb(e,t,n,r){const a=(0,i.useMemo)(()=>{const n=Vb();return _b(n,t,Ab(r),e.transformTemplate,e.style),ke(ke({},n.attrs),{},{style:ke({},n.style)})},[t]);if(e.style){const t={};Ub(t,e.style,e),a.style=ke(ke({},t),a.style)}return a}const Wb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gb(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Wb.has(e)}let Yb=e=>!Gb(e);try{"function"===typeof(Kb=require("@emotion/is-prop-valid").default)&&(Yb=e=>e.startsWith("on")?!Gb(e):Kb(e))}catch(i_){}var Kb;function $b(e,t,n,r,a){let{latestValues:s}=r,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(Eb(e)?Hb:qb)(t,s,a,e),c=function(e,t,n){const r={};for(const a in e)"values"===a&&"object"===typeof e.values||(Yb(a)||!0===n&&Gb(a)||!t&&!Gb(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(t,"string"===typeof e,o),d=e!==i.Fragment?ke(ke(ke({},c),l),{},{ref:n}):{},{children:u}=t,h=(0,i.useMemo)(()=>Ty(u)?u.get():u,[u]);return(0,i.createElement)(e,ke(ke({},d),{},{children:h}))}const Jb=(0,i.createContext)(null);function Xb(e){return Ty(e)?e.get():e}const Qb=["transitionEnd","transition"];function Zb(e,t,n,r){const a={},i=r(e,{});for(const h in i)a[h]=Xb(i[h]);let{initial:s,animate:o}=e;const l=ab(e),c=ib(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const u=d?o:s;if(u&&"boolean"!==typeof u&&!eb(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=ob(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=ea(r,Qb);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(a[r]=e)}for(const r in e)a[r]=e[r]}}}return a}const ex=e=>(t,n)=>{const r=(0,i.useContext)(Ob),a=(0,i.useContext)(Jb),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:a,createRenderState:i}=e;return{latestValues:Zb(t,n,r,a),renderState:i()}}(e,t,r,a);return n?s():function(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}(s)},tx=ex({scrapeMotionValuesFromProps:bb,createRenderState:Bb}),nx=ex({scrapeMotionValuesFromProps:Cb,createRenderState:Vb});const rx=Symbol.for("motionComponentSymbol");function ax(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ix(e,t,n){return(0,i.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):ax(n)&&(n.current=r))},[t])}const sx="data-"+wb("framerAppearId"),ox=(0,i.createContext)({}),lx=Jy?i.useLayoutEffect:i.useEffect;function cx(e,t,n,r,a){var s,o,l,c;const{visualElement:d}=(0,i.useContext)(Ob),u=(0,i.useContext)(Rb),h=(0,i.useContext)(Jb),p=(0,i.useContext)(Db).reducedMotion,m=(0,i.useRef)(null);r=r||u.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:d,props:n,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:p}));const f=m.current,v=(0,i.useContext)(ox);!f||f.projection||!a||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:dx(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:Boolean(s)||o&&ax(o),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}(m.current,n,a,v);const g=(0,i.useRef)(!1);(0,i.useInsertionEffect)(()=>{f&&g.current&&f.update(n,h)});const y=n[sx],b=(0,i.useRef)(Boolean(y)&&!(null!==(s=(o=window).MotionHandoffIsComplete)&&void 0!==s&&s.call(o,y))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,y)));return lx(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())}),(0,i.useEffect)(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,y)}),b.current=!1),f.enteringChildren=void 0)}),f}function dx(e){if(e)return!1!==e.options.allowProjection?e.projection:dx(e.parent)}function ux(e){var t,n;let{forwardMotionProps:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;a&&function(e){for(const t in e)Ky[t]=ke(ke({},Ky[t]),e[t])}(a);const o=Eb(e)?nx:tx;function l(t,n){let a;const l=ke(ke(ke({},(0,i.useContext)(Db)),t),{},{layoutId:hx(t)}),{isStatic:c}=l,d=Ib(t),u=o(t,c);if(!c&&Jy){!function(){(0,i.useContext)(Rb).strict;0}();const t=function(e){const{drag:t,layout:n}=Ky;if(!t&&!n)return{};const r=ke(ke({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=t.MeasureLayout,d.visualElement=cx(e,u,l,s,t.ProjectionNode)}return(0,_e.jsxs)(Ob.Provider,{value:d,children:[a&&d.visualElement?(0,_e.jsx)(a,ke({visualElement:d.visualElement},l)):null,$b(e,t,ix(u,d.visualElement,n),u,c,r)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const c=(0,i.forwardRef)(l);return c[rx]=e,c}function hx(e){let{layoutId:t}=e;const n=(0,i.useContext)(Tb).id;return n&&void 0!==t?n+"-"+t:t}function px(e,t){if("undefined"===typeof Proxy)return ux;const n=new Map,r=(n,r)=>ux(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(a,i)=>"create"===i?r:(n.has(i)||n.set(i,ux(i,void 0,e,t)),n.get(i))})}function mx(e,t,n){const r=e.getProps();return ob(r,t,void 0!==n?n:r.custom,e)}function fx(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const vx=e=>Array.isArray(e),gx=["transitionEnd","transition"];function yx(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Vy(n))}function bx(e){return vx(e)?e[e.length-1]||0:e}function xx(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Ty(r)&&r.add))return n.add(t);if(!n&&Ug.WillChange){const n=new Ug.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function wx(e){return e.props[sx]}function jx(e){e.duration=0,e.type}const Nx=(e,t)=>n=>t(e(n)),kx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Nx)},_x=e=>1e3*e,Sx=e=>e/1e3,Ax={layout:0,mainThread:0,waapi:0};function Cx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Lx(e,t){return n=>n>0?t:e}const Px=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Ex=[dy,cy,uy];function Fx(e){const t=(e=>Ex.find(t=>t.test(e)))(e);if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let n=t.parse(e);return t===uy&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:a}=e;t/=360,n/=100,r/=100;let i=0,s=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,a=2*r-e;i=Cx(a,e,t+1/3),s=Cx(a,e,t),o=Cx(a,e,t-1/3)}else i=s=o=r;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*o),alpha:a}}(n)),n}const Tx=(e,t)=>{const n=Fx(e),r=Fx(t);if(!n||!r)return Lx(e,t);const a=ke({},n);return e=>(a.red=Px(n.red,r.red,e),a.green=Px(n.green,r.green,e),a.blue=Px(n.blue,r.blue,e),a.alpha=tg(n.alpha,r.alpha,e),cy.transform(a))},Rx=new Set(["none","hidden"]);function Dx(e,t){return n=>tg(e,t,n)}function Ox(e){return"number"===typeof e?Dx:"string"===typeof e?Qv(e)?Lx:hy.test(e)?Tx:Bx:Array.isArray(e)?Ix:"object"===typeof e?hy.test(e)?Tx:Mx:Lx}function Ix(e,t){const n=[...e],r=n.length,a=e.map((e,n)=>Ox(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=a[t](e);return n}}function Mx(e,t){const n=ke(ke({},e),t),r={};for(const a in n)void 0!==e[a]&&void 0!==t[a]&&(r[a]=Ox(e[a])(e[a],t[a]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Bx=(e,t)=>{const n=wy.createTransformer(t),r=gy(e),a=gy(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Rx.has(e)&&!a.values.length||Rx.has(t)&&!r.values.length?function(e,t){return Rx.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):kx(Ix(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){var a;const s=t.types[i],o=e.indexes[s][r[s]],l=null!==(a=e.values[o])&&void 0!==a?a:0;n[i]=l,r[s]++}return n}(r,a),a.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),Lx(e,t))};function Ux(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return tg(e,t,n);return Ox(e)(e,t)}const zx=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Hg.update(t,e)},stop:()=>Wg(t),now:()=>Gg.isProcessing?Gg.timestamp:Oy.now()}},qx=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=Math.round(1e4*e(i/(a-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},Vx=2e4;function Hx(e){let t=0;let n=e.next(t);for(;!n.done&&t<Vx;)t+=50,n=e.next(t);return t>=Vx?1/0:t}function Wx(e,t,n){const r=Math.max(t-5,0);return Uy(n-e(r),t-r)}const Gx={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yx=.001;function Kx(e){let t,n,{duration:r=Gx.duration,bounce:a=Gx.bounce,velocity:i=Gx.velocity,mass:s=Gx.mass}=e;_x(Gx.maxDuration);let o=1-a;o=yg(Gx.minDamping,Gx.maxDamping,o),r=yg(Gx.minDuration,Gx.maxDuration,Sx(r)),o<1?(t=e=>{const t=e*o,n=t*r,a=t-i,s=Jx(e,o),l=Math.exp(-n);return Yx-a/s*l},n=e=>{const n=e*o*r,a=n*i+i,s=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Jx(Math.pow(e,2),o);return(-t(e)+Yx>0?-1:1)*((a-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let a=1;a<$x;a++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=_x(r),isNaN(l))return{stiffness:Gx.stiffness,damping:Gx.damping,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*o*Math.sqrt(s*e),duration:r}}}const $x=12;function Jx(e,t){return e*Math.sqrt(1-t*t)}const Xx=["duration","bounce"],Qx=["stiffness","damping","mass"];function Zx(e,t){return t.some(t=>void 0!==e[t])}function ew(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gx.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gx.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:p}=function(e){let t=ke({velocity:Gx.velocity,stiffness:Gx.stiffness,damping:Gx.damping,mass:Gx.mass,isResolvedFromDuration:!1},e);if(!Zx(e,Qx)&&Zx(e,Xx))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),a=r*r,i=2*yg(.05,1,1-(e.bounce||0))*Math.sqrt(a);t=ke(ke({},t),{},{mass:Gx.mass,stiffness:a,damping:i})}else{const n=Kx(e);t=ke(ke(ke({},t),n),{},{mass:Gx.mass}),t.isResolvedFromDuration=!0}return t}(ke(ke({},n),{},{velocity:-Sx(n.velocity||0)})),m=h||0,f=c/(2*Math.sqrt(l*d)),v=s-i,g=Sx(Math.sqrt(l/d)),y=Math.abs(v)<5;let b;if(r||(r=y?Gx.restSpeed.granular:Gx.restSpeed.default),a||(a=y?Gx.restDelta.granular:Gx.restDelta.default),f<1){const e=Jx(g,f);b=t=>{const n=Math.exp(-f*g*t);return s-n*((m+f*g*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===f)b=e=>s-Math.exp(-g*e)*(v+(m+g*v)*e);else{const e=g*Math.sqrt(f*f-1);b=t=>{const n=Math.exp(-f*g*t),r=Math.min(e*t,300);return s-n*((m+f*g*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}const x={calculatedDuration:p&&u||null,next:e=>{const t=b(e);if(p)o.done=e>=u;else{let n=0===e?m:0;f<1&&(n=0===e?_x(m):Wx(b,e,t));const i=Math.abs(n)<=r,l=Math.abs(s-t)<=a;o.done=i&&l}return o.value=o.done?s:t,o},toString:()=>{const e=Math.min(Hx(x),Vx),t=qx(t=>x.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return x}function tw(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const h=t[0],p={done:!1,value:h},m=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=r*n;const v=h+f,g=void 0===o?v:o(v);g!==v&&(f=g-h);const y=e=>-f*Math.exp(-e/a),b=e=>g+y(e),x=e=>{const t=y(e),n=b(e);p.done=Math.abs(t)<=d,p.value=p.done?g:n};let w,j;const N=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(p.value)&&(w=e,j=ew({keyframes:[p.value,m(p.value)],velocity:Wx(b,e,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,x(e),N(e)),void 0!==w&&e>=w?j.next(e-w):(!t&&x(e),p)}}}ew.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(ke(ke({},e),{},{keyframes:[0,t]})),r=Math.min(Hx(n),Vx);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:Sx(r)}}(e,100,ew);return e.ease=t.ease,e.duration=_x(t.duration),e.type="keyframes",e};const nw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function rw(e,t,n,r){if(e===t&&n===r)return Bg;const a=t=>function(e,t,n,r,a){let i,s,o=0;do{s=t+(n-t)/2,i=nw(s,r,a)-e,i>0?n=s:t=s}while(Math.abs(i)>1e-7&&++o<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:nw(a(e),t,r)}const aw=rw(.42,0,1,1),iw=rw(0,0,.58,1),sw=rw(.42,0,.58,1),ow=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lw=e=>t=>1-e(1-t),cw=rw(.33,1.53,.69,.99),dw=lw(cw),uw=ow(dw),hw=e=>(e*=2)<1?.5*dw(e):.5*(2-Math.pow(2,-10*(e-1))),pw=e=>1-Math.sin(Math.acos(e)),mw=lw(pw),fw=ow(pw),vw=e=>Array.isArray(e)&&"number"===typeof e[0],gw={linear:Bg,easeIn:aw,easeInOut:sw,easeOut:iw,circIn:pw,circInOut:fw,circOut:mw,backIn:dw,backInOut:uw,backOut:cw,anticipate:hw},yw=e=>{if(vw(e)){e.length;const[t,n,r,a]=e;return rw(t,n,r,a)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),gw[e]):e},bw=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function xw(e,t){let{clamp:n=!0,ease:r,mixer:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],a=n||Ug.mix||Ux,i=e.length-1;for(let s=0;s<i;s++){let n=a(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||Bg:t;n=kx(e,n)}r.push(n)}return r}(t,r,a),l=o.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const a=bw(e[r],e[r+1],n);return o[r](a)};return n?t=>c(yg(e[0],e[i-1],t)):c}function ww(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=bw(0,t,r);e.push(tg(n,1,a))}}(t,e.length-1),t}function jw(e){let{duration:t=300,keyframes:n,times:r,ease:a="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(a)?a.map(yw):yw(a),s={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:ww(n),t),l=xw(o,n,{ease:Array.isArray(i)?i:(c=n,d=i,c.map(()=>d||sw).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const Nw=e=>null!==e;function kw(e,t,n){let{repeat:r,repeatType:a="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.filter(Nw),o=i<0||r&&"loop"!==a&&r%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}const _w={decay:tw,inertia:tw,tween:jw,keyframes:jw,spring:ew};function Sw(e){"string"===typeof e.type&&(e.type=_w[e.type])}class Aw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Cw=e=>e/100;class Lw extends Aw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==Oy.now()&&this.tick(Oy.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},Ax.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Sw(e);const{type:t=jw,repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:i=0}=e;let{keyframes:s}=e;const o=t||jw;o!==jw&&"number"!==typeof s[0]&&(this.mixKeyframes=kx(Cw,Ux(s[0],s[1])),s=[0,100]);const l=o(ke(ke({},e),{},{keyframes:s}));"mirror"===a&&(this.mirroredGenerator=o(ke(ke({},e),{},{keyframes:[...s].reverse(),velocity:-i}))),null===l.calculatedDuration&&(l.calculatedDuration=Hx(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:a,mirroredGenerator:i,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const v=this.currentTime-l*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?v<0:v>r;this.currentTime=Math.max(v,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,b=n;if(d){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(n=1-n,h&&(n-=h/s)):"mirror"===u&&(b=i)),y=yg(0,1,n)*s}const x=g?{done:!1,value:c[0]}:b.next(y);a&&(x.value=a(x.value));let{done:w}=x;g||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&p!==tw&&(x.value=kw(c,this.options,f,this.speed)),m&&m(x.value),j&&this.finish(),x}then(e,t){return this.finished.then(e,t)}get duration(){return Sx(this.calculatedDuration)}get time(){return Sx(this.currentTime)}set time(e){var t;e=_x(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Oy.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Sx(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=zx,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const a=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=a):null!==this.holdTime?this.startTime=a-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:a),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Oy.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Ax.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function Pw(e){let t;return()=>(void 0===t&&(t=e()),t)}const Ew=Pw(()=>void 0!==window.ScrollTimeline),Fw={};function Tw(e,t){const n=Pw(e);return()=>{var e;return null!==(e=Fw[t])&&void 0!==e?e:n()}}const Rw=Tw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(n_){return!1}return!0},"linearEasing"),Dw=e=>{let[t,n,r,a]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(a,")")},Ow={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dw([0,.65,.55,1]),circOut:Dw([.55,0,1,.45]),backIn:Dw([.31,.01,.66,-.59]),backOut:Dw([.33,1.53,.69,.99])};function Iw(e,t){return e?"function"===typeof e?Rw()?qx(e,t):"ease-out":vw(e)?Dw(e):Array.isArray(e)?e.map(e=>Iw(e,t)||Ow.easeOut):Ow[e]:void 0}function Mw(e,t,n){let{delay:r=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d={[t]:n};l&&(d.offset=l);const u=Iw(o,a);Array.isArray(u)&&(d.easing=u),qg.value&&Ax.waapi++;const h={delay:r,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===s?"alternate":"normal"};c&&(h.pseudoElement=c);const p=e.animate(d,h);return qg.value&&p.finished.finally(()=>{Ax.waapi--}),p}function Bw(e){return"function"===typeof e&&"applyToOptions"in e}const Uw=["type"];class zw extends Aw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:a,allowFlatten:i=!1,finalKeyframe:s,onComplete:o}=e;this.isPseudoElement=Boolean(a),this.allowFlatten=i,this.options=e,e.type;const l=function(e){let{type:t}=e,n=ea(e,Uw);return Bw(t)&&Rw()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(a=n.ease)&&void 0!==a||(n.ease="easeOut"),n);var r,a}(e);this.animation=Mw(t,n,r,l,a),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const e=kw(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===o||void 0===o||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(n_){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return Sx(Number(n))}get time(){return Sx(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_x(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&Ew()?(this.animation.timeline=t,Bg):n(this)}}const qw={anticipate:hw,backInOut:uw,circInOut:fw};function Vw(e){"string"===typeof e.ease&&e.ease in qw&&(e.ease=qw[e.ease])}const Hw=["motionValue","onUpdate","onComplete","element"];class Ww extends zw{constructor(e){Vw(e),Sw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:a,onComplete:i,element:s}=n,o=ea(n,Hw);if(!r)return;if(void 0!==e)return void r.set(e);const l=new Lw(ke(ke({},o),{},{autoplay:!1})),c=_x(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(l.sample(c-10).value,l.sample(c).value,10),l.stop()}}const Gw=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!wy.test(e)&&"0"!==e||e.startsWith("url(")));const Yw=new Set(["opacity","clipPath","filter","transform"]),Kw=Pw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const $w=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Jw extends Aw{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:a="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u}=e,h=ea(e,$w);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=Oy.now();const p=ke({autoplay:n,delay:r,type:a,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:u},h),m=(null===u||void 0===u?void 0:u.KeyframeResolver)||ey;this.keyframeResolver=new m(l,(e,t,n)=>this.onKeyframesResolved(e,t,p,!n),c,d,u),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:a,type:i,velocity:s,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Oy.now(),function(e,t,n,r){const a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],s=Gw(a,t),o=Gw(i,t);return"You are trying to animate ".concat(t,' from "').concat(a,'" to "').concat(i,'". "').concat(s?i:a,'" is not an animatable value.'),!(!s||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Bw(n))&&r)}(e,a,i,s)||(!Ug.instantAnimations&&o||null===c||void 0===c||c(kw(e,n,t)),e[0]=e[e.length-1],jx(n),n.repeat=0);const d=ke(ke({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),u=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:a,repeatType:i,damping:s,type:o}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Kw()&&r&&Yw.has(r)&&("transform"!==r||!c)&&!l&&!a&&"mirror"!==i&&0!==s&&"inertia"!==o}(d)?new Ww(ke(ke({},d),{},{element:d.motionValue.owner.current})):new Lw(d);u.finished.then(()=>this.notifyFinished()).catch(Bg),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Xg=!0,Zg(),Qg(),Xg=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const Xw=e=>null!==e;const Qw={type:"spring",stiffness:500,damping:25,restSpeed:10},Zw={type:"keyframes",duration:.8},ej={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tj=(e,t)=>{let{keyframes:n}=t;return n.length>2?Zw:Mv.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Qw:ej},nj=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const rj=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return s=>{const o=fx(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=_x(l);const d=ke(ke({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},o),{},{delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:a,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d}=e,u=ea(e,nj);return!!Object.keys(u).length})(o)||Object.assign(d,tj(e,d)),d.duration&&(d.duration=_x(d.duration)),d.repeatDelay&&(d.repeatDelay=_x(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(jx(d),0===d.delay&&(u=!0)),(Ug.instantAnimations||Ug.skipAnimations)&&(u=!0,jx(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!i&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:a="loop"}=t;const i=e.filter(Xw),s=r&&"loop"!==a&&r%2===1?0:i.length-1;return s&&void 0!==n?n:i[s]}(d.keyframes,o);if(void 0!==e)return void Hg.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new Lw(d):new Jw(d)}},aj=["transition","transitionEnd"];function ij(e,t){let{protectedKeys:n,needsAnimating:r}=e;const a=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,a}function sj(e,t){let{delay:n=0,transitionOverride:r,type:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=e.getDefaultTransition(),transitionEnd:s}=t,o=ea(t,aj);r&&(i=r);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){var d;const t=e.getValue(u,null!==(d=e.latestValues[u])&&void 0!==d?d:null),r=o[u];if(void 0===r||c&&ij(c,u))continue;const a=ke({delay:n},fx(i||{},u)),s=t.get();if(void 0!==s&&!t.isAnimating&&!Array.isArray(r)&&r===s&&!a.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=wx(e);if(t){const e=window.MotionHandoffAnimation(t,u,Hg);null!==e&&(a.startTime=e,h=!0)}}xx(e,u),t.start(rj(u,t,r,e.shouldReduceMotion&&gg.has(u)?{type:!1}:a,e,h));const p=t.animation;p&&l.push(p)}return s&&Promise.all(l).then(()=>{Hg.update(()=>{s&&function(e,t){let n=mx(e,t)||{},{transitionEnd:r={},transition:a={}}=n,i=ea(n,gx);i=ke(ke({},i),r);for(const s in i)yx(e,s,bx(i[s]))}(e,s)})}),l}function oj(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const i=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,o=(s-1)*r;return"function"===typeof n?n(i,s):1===a?i*r:o-i*r}function lj(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=mx(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const s=a?()=>Promise.all(sj(e,a,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:s,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(lj(l,t,ke(ke({},s),{},{delay:n+("function"===typeof r?0:r)+oj(e.variantChildren,l,r,a,i)})).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,n,a,s,o,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[s,o]:[o,s];return e().then(()=>t())}return Promise.all([s(),o(r.delay)])}function cj(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const dj=rb.length;function uj(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&uj(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<dj;n++){const r=rb[n],a=e.props[r];(tb(a)||!1===a)&&(t[r]=a)}return t}const hj=["transition","transitionEnd"],pj=[...nb].reverse(),mj=nb.length;function fj(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map(t=>lj(e,t,r));n=Promise.all(a)}else if("string"===typeof t)n=lj(e,t,r);else{const a="function"===typeof t?mx(e,t,r.custom):t;n=Promise.all(sj(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function vj(e){let t=fj(e),n=bj(),r=!0;const a=t=>(n,r)=>{var a;const i=mx(e,r,"exit"===t?null===(a=e.presenceContext)||void 0===a?void 0:a.custom:void 0);if(i){const{transition:e,transitionEnd:t}=i,r=ea(i,hj);n=ke(ke(ke({},n),r),t)}return n};function i(i){const{props:s}=e,o=uj(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<mj;t++){const h=pj[t],p=n[h],m=void 0!==s[h]?s[h]:o[h],f=tb(m),v=h===i?p.isActive:null;!1===v&&(u=t);let g=m===o[h]&&m!==s[h]&&f;if(g&&r&&e.manuallyAnimateOnMount&&(g=!1),p.protectedKeys=ke({},d),!p.isActive&&null===v||!m&&!p.prevProp||eb(m)||"boolean"===typeof m)continue;const y=gj(p.prevProp,m);let b=y||h===i&&p.isActive&&!g&&f||t>u&&f,x=!1;const w=Array.isArray(m)?m:[m];let j=w.reduce(a(h),{});!1===v&&(j={});const{prevResolvedValues:N={}}=p,k=ke(ke({},N),j),_=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=j[e],n=N[e];if(d.hasOwnProperty(e))continue;let r=!1;r=vx(t)&&vx(n)?!cj(t,n):t!==n,r?void 0!==t&&null!==t?_(e):c.add(e):void 0!==t&&c.has(e)?_(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=j,p.isActive&&(d=ke(ke({},d),j)),r&&e.blockInitialAnimation&&(b=!1);const S=g&&y;b&&(!S||x)&&l.push(...w.map(t=>{const n={type:h};if("string"===typeof t&&r&&!S&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,a=mx(r,t);if(r.enteringChildren&&a){const{delayChildren:t}=a.transition||{};n.delay=oj(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!==typeof s.initial){const n=mx(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),a=e.getValue(n);a&&(a.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const s=i(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=bj(),r=!0}}}function gj(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!cj(t,e)}function yj(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bj(){return{animate:yj(!0),whileInView:yj(),whileHover:yj(),whileTap:yj(),whileDrag:yj(),whileFocus:yj(),exit:yj()}}class xj{constructor(e){this.isMounted=!1,this.node=e}update(){}}let wj=0;const jj={animation:{Feature:class extends xj{constructor(e){super(e),e.animationState||(e.animationState=vj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();eb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends xj{constructor(){super(...arguments),this.id=wj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},Nj={x:!1,y:!1};function kj(){return Nj.x||Nj.y}function _j(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Sj=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Aj(e){return{point:{x:e.pageX,y:e.pageY}}}function Cj(e,t,n,r){return _j(e,t,(e=>t=>Sj(t)&&e(t,Aj(t)))(n),r)}function Lj(e){return e.max-e.min}function Pj(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=tg(t.min,t.max,e.origin),e.scale=Lj(n)/Lj(t),e.translate=tg(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Ej(e,t,n,r){Pj(e.x,t.x,n.x,r?r.originX:void 0),Pj(e.y,t.y,n.y,r?r.originY:void 0)}function Fj(e,t,n){e.min=n.min+t.min,e.max=e.min+Lj(t)}function Tj(e,t,n){e.min=t.min-n.min,e.max=e.min+Lj(t)}function Rj(e,t,n){Tj(e.x,t.x,n.x),Tj(e.y,t.y,n.y)}function Dj(e){return[e("x"),e("y")]}const Oj=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Ij=(e,t)=>Math.abs(e-t);class Mj{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:i=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=zj(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Ij(e.x,t.x),r=Ij(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:a}=Gg;this.history.push(ke(ke({},r),{},{timestamp:a}));const{onStart:i,onMove:s}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Bj(t,this.transformPagePoint),Hg.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=zj("pointercancel"===e.type?this.lastMoveEventInfo:Bj(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Sj(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const s=Bj(Aj(e),this.transformPagePoint),{point:o}=s,{timestamp:l}=Gg;this.history=[ke(ke({},o),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,zj(s,this.history)),this.removeListeners=kx(Cj(this.contextWindow,"pointermove",this.handlePointerMove),Cj(this.contextWindow,"pointerup",this.handlePointerUp),Cj(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wg(this.updatePoint)}}function Bj(e,t){return t?{point:t(e.point)}:e}function Uj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zj(e,t){let{point:n}=e;return{point:n,delta:Uj(n,Vj(t)),offset:Uj(n,qj(t)),velocity:Hj(t,.1)}}function qj(e){return e[0]}function Vj(e){return e[e.length-1]}function Hj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=Vj(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>_x(t)));)n--;if(!r)return{x:0,y:0};const i=Sx(a.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const s={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Wj(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Gj(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Yj=.35;function Kj(e,t,n){return{min:$j(e,t),max:$j(e,n)}}function $j(e,t){return"number"===typeof e?e:e[t]||0}const Jj=new WeakMap;class Xj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:a}=this.getProps();this.panSession=new Mj(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Aj(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:a}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?Nj[i]?null:(Nj[i]=!0,()=>{Nj[i]=!1}):Nj.x||Nj.y?null:(Nj.x=Nj.y=!0,()=>{Nj.x=Nj.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dj(e=>{let t=this.getAxisMotionValue(e).get()||0;if(kg.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Lj(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),a&&Hg.postRender(()=>a(e,t)),xx(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:a,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Dj(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:a,distanceThreshold:n,contextWindow:Oj(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Hg.postRender(()=>s(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Qj(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:a}=t;return void 0!==r&&e<r?e=n?tg(r,e,n.min):Math.max(e,r):void 0!==a&&e>a&&(e=n?tg(a,e,n.max):Math.min(e,a)),e}(i,this.constraints[e],this.elastic[e])),a.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,a=this.constraints;t&&ax(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:a,right:i}=t;return{x:Wj(e.x,r,i),y:Wj(e.y,n,a)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yj;return!1===e?e=0:!0===e&&(e=Yj),{x:Kj(e,"left","right"),y:Kj(e,"top","bottom")}}(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Dj(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ax(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=function(e,t,n){const r=vg(e,n),{scroll:a}=t;return a&&(pg(r.x,a.offset.x),pg(r.y,a.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Gj(e.x,t.x),y:Gj(e.y,t.y)}}(r.layout.layoutBox,a);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=eg(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{},l=Dj(s=>{if(!Qj(s,t,this.currentDirection))return;let l=o&&o[s]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u=ke(ke({type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},a),l);return this.startAxisValueAnimation(s,u)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return xx(this.visualElement,e),n.start(rj(e,n,0,t,this.visualElement,!1))}stopAnimation(){Dj(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dj(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Dj(t=>{const{drag:n}=this.getProps();if(!Qj(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];a.set(e[t]-tg(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ax(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Dj(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Lj(e),a=Lj(t);return a>r?n=bw(t.min,t.max-r,e.min):r>a&&(n=bw(e.min,e.max-a,t.min)),yg(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Dj(t=>{if(!Qj(t,e,null))return;const n=this.getAxisMotionValue(t),{min:a,max:i}=this.constraints[t];n.set(tg(a,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;Jj.set(this.visualElement,this);const e=Cj(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();ax(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Hg.read(t);const a=_j(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Dj(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{a(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:i=Yj,dragMomentum:s=!0}=e;return ke(ke({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:i,dragMomentum:s})}}function Qj(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Zj=e=>(t,n)=>{e&&Hg.postRender(()=>e(t,n))};const eN={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tN(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nN={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!_g.test(e))return e;e=parseFloat(e)}const n=tN(e,t.target.x),r=tN(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},rN={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const a=e,i=wy.parse(e);if(i.length>5)return a;const s=wy.createTransformer(e),o="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const d=tg(l,c,.5);return"number"===typeof i[2+o]&&(i[2+o]/=d),"number"===typeof i[3+o]&&(i[3+o]/=d),s(i)}};let aN=!1;class iN extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=e;!function(e){for(const t in e)gb[t]=e[t],Jv(t)&&(gb[t].isCSSVariable=!0)}(oN),a&&(t.group&&t.group.add(a),n&&n.register&&r&&n.register(a),aN&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions(ke(ke({},a.options),{},{onExitComplete:()=>this.safeToRemove()}))),eN.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:a}=this.props,{projection:i}=n;return i?(i.isPresent=a,aN=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==a?i.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?i.promote():i.relegate()||Hg.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;aN=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sN(e){const[t,n]=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(Jb);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,s=(0,i.useId)();(0,i.useEffect)(()=>{if(e)return a(s)},[e]);const o=(0,i.useCallback)(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}(),r=(0,i.useContext)(Tb);return(0,_e.jsx)(iN,ke(ke({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(ox),isPresent:t,safeToRemove:n}))}const oN={borderRadius:ke(ke({},nN),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:nN,borderTopRightRadius:nN,borderBottomLeftRadius:nN,borderBottomRightRadius:nN,boxShadow:rN};function lN(e){return"object"===typeof e&&null!==e}function cN(e){return lN(e)&&"ownerSVGElement"in e}const dN=(e,t)=>e.depth-t.depth;class uN{constructor(){this.children=[],this.isDirty=!1}add(e){Iy(this.children,e),this.isDirty=!0}remove(e){My(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dN),this.isDirty=!1,this.children.forEach(e)}}function hN(e,t){const n=Oy.now(),r=a=>{let{timestamp:i}=a;const s=i-n;s>=t&&(Wg(r),e(s-t))};return Hg.setup(r,!0),()=>Wg(r)}const pN=["TopLeft","TopRight","BottomLeft","BottomRight"],mN=pN.length,fN=e=>"string"===typeof e?parseFloat(e):e,vN=e=>"number"===typeof e||_g.test(e);function gN(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const yN=xN(0,.5,mw),bN=xN(.5,.95,Bg);function xN(e,t,n){return r=>r<e?0:r>t?1:n(bw(e,t,r))}function wN(e,t){e.min=t.min,e.max=t.max}function jN(e,t){wN(e.x,t.x),wN(e.y,t.y)}function NN(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function kN(e,t,n,r,a){return e=og(e-=t,1/n,r),void 0!==a&&(e=og(e,1/a,r)),e}function _N(e,t,n,r,a){let[i,s,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;kg.test(t)&&(t=parseFloat(t),t=tg(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let o=tg(i.min,i.max,r);e===i&&(o-=t),e.min=kN(e.min,t,n,o,a),e.max=kN(e.max,t,n,o,a)}(e,t[i],t[s],t[o],t.scale,r,a)}const SN=["x","scaleX","originX"],AN=["y","scaleY","originY"];function CN(e,t,n,r){_N(e.x,t,SN,n?n.x:void 0,r?r.x:void 0),_N(e.y,t,AN,n?n.y:void 0,r?r.y:void 0)}function LN(e){return 0===e.translate&&1===e.scale}function PN(e){return LN(e.x)&&LN(e.y)}function EN(e,t){return e.min===t.min&&e.max===t.max}function FN(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function TN(e,t){return FN(e.x,t.x)&&FN(e.y,t.y)}function RN(e){return Lj(e.x)/Lj(e.y)}function DN(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ON{constructor(){this.members=[]}add(e){Iy(this.members,e),e.scheduleRender()}remove(e){if(My(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const IN={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},MN=["","X","Y","Z"];let BN=0;function UN(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function zN(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=wx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Hg,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&zN(r)}function qN(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:a,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=BN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qg.value&&(IN.nodes=IN.calculatedTargetDeltas=IN.calculatedProjections=0),this.nodes.forEach(WN),this.nodes.forEach(QN),this.nodes.forEach(ZN),this.nodes.forEach(GN),qg.addProjectionMetrics&&qg.addProjectionMetrics(IN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new uN)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new By),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=cN(e)&&!(cN(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:a,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(a||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const a=()=>this.root.updateBlockedByResize=!1;Hg.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=hN(a,250),eN.hasAnimatedSinceResize&&(eN.hasAnimatedSinceResize=!1,this.nodes.forEach(XN)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||a)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:a}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||i.getDefaultTransition()||ik,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!TN(this.targetLayout,a),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=ke(ke({},fx(s,"layout")),{},{onPlay:o,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||XN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wg(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ek),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(KN);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach($N);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(JN),this.nodes.forEach(VN),this.nodes.forEach(HN)):this.nodes.forEach($N),this.clearAllSnapshots();const e=Oy.now();Gg.delta=yg(0,1e3/60,e-Gg.timestamp),Gg.timestamp=e,Gg.isProcessing=!0,Yg.update.process(Gg),Yg.preRender.process(Gg),Yg.render.process(Gg),Gg.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YN),this.sharedNodes.forEach(tk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hg.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hg.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Lj(this.snapshot.measuredBox.x)||Lj(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=a(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!PN(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||ag(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),lk((r=n).x),lk(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(dk))){const{scroll:e}=this.root;e&&(pg(n.x,e.offset.x),pg(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(jN(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:a,options:i}=t;t!==this.root&&a&&i.layoutScroll&&(a.wasRoot&&jN(n,e),pg(n.x,a.offset.x),pg(n.y,a.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};jN(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&fg(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),ag(e.latestValues)&&fg(n,e.latestValues)}return ag(this.latestValues)&&fg(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};jN(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!ag(e.latestValues))continue;rg(e.latestValues)&&e.updateSnapshot();const r=$y();jN(r,e.measurePageBox()),CN(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return ag(this.latestValues)&&CN(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=ke(ke(ke({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gg.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:a,layoutId:i}=this.options;if(this.layout&&(a||i)){if(this.resolvedRelativeTargetAt=Gg.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Rj(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),jN(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,l=this.relativeParent.target,Fj(s.x,o.x,l.x),Fj(s.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):jN(this.target,this.layout.layoutBox),dg(this.target,this.targetDelta)):jN(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Rj(this.relativeTargetOrigin,this.target,e.target),jN(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qg.value&&IN.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!rg(this.parent.latestValues)&&!ig(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Gg.timestamp&&(r=!1),r)return;const{layout:a,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!i)return;jN(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=n.length;if(!a)return;let i,s;t.x=t.y=1;for(let o=0;o<a;o++){i=n[o],s=i.projectionDelta;const{visualElement:a}=i.options;a&&a.props.style&&"contents"===a.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,dg(e,s)),r&&ag(i.latestValues)&&fg(e,i.latestValues))}t.x<hg&&t.x>ug&&(t.x=1),t.y<hg&&t.y>ug&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(NN(this.prevProjectionDelta.x,this.projectionDelta.x),NN(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Ej(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&DN(this.projectionDelta.x,this.prevProjectionDelta.x)&&DN(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),qg.value&&IN.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},a=ke({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(ak));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;nk(i.x,e.x,n),nk(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rj(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){rk(e.x,t.x,n.x,r),rk(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),u&&function(e,t){return EN(e.x,t.x)&&EN(e.y,t.y)}(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),jN(u,this.relativeTarget)),o&&(this.animationValues=a,function(e,t,n,r,a,i){var s,o;if(a)e.opacity=tg(0,null!==(s=n.opacity)&&void 0!==s?s:1,yN(r)),e.opacityExit=tg(null!==(o=t.opacity)&&void 0!==o?o:1,0,bN(r));else if(i){var l,c;e.opacity=tg(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let d=0;d<mN;d++){const a="border".concat(pN[d],"Radius");let i=gN(t,a),s=gN(n,a);void 0===i&&void 0===s||(i||(i=0),s||(s=0),0===i||0===s||vN(i)===vN(s)?(e[a]=Math.max(tg(fN(i),fN(s),r),0),(kg.test(s)||kg.test(i))&&(e[a]+="%")):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=tg(t.rotate||0,n.rotate||0,r))}(a,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(Wg(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hg.update(()=>{eN.hasAnimatedSinceResize=!0,Ax.layout++,this.motionValue||(this.motionValue=Vy(0)),this.currentAnimation=function(e,t,n){const r=Ty(e)?e:Vy(e);return r.start(rj("",r,t,n)),r.animation}(this.motionValue,[0,1e3],ke(ke({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Ax.layout--},onComplete:()=>{Ax.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:a}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&ck(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Lj(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Lj(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}jN(t,n),fg(t,a),Ej(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ON);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&UN("z",e,r,this.animationValues);for(let a=0;a<MN.length;a++)UN("rotate".concat(MN[a]),e,r,this.animationValues),UN("skew".concat(MN[a]),e,r,this.animationValues);e.render();for(const a in r)e.setStaticValue(a,r[a]),this.animationValues&&(this.animationValues[a]=r[a]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Xb(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Xb(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!ag(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const a=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((a||i||s)&&(r="translate3d(".concat(a,"px, ").concat(i,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:a,rotateY:i,skewX:s,skewY:o}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),a&&(r+="rotateX(".concat(a,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),o&&(r+="skewY(".concat(o,"deg) "))}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+="scale(".concat(o,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a);n&&(i=n(a,i)),e.transform=i;const{x:s,y:o}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*s.origin,"% ").concat(100*o.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=a.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:e.opacity=r===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const d in gb){if(void 0===a[d])continue;const{correct:t,applyTo:n,isCSSVariable:s}=gb[d],o="none"===i?a[d]:t(a[d],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=o}else s?this.options.visualElement.renderState.vars[d]=o:e[d]=o}this.options.layoutId&&(e.pointerEvents=r===this?Xb(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(KN),this.root.sharedNodes.clear()}}}function VN(e){e.updateLayout()}function HN(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:a}=e.options,i=n.source!==e.layout.source;"size"===a?Dj(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],a=Lj(r);r.min=t[e].min,r.max=r.min+a}):ck(a,n.layoutBox,t)&&Dj(r=>{const a=i?n.measuredBox[r]:n.layoutBox[r],s=Lj(t[r]);a.max=a.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ej(s,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?Ej(o,e.applyTransform(r,!0),n.measuredBox):Ej(o,t,n.layoutBox);const l=!PN(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:a,layout:i}=r;if(a&&i){const s={x:{min:0,max:0},y:{min:0,max:0}};Rj(s,n.layoutBox,a.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Rj(o,t,i.layoutBox),TN(s,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function WN(e){qg.value&&IN.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function GN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function YN(e){e.clearSnapshot()}function KN(e){e.clearMeasurements()}function $N(e){e.isLayoutDirty=!1}function JN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function XN(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function QN(e){e.resolveTargetDelta()}function ZN(e){e.calcProjection()}function ek(e){e.resetSkewAndRotation()}function tk(e){e.removeLeadSnapshot()}function nk(e,t,n){e.translate=tg(t.translate,0,n),e.scale=tg(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rk(e,t,n,r){e.min=tg(t.min,n.min,r),e.max=tg(t.max,n.max,r)}function ak(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ik={duration:.45,ease:[.4,0,.1,1]},sk=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ok=sk("applewebkit/")&&!sk("chrome/")?Math.round:Bg;function lk(e){e.min=ok(e.min),e.max=ok(e.max)}function ck(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=RN(t),a=RN(n),i=.2,!(Math.abs(r-a)<=i));var r,a,i}function dk(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const uk=qN({attachResizeListener:(e,t)=>_j(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hk={current:void 0},pk=qN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hk.current){const e=new uk({});e.mount(window),e.setOptions({layoutScroll:!0}),hk.current=e}return hk.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),mk={pan:{Feature:class extends xj{constructor(){super(...arguments),this.removePointerDownListener=Bg}onPointerDown(e){this.session=new Mj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Oj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Zj(e),onStart:Zj(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Hg.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=Cj(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends xj{constructor(e){super(e),this.removeGroupControls=Bg,this.removeListeners=Bg,this.controls=new Xj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bg}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:pk,MeasureLayout:sN}};function fk(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let a=document;t&&(a=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[n,ke(ke({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function vk(e){return!("touch"===e.pointerType||kj())}function gk(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const a=r["onHover"+n];a&&Hg.postRender(()=>a(t,Aj(t)))}const yk=(e,t)=>!!t&&(e===t||yk(e,t.parentElement)),bk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const xk=new WeakSet;function wk(e){return t=>{"Enter"===t.key&&e(t)}}function jk(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Nk(e){return Sj(e)&&!kj()}function kk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,a,i]=fk(e,n),s=e=>{const r=e.currentTarget;if(!Nk(e))return;xk.add(r);const i=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),xk.has(r)&&xk.delete(r),Nk(e)&&"function"===typeof i&&i(e,{success:t})},o=e=>{s(e,r===window||r===document||n.useGlobalTarget||yk(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,a),window.addEventListener("pointercancel",l,a)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,a),lN(t=e)&&"offsetHeight"in t&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=wk(()=>{if(xk.has(n))return;jk(n,"down");const e=wk(()=>{jk(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>jk(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,a)),function(e){return bk.has(e.tagName)||-1!==e.tabIndex}(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function _k(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const a=r["onTap"+("End"===n?"":n)];a&&Hg.postRender(()=>a(t,Aj(t)))}const Sk=["root"],Ak=new WeakMap,Ck=new WeakMap,Lk=e=>{const t=Ak.get(e.target);t&&t(e)},Pk=e=>{e.forEach(Lk)};function Ek(e,t,n){const r=function(e){let{root:t}=e,n=ea(e,Sk);const r=t||document;Ck.has(r)||Ck.set(r,{});const a=Ck.get(r),i=JSON.stringify(n);return a[i]||(a[i]=new IntersectionObserver(Pk,ke({root:t},n))),a[i]}(t);return Ak.set(e,n),r.observe(e),()=>{Ak.delete(e),r.unobserve(e)}}const Fk={some:0,all:1};const Tk={inView:{Feature:class extends xj{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:a}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Fk[r]};return Ek(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends xj{mount(){const{current:e}=this.node;e&&(this.unmount=kk(e,(e,t)=>(_k(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return _k(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends xj{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n_){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kx(_j(this.node.current,"focus",()=>this.onFocus()),_j(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends xj{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,a,i]=fk(e,n),s=e=>{if(!vk(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{vk(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,a)};return r.forEach(e=>{e.addEventListener("pointerenter",s,a)}),i}(e,(e,t)=>(gk(this.node,t,"Start"),e=>gk(this.node,e,"End"))))}unmount(){}}}},Rk={layout:{ProjectionNode:pk,MeasureLayout:sN}},Dk=px(ke(ke(ke(ke({},jj),Tk),mk),Rk),Fb),Ok=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;function Ik(){const{login:e}=Ae(),t=te(),[n,r]=(0,i.useState)({email:"",password:""}),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(!1);return(0,_e.jsx)("div",{className:"auth-wrap",children:(0,_e.jsxs)("div",{className:"auth-shell",children:[(0,_e.jsxs)(Dk.section,{className:"auth-showcase",variants:{hidden:{opacity:0,x:-28},show:{opacity:1,x:0,transition:{duration:.6,ease:"easeOut"}}},initial:"hidden",animate:"show",children:[(0,_e.jsx)("span",{className:"auth-badge",children:"Smart Hardware"}),(0,_e.jsx)("h1",{className:"auth-title",children:"Sign back in to keep building"}),(0,_e.jsx)("p",{className:"auth-subtitle",children:"Stay in sync with live inventory, orders, and supplier updates across your smart hardware ecosystem."}),(0,_e.jsxs)("ul",{className:"auth-perks",children:[(0,_e.jsxs)("li",{children:[(0,_e.jsx)("span",{className:"perk-icon",children:"\u26a1"})," Lightning-fast order tracking"]}),(0,_e.jsxs)("li",{children:[(0,_e.jsx)("span",{className:"perk-icon",children:"\ud83d\udee1\ufe0f"})," Secure, role-based dashboards"]}),(0,_e.jsxs)("li",{children:[(0,_e.jsx)("span",{className:"perk-icon",children:"\ud83e\udd1d"})," Collaborative supplier workspace"]})]}),(0,_e.jsxs)("div",{className:"auth-cta",children:[(0,_e.jsx)("p",{className:"muted",children:"New here?"}),(0,_e.jsx)(it,{to:"/register",className:"btn btn-secondary",children:"Create an account"})]})]}),(0,_e.jsxs)(Dk.form,{className:"auth-card auth-card--form",onSubmit:async r=>{if(r.preventDefault(),l(""),!Ok.test(n.email))return l("Enter a valid email");if(!n.password||n.password.length<6)return l("Password too short");try{d(!0);const{token:r}=await e(n.email,n.password);r&&localStorage.setItem("token",r),t("/",{replace:!0})}catch(a){l(a.message||"Login failed")}finally{d(!1)}},noValidate:!0,variants:{hidden:{opacity:0,y:22},show:{opacity:1,y:0,transition:{duration:.55,ease:"easeOut",delay:.1}}},initial:"hidden",animate:"show",children:[(0,_e.jsxs)("div",{className:"auth-card__header",children:[(0,_e.jsx)("h2",{children:"Welcome back"}),(0,_e.jsx)("p",{className:"small",children:"Sign in to access your Smart Hardware dashboard."})]}),o&&(0,_e.jsx)("div",{className:"alert",role:"alert","aria-live":"assertive",children:o}),(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"login-email",children:"Email"}),(0,_e.jsx)("input",{id:"login-email",type:"email",value:n.email,onChange:e=>r(ke(ke({},n),{},{email:e.target.value})),placeholder:"you@example.com",autoComplete:"username",required:!0})]}),(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"login-password",children:"Password"}),(0,_e.jsxs)("div",{className:"pwd-field",children:[(0,_e.jsx)("input",{id:"login-password",type:a?"text":"password",value:n.password,onChange:e=>r(ke(ke({},n),{},{password:e.target.value})),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",autoComplete:"current-password",required:!0}),(0,_e.jsx)("button",{type:"button",className:"icon-btn toggle-visibility",onClick:()=>s(e=>!e),"aria-label":a?"Hide password":"Show password",children:a?"Hide":"Show"})]})]}),(0,_e.jsx)("button",{className:"btn btn-primary wide auth-submit",disabled:c,children:c?"Signing in...":"Sign In"}),(0,_e.jsxs)("p",{className:"small center auth-mobile-cta",children:["New to Smart Hardware?"," ",(0,_e.jsx)(it,{to:"/register",className:"link",children:"Create an account"})]})]})]})})}const Mk=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i,Bk=/^(?=.*[A-Za-z])(?=.*\d).{6,}$/;function Uk(){const{signup:e}=Ae(),t=te(),[n,r]=(0,i.useState)({name:"",email:"",password:"",confirm:"",age:"",address:"",agree:!1}),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)(!1),p=e=>t=>r(n=>ke(ke({},n),{},{[e]:t.target.value}));return(0,_e.jsx)("div",{className:"auth-wrap",children:(0,_e.jsxs)("div",{className:"auth-shell",children:[(0,_e.jsxs)(Dk.section,{className:"auth-showcase auth-showcase--signup",variants:{hidden:{opacity:0,x:-24},show:{opacity:1,x:0,transition:{duration:.6,ease:"easeOut"}}},initial:"hidden",animate:"show",children:[(0,_e.jsx)("span",{className:"auth-badge",children:"Smart Hardware"}),(0,_e.jsx)("h1",{className:"auth-title",children:"Create your smart workspace HQ"}),(0,_e.jsx)("p",{className:"auth-subtitle",children:"Unlock member-only pricing, track every delivery, and keep your crews in sync with effortless automation."}),(0,_e.jsxs)("ul",{className:"auth-perks",children:[(0,_e.jsxs)("li",{children:[(0,_e.jsx)("span",{className:"perk-icon",children:"\ud83e\uddf0"})," Personalized project dashboards"]}),(0,_e.jsxs)("li",{children:[(0,_e.jsx)("span",{className:"perk-icon",children:"\ud83d\udce6"})," Live shipment & stock alerts"]}),(0,_e.jsxs)("li",{children:[(0,_e.jsx)("span",{className:"perk-icon",children:"\ud83d\udcac"})," Supplier collaboration tools"]})]}),(0,_e.jsxs)("div",{className:"auth-cta",children:[(0,_e.jsx)("p",{className:"muted",children:"Already with us?"}),(0,_e.jsx)(it,{to:"/login",className:"btn btn-secondary",children:"Sign in"})]})]}),(0,_e.jsxs)(Dk.form,{className:"auth-card auth-card--form",onSubmit:async r=>{if(r.preventDefault(),d(""),!n.name.trim())return d("Name is required");if(!Mk.test(n.email))return d("Enter a valid email");if(!Bk.test(n.password))return d("Use letters & numbers (min 6)");if(n.password!==n.confirm)return d("Passwords do not match");if(!n.agree)return d("Please accept Terms & Privacy");try{h(!0),await e({name:n.name,email:n.email,password:n.password,age:n.age?Number(n.age):void 0,address:n.address||void 0}),t("/dashboard?tab=orders")}catch(a){d(a.message||"Signup failed")}finally{h(!1)}},noValidate:!0,variants:{hidden:{opacity:0,y:24},show:{opacity:1,y:0,transition:{duration:.55,ease:"easeOut",delay:.1}}},initial:"hidden",animate:"show",children:[(0,_e.jsxs)("div",{className:"auth-card__header",children:[(0,_e.jsx)("h2",{children:"Join Smart Hardware"}),(0,_e.jsx)("p",{className:"small",children:"We're excited to build with you."})]}),(0,_e.jsxs)("div",{className:"auth-toast",role:"note",children:[(0,_e.jsx)("span",{className:"auth-toast__icon","aria-hidden":"true",children:"\ud83c\udf89"}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"auth-toast__title",children:"Welcome aboard!"}),(0,_e.jsx)("p",{className:"auth-toast__body",children:"Fill in your details below to unlock instant access to curated deals, shipment tracking, and project insights tailored for your team."})]})]}),c&&(0,_e.jsx)("div",{className:"alert",role:"alert","aria-live":"assertive",children:c}),(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"signup-name",children:"Full name"}),(0,_e.jsx)("input",{id:"signup-name",className:"input",value:n.name,onChange:p("name"),placeholder:"Jane Doe",autoComplete:"name",required:!0})]}),(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"signup-email",children:"Email"}),(0,_e.jsx)("input",{id:"signup-email",className:"input",type:"email",value:n.email,onChange:p("email"),placeholder:"you@example.com",autoComplete:"email",required:!0})]}),(0,_e.jsxs)("div",{className:"auth-grid",children:[(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"signup-password",children:"Password"}),(0,_e.jsxs)("div",{className:"pwd-field",children:[(0,_e.jsx)("input",{id:"signup-password",className:"input",type:a?"text":"password",value:n.password,onChange:p("password"),placeholder:"Create a password",autoComplete:"new-password",required:!0}),(0,_e.jsx)("button",{type:"button",className:"icon-btn toggle-visibility",onClick:()=>s(e=>!e),"aria-label":a?"Hide password":"Show password",children:a?"Hide":"Show"})]}),(0,_e.jsx)("p",{className:"auth-hint",children:"Use at least 6 characters with letters and numbers."})]}),(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"signup-confirm",children:"Confirm password"}),(0,_e.jsxs)("div",{className:"pwd-field",children:[(0,_e.jsx)("input",{id:"signup-confirm",className:"input",type:o?"text":"password",value:n.confirm,onChange:p("confirm"),placeholder:"Repeat your password",autoComplete:"new-password",required:!0}),(0,_e.jsx)("button",{type:"button",className:"icon-btn toggle-visibility",onClick:()=>l(e=>!e),"aria-label":o?"Hide confirm password":"Show confirm password",children:o?"Hide":"Show"})]})]})]}),(0,_e.jsxs)("div",{className:"auth-grid",children:[(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"signup-age",children:"Age (optional)"}),(0,_e.jsx)("input",{id:"signup-age",className:"input",type:"number",value:n.age,onChange:p("age"),placeholder:"eg: 25",min:"17",inputMode:"numeric"})]}),(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"signup-address",children:"Address (optional)"}),(0,_e.jsx)("input",{id:"signup-address",className:"input",value:n.address,onChange:p("address"),placeholder:"123 Main St",autoComplete:"street-address"})]})]}),(0,_e.jsxs)("label",{className:"auth-checkbox",children:[(0,_e.jsx)("input",{type:"checkbox",checked:n.agree,onChange:e=>r(t=>ke(ke({},t),{},{agree:e.target.checked}))}),(0,_e.jsx)("span",{children:"I agree to the Terms & Privacy Policy."})]}),(0,_e.jsx)("button",{className:"btn btn-primary wide auth-submit",disabled:u,children:u?"Creating...":"Create account"}),(0,_e.jsxs)("p",{className:"small center auth-mobile-cta",children:["Already have an account?"," ",(0,_e.jsx)(it,{to:"/login",className:"link",children:"Sign in"})]}),(0,_e.jsxs)("p",{className:"small center auth-secondary-link",children:["Want to partner with us?"," ",(0,_e.jsx)(it,{to:"/register-supplier",className:"link",children:"Register as a supplier"})]})]})]})})}const zk=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i,qk=/^(?=.*[A-Za-z])(?=.*\d).{6,}$/;function Vk(){const{registerSupplier:e}=Ae(),t=te(),[n,r]=(0,i.useState)({name:"",email:"",password:"",confirm:"",address:"",agree:!1}),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)(!1),p=e=>t=>r(n=>ke(ke({},n),{},{[e]:t.target.value}));return(0,_e.jsx)("div",{className:"auth-wrap",children:(0,_e.jsxs)("div",{className:"auth-shell auth-shell--supplier",children:[(0,_e.jsxs)(Dk.section,{className:"auth-showcase auth-showcase--supplier",variants:{hidden:{opacity:0,x:-24},show:{opacity:1,x:0,transition:{duration:.6,ease:"easeOut"}}},initial:"hidden",animate:"show",children:[(0,_e.jsx)("span",{className:"auth-badge",children:"Smart Hardware Partners"}),(0,_e.jsx)("h1",{className:"auth-title",children:"Supplier success starts here"}),(0,_e.jsx)("p",{className:"auth-subtitle",children:"Connect your catalog, receive instant RFQs, and get paid faster with our streamlined procurement hub."}),(0,_e.jsxs)("ul",{className:"auth-perks",children:[(0,_e.jsxs)("li",{children:[(0,_e.jsx)("span",{className:"perk-icon",children:"\ud83d\udcc8"})," Real-time demand insights"]}),(0,_e.jsxs)("li",{children:[(0,_e.jsx)("span",{className:"perk-icon",children:"\ud83e\uddfe"})," Automated invoicing & PO workflows"]}),(0,_e.jsxs)("li",{children:[(0,_e.jsx)("span",{className:"perk-icon",children:"\ud83d\ude9a"})," Logistics tracking for every delivery"]})]}),(0,_e.jsxs)("div",{className:"auth-cta",children:[(0,_e.jsx)("p",{className:"muted",children:"Already onboard?"}),(0,_e.jsx)(it,{to:"/login",className:"btn btn-secondary",children:"Supplier sign in"})]})]}),(0,_e.jsxs)(Dk.form,{className:"auth-card auth-card--form",onSubmit:async r=>{if(r.preventDefault(),d(""),!n.name.trim())return d("Business name is required");if(!zk.test(n.email))return d("Enter a valid email address");if(!qk.test(n.password))return d("Password must include letters and numbers (min 6 characters)");if(n.password!==n.confirm)return d("Passwords do not match");if(!n.agree)return d("Please accept the supplier terms");try{h(!0),await e({name:n.name,email:n.email,password:n.password,address:n.address||void 0}),t("/SupplierDashboard")}catch(a){d(a.message||"Failed to create supplier account")}finally{h(!1)}},noValidate:!0,variants:{hidden:{opacity:0,y:24},show:{opacity:1,y:0,transition:{duration:.55,ease:"easeOut",delay:.1}}},initial:"hidden",animate:"show",children:[(0,_e.jsxs)("div",{className:"auth-card__header",children:[(0,_e.jsx)("h2",{children:"Register as a supplier"}),(0,_e.jsx)("p",{className:"small",children:"We just need a few details to open your portal."})]}),(0,_e.jsxs)("div",{className:"auth-toast",role:"note",children:[(0,_e.jsx)("span",{className:"auth-toast__icon","aria-hidden":"true",children:"\ud83e\udd1d"}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"auth-toast__title",children:"Welcome, partner!"}),(0,_e.jsx)("p",{className:"auth-toast__body",children:"Complete the form and our vendor success team will help you list products, sync inventory, and reach new buyers instantly."})]})]}),c&&(0,_e.jsx)("div",{className:"alert",role:"alert","aria-live":"assertive",children:c}),(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"supplier-name",children:"Business / contact name"}),(0,_e.jsx)("input",{id:"supplier-name",className:"input",value:n.name,onChange:p("name"),placeholder:"Acme Supplies",autoComplete:"organization",required:!0})]}),(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"supplier-email",children:"Work email"}),(0,_e.jsx)("input",{id:"supplier-email",className:"input",type:"email",value:n.email,onChange:p("email"),placeholder:"you@company.com",autoComplete:"email",required:!0})]}),(0,_e.jsxs)("div",{className:"auth-grid",children:[(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"supplier-password",children:"Password"}),(0,_e.jsxs)("div",{className:"pwd-field",children:[(0,_e.jsx)("input",{id:"supplier-password",className:"input",type:a?"text":"password",value:n.password,onChange:p("password"),placeholder:"Create a password",autoComplete:"new-password",required:!0}),(0,_e.jsx)("button",{type:"button",className:"icon-btn toggle-visibility",onClick:()=>s(e=>!e),"aria-label":a?"Hide password":"Show password",children:a?"Hide":"Show"})]}),(0,_e.jsx)("p",{className:"auth-hint",children:"Minimum 6 characters with at least one letter and one number."})]}),(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"supplier-confirm",children:"Confirm password"}),(0,_e.jsxs)("div",{className:"pwd-field",children:[(0,_e.jsx)("input",{id:"supplier-confirm",className:"input",type:o?"text":"password",value:n.confirm,onChange:p("confirm"),placeholder:"Repeat your password",autoComplete:"new-password",required:!0}),(0,_e.jsx)("button",{type:"button",className:"icon-btn toggle-visibility",onClick:()=>l(e=>!e),"aria-label":o?"Hide confirm password":"Show confirm password",children:o?"Hide":"Show"})]})]})]}),(0,_e.jsxs)("div",{className:"auth-field",children:[(0,_e.jsx)("label",{htmlFor:"supplier-address",children:"Business address (optional)"}),(0,_e.jsx)("input",{id:"supplier-address",className:"input",value:n.address,onChange:p("address"),placeholder:"123 Industrial Park",autoComplete:"street-address"})]}),(0,_e.jsxs)("label",{className:"auth-checkbox",children:[(0,_e.jsx)("input",{type:"checkbox",checked:n.agree,onChange:e=>r(t=>ke(ke({},t),{},{agree:e.target.checked}))}),(0,_e.jsx)("span",{children:"I agree to the Smart Hardware supplier partnership terms and service policies."})]}),(0,_e.jsx)("button",{className:"btn btn-primary wide auth-submit",disabled:u,children:u?"Creating supplier account...":"Create supplier account"}),(0,_e.jsxs)("p",{className:"small center auth-mobile-cta",children:["Already have a portal?"," ",(0,_e.jsx)(it,{to:"/login",className:"link",children:"Sign in"})]}),(0,_e.jsxs)("p",{className:"small center auth-secondary-link",children:["Need a customer seat instead?"," ",(0,_e.jsx)(it,{to:"/register",className:"link",children:"Register here"})]})]})]})})}const Hk=e=>{if(!e)return"";const t=String(e).replace(/[_-]/g," ").replace(/\s+/g," ").trim().toLowerCase();return"customer"===t?"user":["customer care","customer care manger","customer care manager"].includes(t)?"customer care manager":t},Wk=["manage_inventory","inv_view_stock","inv_update_stock","inv_reorder","inv_receive_goods","inv_reports"],Gk=["fin_view_online_payments","fin_view_supplier_payments","fin_view_declined_payments","fin_manage_declined_payments","fin_manage_salary","fin_view_finance_notifications","fin_export_statements","fin_record_payments","fin_payroll","fin_view_dashboard","fin_payments","fin_payouts","fin_reconcile","fin_reports","fin_statements","fin_view_notifications"],Yk=["cc_view_feedback","cc_respond_feedback","cc_manage_returns","moderate_feedback","refund_view_requests","refund_manage_requests"],Kk=Yk,$k=["supplier_portal","supplier_manage_products","supplier_receive_orders","supplier_manage_inventory","manage_suppliers"],Jk=["sales_manage_orders","sales_process_refunds","sales_manage_discounts","sales_view_reports","sales_dashboard","sales_refund","sales_promotions","sales_reports",...$k],Xk=Array.from(new Set(Jk)),Qk=Array.from(new Set(["manage_users","manage_roles","manage_products","manage_all_orders","system_config","view_reports","view_analytics","export_data","view_products","place_orders","view_own_orders","submit_feedback",...Wk,...Gk,...Yk,...Jk]));function Zk(e){let{children:t,roles:n,privileges:r}=e;const{user:a}=Ae();if(!a)return(0,_e.jsx)(ge,{to:"/login",replace:!0});const i=Hk(a.role),s=Array.isArray(n)?n.map(Hk):[],o=new Set(((null===a||void 0===a?void 0:a.permissions)||[]).map(e=>String(e||"").trim().toLowerCase())),l=!!Array.isArray(r)&&r.some(e=>o.has(String(e||"").trim().toLowerCase()));return 0===s.length||s.includes(i)||l?null!==r&&void 0!==r&&r.length&&!l&&0===s.length?(0,_e.jsx)(ge,{to:"/",replace:!0}):t:(0,_e.jsx)(ge,{to:"/",replace:!0})}function e_(e){let{children:t}=e;const{user:n}=Ae();return n?(0,_e.jsx)(ge,{to:"/",replace:!0}):t}const t_=function(){const e=Z(),t=e.pathname.toLowerCase(),n=["/login","/register","/register-supplier"].includes(t),r=t.includes("dashboard"),a="/"===e.pathname||n||r;return(0,_e.jsx)(De,{children:(0,_e.jsx)(Ke,{children:(0,_e.jsxs)(We,{children:[(0,_e.jsx)(Cv,{}),(0,_e.jsx)("div",{className:"content ".concat(a?"content--flush":""," ").concat(n?"content--auth":""),children:(0,_e.jsxs)(xe,{children:[(0,_e.jsx)(ye,{path:"/",element:(0,_e.jsx)(gv,{})}),(0,_e.jsx)(ye,{path:"/about",element:(0,_e.jsx)(xv,{})}),(0,_e.jsx)(ye,{path:"/login",element:(0,_e.jsx)(e_,{children:(0,_e.jsx)(Ik,{})})}),(0,_e.jsx)(ye,{path:"/register",element:(0,_e.jsx)(e_,{children:(0,_e.jsx)(Uk,{})})}),(0,_e.jsx)(ye,{path:"/register-supplier",element:(0,_e.jsx)(e_,{children:(0,_e.jsx)(Vk,{})})}),(0,_e.jsx)(ye,{path:"/product/:id",element:(0,_e.jsx)(Qr,{})}),(0,_e.jsx)(ye,{path:"/customer-products",element:(0,_e.jsx)(zr,{})}),(0,_e.jsx)(ye,{path:"/CustomerDashboard",element:(0,_e.jsx)(Zk,{roles:["user"],children:(0,_e.jsx)(ge,{to:"/dashboard?tab=orders",replace:!0})})}),(0,_e.jsx)(ye,{path:"/customercart",element:(0,_e.jsx)(Zk,{roles:["user"],children:(0,_e.jsx)(Pp,{})})}),(0,_e.jsx)(ye,{path:"/PaymentSuccess",element:(0,_e.jsx)(Zk,{roles:["user"],children:(0,_e.jsx)(Bf,{})})}),(0,_e.jsx)(ye,{path:"/Checkout",element:(0,_e.jsx)(Zk,{roles:["user"],children:(0,_e.jsx)(Pf,{})})}),(0,_e.jsx)(ye,{path:"/add-review",element:(0,_e.jsx)(Zk,{roles:["user"],children:(0,_e.jsx)(qf,{})})}),(0,_e.jsx)(ye,{path:"/CustomerOrders",element:(0,_e.jsx)(Zk,{roles:["user","admin"],children:(0,_e.jsx)(Op,{allowReceipts:!0})})}),(0,_e.jsx)(ye,{path:"/refunds",element:(0,_e.jsx)(Zk,{roles:["user","admin"],children:(0,_e.jsx)(av,{})})}),(0,_e.jsx)(ye,{path:"/refund-request",element:(0,_e.jsx)(Zk,{roles:["user","admin"],children:(0,_e.jsx)(iv,{})})}),(0,_e.jsx)(ye,{path:"/receipt/:orderId",element:(0,_e.jsx)(Zk,{roles:["user","admin"],children:(0,_e.jsx)(Tf,{})})}),(0,_e.jsx)(ye,{path:"/CancelledOrders",element:(0,_e.jsx)(Zk,{roles:["user","admin"],children:(0,_e.jsx)(Mp,{})})}),(0,_e.jsx)(ye,{path:"/AdminDashboard",element:(0,_e.jsx)(Zk,{roles:["admin"],privileges:Qk,children:(0,_e.jsx)(kf,{})})}),(0,_e.jsx)(ye,{path:"/AdminCart",element:(0,_e.jsx)(Zk,{roles:["admin"],privileges:Qk,children:(0,_e.jsx)(Rf,{})})}),(0,_e.jsx)(ye,{path:"/AdminUpdateOrder/:id",element:(0,_e.jsx)(Zk,{roles:["admin"],privileges:Qk,children:(0,_e.jsx)(Mf,{})})}),(0,_e.jsx)(ye,{path:"/AdminCheckout",element:(0,_e.jsx)(Zk,{roles:["admin"],privileges:Qk,children:(0,_e.jsx)(Of,{})})}),(0,_e.jsx)(ye,{path:"/products",element:(0,_e.jsx)(Zk,{roles:["admin"],privileges:Qk,children:(0,_e.jsx)(Ir,{})})}),(0,_e.jsx)(ye,{path:"/AdminOrders",element:(0,_e.jsx)(Zk,{roles:["admin"],privileges:Qk,children:(0,_e.jsx)(If,{})})}),(0,_e.jsx)(ye,{path:"/add-product",element:(0,_e.jsx)(Zk,{roles:["admin"],privileges:Qk,children:(0,_e.jsx)(Mr,{})})}),(0,_e.jsx)(ye,{path:"/update-product/:id",element:(0,_e.jsx)(Zk,{roles:["admin"],privileges:Qk,children:(0,_e.jsx)(Br,{})})}),(0,_e.jsx)(ye,{path:"/admin-supplier-product",element:(0,_e.jsx)(Zk,{roles:["admin"],privileges:Qk,children:(0,_e.jsx)(Yr,{})})}),(0,_e.jsx)(ye,{path:"/caredashboard",element:(0,_e.jsx)(Zk,{roles:["customer care manager","feedback manager","admin"],privileges:Kk,children:(0,_e.jsx)(Zf,{})})}),(0,_e.jsx)(ye,{path:"/supplier-products",element:(0,_e.jsx)(Zk,{roles:["supplier","admin"],privileges:$k,children:(0,_e.jsx)(Gr,{})})}),(0,_e.jsx)(ye,{path:"/product/:id/reviews",element:(0,_e.jsx)(Zk,{roles:["user","supplier","admin"],children:(0,_e.jsx)(Qf,{})})}),(0,_e.jsx)(ye,{path:"/add-supplier-product",element:(0,_e.jsx)(Zk,{roles:["supplier","admin"],privileges:$k,children:(0,_e.jsx)(Vr,{})})}),(0,_e.jsx)(ye,{path:"/update-supplier-product/:id",element:(0,_e.jsx)(Zk,{roles:["supplier","admin"],privileges:$k,children:(0,_e.jsx)($r,{})})}),(0,_e.jsx)(ye,{path:"/supplier-admin-product/:id",element:(0,_e.jsx)(Zk,{roles:["supplier","admin"],privileges:$k,children:(0,_e.jsx)(Zr,{})})}),(0,_e.jsx)(ye,{path:"/ReceivedOrders",element:(0,_e.jsx)(Zk,{roles:["supplier"],privileges:$k,children:(0,_e.jsx)(_f,{})})}),(0,_e.jsx)(ye,{path:"/SupplierDashboard",element:(0,_e.jsx)(Zk,{roles:["supplier"],privileges:$k,children:(0,_e.jsx)(Cf,{})})}),(0,_e.jsx)(ye,{path:"/dashboard",element:(0,_e.jsx)(Zk,{children:(0,_e.jsx)(Jm,{})})}),(0,_e.jsx)(ye,{path:"/FinanceDashboard",element:(0,_e.jsx)(Zk,{roles:["admin","finance manager"],privileges:Gk,children:(0,_e.jsx)(Xm,{})})}),(0,_e.jsx)(ye,{path:"/SalesDashboard",element:(0,_e.jsx)(Zk,{roles:["admin","sales manager","supplier"],privileges:Xk,children:(0,_e.jsx)(Qm,{})})}),(0,_e.jsx)(ye,{path:"/InventoryDashboard",element:(0,_e.jsx)(Zk,{roles:["admin","inventory manager"],privileges:Wk,children:(0,_e.jsx)(Zm,{})})})]})}),(0,_e.jsx)(Ov,{})]})})})};(0,o.createRoot)(document.getElementById("root")).render((0,_e.jsx)(i.StrictMode,{children:(0,_e.jsx)(nt,{children:(0,_e.jsx)(t_,{})})}))})();
//# sourceMappingURL=main.0957296d.js.map